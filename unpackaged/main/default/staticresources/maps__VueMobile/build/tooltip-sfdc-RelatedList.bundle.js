"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[2195],{9833:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var a=s(5908),r=s(2423),i=s(3057),o=s(9709);const n={components:{MASpinner:i.Z,PhoneTooltip:o.Z},data(){return{isLoading:!1,errorInfo:{hasError:!1,message:this.$Labels.Error_Retrieving_Related_List},relatedListData:{},firstColumnIndexMap:{}}},computed:{...(0,a.mapGetters)("tooltip",{tooltip__record:"record",tooltip__queryMetaData:"queryMetaData"})},created(){this.errorInfo.message=this.$Labels.Error_Retrieving_Related_List,this.isLoading=!0,this.getRelatedListInfo().then((e=>{this.relatedListData=e})).catch((e=>{this.errorInfo.hasError=!0,this.errorInfo.message=e.message})).finally((()=>{this.isLoading=!1}))},methods:{getRelatedListInfo(){return new Promise(((e,t)=>{const s={ajaxResource:"TooltipAJAXResources",action:"getRelatedList",sqid:this.tooltip__queryMetaData.savedQueryId,parentid:this.tooltip__record.Id};(new r.Z).setAction("maps.RemoteFunctions.processAJAXRequest").setErrorHandler(((e,s)=>{const a=window.MA.isUserLoggedIn(e,s,!1);let r=s.message||this.$Labels.Common_Refresh_And_Try_Again_Contact_Admin;a&&(r=a),t(new Error(r))})).invoke([s],(s=>{const{success:a=!1,data:r=[]}=s;a?e(r):(console.warn(s),t(new Error(this.$Labels.Error_Retrieving_Related_List)))}),{buffer:!1})}))},htmlDecode:e=>window.htmlDecode(e),determineFirstColumn(e,t,s){const a=`${s}${e}`;return null==this.firstColumnIndexMap[a]&&(this.firstColumnIndexMap[a]=t,!0)}}},d=(0,s(1900).Z)(n,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"ma-tab-content slds-scope RelatedList active"},[e.isLoading?t("MASpinner"):t("div",[e.errorInfo.hasError?t("div",[e._v("\n            "+e._s(e._f("decode")(e.errorInfo.message))+"\n        ")]):t("div",e._l(e.relatedListData,(function(s,a){return t("div",{key:a,staticClass:"relatedListWrapper ma-list",attrs:{"data-id":"list-0"}},[t("div",{staticClass:"tooltip-segment-item relatedListHeader",staticStyle:{"padding-bottom":"0px"},attrs:{"data-id":"list-0"}},[void 0!==s.related_list_label?t("h4",[e._v(e._s(e._f("decode")(s.related_list_label)))]):t("h4",[e._v(e._s(e._f("decode")(s.object_name))+" ("+e._s(e._f("decode")(s.object_name_plural))+")")]),e._v(" "),e._l(s.related_records,(function(s,r){return t("div",{key:r},e._l(s.columns,(function(i,o){return t("div",{key:o},[t("div",{staticClass:"ma-list-header",staticStyle:{padding:"5px 10px"}},[t("div",{staticClass:"ma-list-item-name"},[e._v(e._s(e._f("decode")(i.label)))])]),e._v(" "),t("div",{staticClass:"relatedListData",attrs:{"data-id":"list-0"}},[t("div",{staticClass:"ma-list-item"},[i.is_relationship?[t("a",{attrs:{href:"/"+i.relationship_id}},[e._v("\n                                            "+e._s(e._f("decode")(i.value)))])]:e.determineFirstColumn(r,o,a)?[i.is_htmlFormatted?t("a",{attrs:{href:"/"+s.Id}},[t("div",{domProps:{innerHTML:e._s(e.htmlDecode(i.value))}})]):t("a",{attrs:{href:"/"+s.Id}},[e._v(e._s(e._f("decode")(i.value)))])]:i.is_htmlFormatted?[t("div",{domProps:{innerHTML:e._s(e.htmlDecode(i.value))}})]:"phone"===i.displayType.toLowerCase()?[t("PhoneTooltip",{attrs:{phone:i.value}})]:[e._v("\n                                        "+e._s(e._f("decode")(i.value))+"\n                                    ")]],2)])])})),0)}))],2)])})),0)])],1)}),[],!1,null,null,null).exports},9709:(e,t,s)=>{s.d(t,{Z:()=>r});const a={props:{phone:{type:String,required:!0}}},r=(0,s(1900).Z)(a,(function(){var e=this;return(0,e._self._c)("a",{attrs:{href:`tel:${e.phone}`}},[e._v(e._s(e.phone))])}),[],!1,null,null,null).exports}}]);