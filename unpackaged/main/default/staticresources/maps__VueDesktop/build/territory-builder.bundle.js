(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[318,283],{9401:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>S});var a=r(9048),s=r(4461),i=r(9974),n=r(9486),o=r(2646);const l={components:{TextInput:o.oi},props:{layer:{type:Object,required:!0},validator:{type:Object,required:!0},invalidEmailAddressLabel:{type:String,default:()=>(void 0).$Labels.MA_Invalid_Email_Address},requiredEmailAddressLabel:{type:String,default:()=>(void 0).$Labels.MA_Field_Req},requiredNameLabel:{type:String,default:()=>(void 0).$Labels.MA_Field_Req}},methods:{getValidationMessages(e){const t=[];return"Name"===e&&this.$props.validator.Name.$dirty?this.$props.validator.Name.required||t.push(this.requiredNameLabel):"EmailOnAggregationSuccess__c"===e&&this.$props.validator.EmailOnAggregationSuccess__c.$dirty&&(this.$props.validator.EmailOnAggregationSuccess__c.email?this.$props.validator.EmailOnAggregationSuccess__c.required||t.push(this.requiredEmailAddressLabel):t.push(this.invalidEmailAddressLabel)),t}}};var d=r(1900);const u=(0,d.Z)(l,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"slds-grid slds-p-around_small"},[t("div",{staticClass:"slds-col slds-size_4-of-12"},[t("div",{staticClass:"slds-form slds-form_stacked"},[t("div",{staticClass:"slds-form-element"},[t("TextInput",{attrs:{required:!0,errors:e.getValidationMessages("Name"),labels:{name:e.$Labels.MA_Name,placeholder:e.$Labels.Layers_Territory_Modal_Name_Placeholder_Text,required:e.$Labels.MA_Required}},on:{changed:e.validator.Name.$touch},model:{value:e.layer.Name,callback:function(t){e.$set(e.layer,"Name",t)},expression:"layer.Name"}})],1),e._v(" "),t("div",{staticClass:"slds-form-element"},[t("TextInput",{attrs:{required:!0,errors:e.getValidationMessages("EmailOnAggregationSuccess__c"),labels:{name:e.$Labels.Layers_Territory_Modal_Email_Prompt_Text,placeholder:e.$Labels.Layers_Territory_Modal_Email_Placeholder_Text}},on:{changed:e.validator.EmailOnAggregationSuccess__c.$touch},model:{value:e.layer.EmailOnAggregationSuccess__c,callback:function(t){e.$set(e.layer,"EmailOnAggregationSuccess__c",t)},expression:"layer.EmailOnAggregationSuccess__c"}})],1)])])])}),[],!1,null,null,null).exports;var c=r(7899),g=r(7318),_=r(5947);const f={components:{TreeViewer:c.Z},props:{initialState:{type:Object,default:()=>{}}},data(){return{treeData:new g.Z(this.initialState),valid:!0,shapeLayerError:!1,nodeNameError:!1,isValidated:!1}},watch:{initialState(e){this.treeData=new g.Z(e)}},created(){this.$bus.$on("give-me-tree",(e=>{e(this.treeData)})),this.$bus.$on("give-me-hierarchy-validation",(e=>{this.valid=!this.isTreeInvalid(this.treeData),this.isValidated=!0,e(this.valid)}))},destroyed(){this.$bus.$off("give-me-tree"),this.$bus.$off("give-me-hierarchy-validation")},methods:{isTreeInvalid(e){let t=!1;return e.valid=!0,e.nameValid=!0,this.shapeLayerError=!1,this.nodeNameError=!1,e.record.Name&&""!==e.record.Name.trim()||(e.nameValid=!1,this.valid=!1,this.nodeNameError=!0,t=!0),e.children.length||e.record.ShapeLayer__c||(e.valid=!1,this.shapeLayerError=!0,t=!0),e.children.forEach((e=>{const r=this.isTreeInvalid(e);r&&(t=r)})),t},deselectAll(){(0,_.kR)(this.treeData)}}},m=(0,d.Z)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"tree-wrapper"},[t("div",{staticClass:"slds-p-vertical_small slds-text-body_small"},[e._v("\n        "+e._s(e.$Labels.Layers_Territory_Modal_Hierarchy_Header)+"\n    ")]),e._v(" "),t("div",{staticClass:"slds-card"},[t("div",{staticClass:"slds-border_bottom slds-p-vertical_x-small slds-p-left_medium slds-grid territory-card-header"},[t("h4",{staticClass:"slds-text-title_caps"},[t("span",{staticClass:"ma-icon ma-icon-check"}),e._v("\n                "+e._s(e.$Labels.Layers_Territory_Modal_Hierarchy_Table_Header_Visible_By_Default)+"\n            ")])]),e._v(" "),t("div",{staticClass:"ma-territory-tree-container"},[t("TreeViewer",{attrs:{maxDepth:20,model:e.treeData,expandAll:""}})],1)])])}),[],!1,null,"592202c4",null).exports;var y=r(2072),h=r(379);const{MAToastMessages:v}=window,b={components:{Picklist:o.Gp,Spinner:o.$j,TextInput:o.oi},props:{aggregation:{type:Object,required:!0},validator:{type:Object,required:!0}},validations:{aggregation:{record:{Name:{required:h.C1},ValueField__c:{required:h.C1}}}},data(){return{searchTerm:"",searches:[{options:this.getMarkerLayers}],valueFields:[],showValueFieldPicklist:!1,isLoading:!1}},computed:{isEdit(){return this.aggregation.record.Id},isCreate(){return!this.isEdit}},watch:{recordForEdit:{handler(e){this.aggregation.record=e}},immediate:!0},methods:{getValidationMessages:(0,y.ed)({required:window.MASystem.Labels.MA_This_Field_Is_Required}),selected(e){this.aggregation.record.MarkerLayer__r={Id:e.Id,Name:e.label},this.renderValueFields(e.name)},valueFieldChanged(e){this.aggregation.valueFieldLabel=e.label,this.$emit("add",this.aggregation)},clearMarkerLayer(){this.searchTerm="",this.aggregation.record.ValueField__c="",this.valueFields=[]},async renderValueFields(e){this.isLoading=!0;try{const t=await(0,s.wX)(this.$Remoting.Territory.fetchNumberFieldsBySObjectName,[e]);t?(this.valueFields=t.fields,this.showValueFieldPicklist=!0):v.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Common_Refresh_And_Try_Again,timeOut:0,extendedTimeOut:0,closeButton:!0})}catch(e){v.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Common_Refresh_And_Try_Again,timeOut:0,extendedTimeOut:0,closeButton:!0})}this.isLoading=!1},getMarkerLayers(e){return new Promise(((t,r)=>{e&&""!==e||r(new Error(this.$Labels.MA_Enter_Search_Term)),(0,s.wX)(this.$Remoting.Territory.getTerritoryMarkerLayersBySearchTerm,[e],{buffer:!1}).then((({success:e=!1,data:a={},error:s=""})=>{if(e){const e=Object.entries(a).map((([e,{label:t,name:r,folder:a,isDisabled:s}])=>({Id:e,label:t,name:r,folder:a,isDisabled:s})));t(e)}else v.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Common_Refresh_And_Try_Again,timeOut:0,extendedTimeOut:0,closeButton:!0}),r(new Error(s))}))}))}}},p={components:{Aggregation:(0,d.Z)(b,(function(){var e=this,t=e._self._c;return t("li",{staticClass:"slds-expression__row"},[t("fieldset",[e.isLoading?t("Spinner",{attrs:{loadingLabel:e.$Labels.MA_Loading}}):e._e(),e._v(" "),t("legend",{staticClass:"slds-expression__legend"}),e._v(" "),t("div",{staticClass:"slds-grid slds-gutters_xx-small"},[t("div",{staticClass:"slds-col slds-size_1-of-4"},[t("div",{staticClass:"slds-form-element"},[t("TextInput",{attrs:{required:"",labels:{name:e.$Labels.MA_Name,required:e.$Labels.MA_Required},errors:e.getValidationMessages(e.$v.aggregation.record.Name)},model:{value:e.$v.aggregation.record.Name.$model,callback:function(t){e.$set(e.$v.aggregation.record.Name,"$model",t)},expression:"$v.aggregation.record.Name.$model"}})],1)]),e._v(" "),t("div",{staticClass:"slds-col slds-size_1-of-4"},[t("div",{staticClass:"slds-form-element"},[e.isCreate?t("Picklist",{attrs:{filterable:"",options:e.searches,labels:{name:e.$Labels.Layers_Territory_Modal_Aggregations_Marker_Layer_Text,search:`${e.$Labels.MA_Search_for}...`,noSearchResults:e.$Labels.MA_NO_RESULTS_FOUND},idKey:"Id",titleKey:"label"},on:{clear:e.clearMarkerLayer,"selected-option":e.selected},scopedSlots:e._u([{key:"result",fn:function(r){return t("span",{staticClass:"slds-listbox__option-text_entity slds-listbox__option slds-listbox__option_plain"},[t("div",[t("div",{staticClass:"slds-text-body_small"},[e._v(e._s(e._f("decode")(r.result.label)))]),e._v(" "),t("div",{staticClass:"slds-grid slds-grid_vertical-align-center"},[r.result.folder?t("span",{staticClass:"ma-icon ma-icon-folder ma-icon-small slds-m-right_x-small"}):e._e(),e._v(" "),t("span",{staticClass:"slds-text-color_weak slds-text-body_small"},[e._v(e._s(e._f("decode")(r.result.folder)))])])])])}}],null,!1,287910314),model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}}):t("div",[t("div",{staticClass:"slds-form-element__control"},[t("TextInput",{attrs:{value:e._f("decode")(e.aggregation.record.MarkerLayer__r.Name),readonly:"",labels:{name:"Name"}}})],1)])],1)]),e._v(" "),t("div",{staticClass:"slds-col slds-size_1-of-4"},[t("div",{staticClass:"slds-form-element"},[e.isCreate?[t("Picklist",{attrs:{options:e.valueFields,required:"",helpText:e.$Labels.Layers_Territory_Modal_Aggregations_Numeric_Fields,labels:{name:e.$Labels.Layers_Territory_Modal_Aggregations_Value_Field,required:e.$Labels.MA_Required,clear:e.$Labels.MA_Clear,noSearchResults:e.$Labels.MA_NO_RESULTS_FOUND},errors:e.getValidationMessages(e.$v.aggregation.record.ValueField__c),idKey:"api",titleKey:"label"},on:{changed:e.valueFieldChanged},model:{value:e.$v.aggregation.record.ValueField__c.$model,callback:function(t){e.$set(e.$v.aggregation.record.ValueField__c,"$model",t)},expression:"$v.aggregation.record.ValueField__c.$model"}})]:t("div",[t("label",{staticClass:"slds-form-element__label slds-align-middle"},[e._v("\n                            "+e._s(e.$Labels.Layers_Territory_Modal_Aggregations_Value_Field)+"\n                        ")]),e._v(" "),t("div",{staticClass:"slds-form-element__control"},[t("input",{staticClass:"slds-input",attrs:{readonly:"",type:"text"},domProps:{value:e.aggregation.valueFieldLabel}})])])],2)]),e._v(" "),t("div",{staticClass:"slds-col slds-grow-none"},[t("span",{staticClass:"slds-form-element__label"},[e._v("Â ")]),e._v(" "),t("div",{staticClass:"slds-form-element__control"},[t("button",{staticClass:"slds-button slds-button_icon-container slds-button_icon-border-filled aggregation-delete",on:{click:function(t){return e.$emit("delete",e.aggregation)}}},[t("span",{staticClass:"slds-button__icon ma-icon ma-icon-delete"})])])])])],1)])}),[],!1,null,"ec73c748",null).exports,Button:o.zx,Tooltip:o.u},props:{aggregations:{type:Array,required:!0},validator:{type:Object,required:!0}},data:()=>({showAggregationComponent:!1}),mounted(){0===this.aggregations.length&&this.add()},methods:{deleteAggregation(e){this.$emit("deleteAggregation",e),this.validator.$reset()},add(){this.aggregations.push({valueFieldLabel:"",guid:(0,s.x$)(),record:{Id:"",Name:"",MarkerLayer__r:{Id:"",Name:""},ValueField__c:"",TerritoryLayer__c:""}}),this.showAggregationComponent=!1,this.validator.$reset()}}},L=(0,d.Z)(p,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"aggregate slds-expression"},[t("ul",{class:{"allow-aggregate-delete":e.aggregations.length>1}},e._l(e.aggregations,(function(r,a){return t("Aggregation",{key:r.guid,attrs:{aggregation:r,validator:e.validator.$each[a]},on:{delete:e.deleteAggregation}})})),1),e._v(" "),t("div",{staticClass:"slds-expression__buttons"},[t("Tooltip",{staticClass:"ma-feature-tooltip"},[t("Button",{staticClass:"slds-m-bottom_small",attrs:{slot:"source",label:e.$Labels.Layers_Territory_Modal_Manage_Add_Aggregation_Button,variant:"neutral",iconCategory:"utility",iconName:"new",iconPosition:"left"},on:{click:e.add},slot:"source"}),e._v(" "),t("div",{staticClass:"slds-media"},[t("div",{staticClass:"slds-media__body"},[t("h2",{staticClass:"slds-text-heading_small"},[e._v(" "+e._s(e.$Labels.Layers_Territory_Modal_Aggregations_Data_Selection))]),e._v(" "),t("p",[e._v(e._s(e.$Labels.Layers_Territory_Modal_Aggregations_Field_Association))])])])],1)],1)])}),[],!1,null,"e11fc2c4",null).exports,{MAToastMessages:$}=window,A={components:{Spinner:o.$j},props:{territoryLayerId:{type:String,required:!0},aggregations:{type:Array,required:!0},territoryNodes:{type:Object,required:!0}},data:()=>({isLoading:!1,metadata:null,status:"Loading"}),computed:{statusLabel(){switch(this.status.toLowerCase()){case"running":return this.$Labels.Layers_Territory_Modal_Manage_Aggregation_Status_Running;case"failed":return this.$Labels.Layers_Territory_Modal_Manage_Aggregation_Status_Failed;case"canceled":return this.$Labels.Layers_Territory_Modal_Manage_Aggregation_Status_Canceled;default:return this.$Labels.Layers_Territory_Modal_Manage_Aggregation_Status_None}}},created(){this.getStatus()},methods:{async startAggregation(){this.metadata=null,this.isLoading=!0;try{const{success:e,response:t}=await(0,s.wX)(this.$Remoting.Territory.startAggregationById,[this.territoryLayerId]);e&&t.success?(this.metadata=t.request,await this.getStatus()):(console.error(t),$.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Common_Refresh_And_Try_Again,timeOut:0,extendedTimeOut:0,closeButton:!0}))}catch(e){console.error(e),$.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Common_Refresh_And_Try_Again,timeOut:0,extendedTimeOut:0,closeButton:!0})}this.isLoading=!1},async getStatus(){const e={method:"get",action:"status",subType:"core/territory/aggregation",version:"2"},t={territoryLayerId:this.territoryLayerId};this.isLoading=!0;try{const r=await(0,s.wX)(this.$Remoting.MapAnythingIORequest,[e,t]);if(r.success)if("completed"===r.data.status){const e=await(0,s.wX)("maps.TerritoryRemoteFunctions.doesTerritoryHaveAggregation",[this.territoryLayerId]);e.success&&!e.hasAggregations?this.status=this.$Labels.Territory_Management_Start_Aggregation_Again:this.status=r.data.status}else this.status=r.data.status;else this.status=this.$Labels.Territory_Management_Click_Refresh_Status,$.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Common_Refresh_And_Try_Again,timeOut:0,extendedTimeOut:0,closeButton:!0})}catch(e){$.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Common_Refresh_And_Try_Again,timeOut:0,extendedTimeOut:0,closeButton:!0})}this.isLoading=!1},async abortAggregation(){const e={method:"get",action:"cancel",subType:"core/territory/aggregation",version:"2"},t={territoryLayerId:this.territoryLayerId};this.isLoading=!0;try{(await(0,s.wX)(this.$Remoting.MapAnythingIORequest,[e,t])).success?await this.getStatus():$.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Territory_Management_Aggregation_Not_Cancelled,timeOut:0,extendedTimeOut:0,closeButton:!0})}catch(e){$.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Territory_Management_Aggregation_Not_Cancelled,timeOut:0,extendedTimeOut:0,closeButton:!0})}this.isLoading=!1}}},M=(0,d.Z)(A,(function(){var e=this,t=e._self._c;return t("div",[e.isLoading?t("Spinner",{attrs:{loadingLabel:e.$Labels.MA_Loading}}):e._e(),e._v(" "),t("div",{staticClass:"slds-m-bottom_small"},[t("div",{staticClass:"slds-text-title_caps slds-text-title"},[e._v(" "+e._s(e.$Labels.Layers_Territory_Modal_Manage_Aggregation_Status)),t("span",{staticClass:"slds-text-title_bold"},[e._v(e._s(e.statusLabel))])])]),e._v(" "),t("ul",{staticClass:"slds-button-group-row slds-m-bottom_small"},[t("li",{staticClass:"slds-button-group-item"},[t("button",{staticClass:"slds-button slds-button_brand",attrs:{disabled:"running"===e.status},on:{click:e.startAggregation}},[e._v("\n                "+e._s(e.$Labels.Layers_Territory_Modal_Manage_Start_Aggregation_Button)+"\n            ")])]),e._v(" "),t("li",{staticClass:"slds-button-group-item"},[t("button",{staticClass:"slds-button slds-button_destructive",attrs:{disabled:"running"!==e.status},on:{click:e.abortAggregation}},[e._v("\n                "+e._s(e.$Labels.Layers_Territory_Modal_Manage_Start_Abort_Button)+"\n            ")])]),e._v(" "),t("li",{staticClass:"slds-button-group-item"},[t("button",{staticClass:"slds-button slds-button_neutral",attrs:{disabled:"none"===e.status},on:{click:e.getStatus}},[e._v("\n                "+e._s(e.$Labels.Layers_Territory_Modal_Manage_Start_Refresh_Button)+"\n            ")])])]),e._v(" "),t("div",{staticClass:"slds-grid"},[t("div",{staticClass:"slds-col slds-size_1-of-1 slds-medium-size_7-of-12"},[null!=e.metadata?t("table",{staticClass:"slds-table slds-table_bordered slds-no-row-hover slds-table_striped"},[e._m(0),e._v(" "),t("tbody",[t("tr",{staticClass:"slds-hint-parent"},[e._m(1),e._v(" "),t("td",{attrs:{"data-label":"Close Date"}},[t("div",{staticClass:"slds-truncate",attrs:{title:e.metadata.territoryNodes.length}},[e._v("\n                                "+e._s(e.metadata.territoryNodes.length)+"\n                            ")])])]),e._v(" "),t("tr",{staticClass:"slds-hint-parent"},[e._m(2),e._v(" "),t("td",{attrs:{"data-label":"Close Date"}},[t("div",{staticClass:"slds-truncate",attrs:{title:e.metadata.territoryNodes.length}},[e._v("\n                                "+e._s(e.metadata.territoryNodes.length)+"\n                            ")])])]),e._v(" "),t("tr",{staticClass:"slds-hint-parent"},[e._m(3),e._v(" "),t("td",{attrs:{"data-label":"Close Date"}},[t("div",{staticClass:"slds-truncate",attrs:{title:e.metadata.aggregations.length}},[e._v("\n                                "+e._s(e.metadata.aggregations.length)+"\n                            ")])])]),e._v(" "),t("tr",{staticClass:"slds-hint-parent"},[e._m(4),e._v(" "),t("td",{attrs:{"data-label":"Close Date"}},[t("div",{staticClass:"slds-truncate",attrs:{title:e.metadata.territoryLayerId}},[e._v("\n                                "+e._s(e.metadata.territoryLayerId)+"\n                            ")])])])])]):e._e()])])],1)}),[function(){var e=this,t=e._self._c;return t("thead",{staticClass:"slds-assistive-text"},[t("tr",{staticClass:"slds-line-height_reset"},[t("th",{attrs:{scope:"col"}},[t("div",{staticClass:"slds-truncate",attrs:{title:"Aggregation Label"}},[e._v("\n                                Aggregation item\n                            ")])]),e._v(" "),t("th",{attrs:{scope:"col"}},[t("div",{staticClass:"slds-truncate",attrs:{title:"Value"}},[e._v("\n                                Value\n                            ")])])])])},function(){var e=this._self._c;return e("td",{attrs:{"data-label":"Account Name"}},[e("div",{staticClass:"slds-truncate",attrs:{title:"Number of Territory Nodes"}},[this._v("\n                                Number of Territory Nodes\n                            ")])])},function(){var e=this._self._c;return e("td",{attrs:{"data-label":"Account Name"}},[e("div",{staticClass:"slds-truncate",attrs:{title:"Number of Shape Layers"}},[this._v("\n                                Number of Shape Layers\n                            ")])])},function(){var e=this._self._c;return e("td",{attrs:{"data-label":"Account Name"}},[e("div",{staticClass:"slds-truncate",attrs:{title:"Number of Configured Aggregations"}},[this._v("\n                                Number of Configured Aggregations\n                            ")])])},function(){var e=this._self._c;return e("td",{attrs:{"data-label":"Account Name"}},[e("div",{staticClass:"slds-truncate",attrs:{title:"Territory Id"}},[this._v("\n                                Territory Id\n                            ")])])}],!1,null,null,null).exports,{MAToastMessages:x}=window,T=()=>{const e={territory:{Id:null,User__c:null,EmailOnAggregationSuccess__c:window.MASystem.User.Email,Name:"",Type__c:"Territory",Folder__c:null,Options__c:"{}"},root:{},removedNodes:[],aggregations:[],aggregationIdsForDelete:[]},{currentFolder:t}=window.MALayers||{},r="PersonalRoot"===t||"RoleUserFolder"===t;return r?e.territory.User__c=window.MASystem.User.Id:("CorporateRoot"!==t||r)&&(e.territory.Folder__c=t),e},w={name:"TerritoryLayerBuilder",components:{Modal:o.u_,Tabs:o.mQ,Tab:o.OK,TerritoryDetails:u,TreeBuilder:m,Aggregations:L,Manage:M,Spinner:o.$j},provide(){return{addToDelete:e=>{this.model.removedNodes.push(e)}}},props:{layer:{type:Object,default:()=>({})}},data:()=>({model:T(),isEdit:!1,showError:!1,hierarchyValid:!0,isLoading:!1}),validations:{model:{territory:{Name:{required:n.required},EmailOnAggregationSuccess__c:{email:n.email,required:n.required}},aggregations:{required:n.required,noAggregationDuplicates:e=>{const t=new Set;for(let r=0;r<e.length;r++){const a=e[r],s=`${a.record.MarkerLayer__r.Id}/${a.record.ValueField__c}`;if(t.has(s))return!1;t.add(s)}return!0},$each:{record:{Name:{required:n.required},ValueField__c:{required:n.required}}}}},hierarchyValid:e=>e},created(){this.model.territory.EmailOnAggregationSuccess__c=this.$User.Email,this.layer.id&&this.getTerritoryLayer()},methods:{getGUID:s.x$,deleteAggregation({record:e,guid:t}){e.Id&&this.model.aggregationIdsForDelete.push(e.Id),this.model.aggregations=this.model.aggregations.filter((e=>e.guid!==t))},duplicateWithoutParent(e){if(!e)return;const t={};if(e.children){const r=[];e.children.forEach((e=>{const t=this.duplicateWithoutParent(e);r.push(t)})),t.children=r}return Object.keys(e).reduce(((r,a)=>("parent"!==a&&"children"!==a&&"id"!==a&&"selected"!==a&&"valid"!==a&&"nameValid"!==a&&(t[a]=e[a]),t))),t},getThatDataToSave(){return new Promise((e=>{this.$bus.$emit("give-me-tree",(t=>{this.model.root=this.duplicateWithoutParent(t),this.isEdit&&!this.model.territory.Id&&(this.model.territory.Id=this.model.root?this.model.root.record.TerritoryLayer__c:this.model.aggregation.record.TerritoryLayer__c),e()}))}))},isInvalid(){return new Promise((e=>{this.$bus.$emit("give-me-hierarchy-validation",(t=>{this.hierarchyValid=t,this.$v.$touch(),e(!t)}))}))},async save(e,t){try{if(this.isLoading=!0,await this.isInvalid()||this.$v.$invalid)return void(this.isLoading=!1);await this.getThatDataToSave();const{record:e}=await this.saveLayerToServer();if(t){const{success:t,response:r}=await(0,s.wX)(this.$Remoting.Territory.startAggregationById,[e.Id]);t&&r.success?(document.createElement("div").innerHTML=this.$Labels.Territory_Management_Processing_Layer,this.$bus.$emit("show-generic-modal",{title:this.$Labels.Layers_Territory_Layer_Modal_Title_Aggregation_Started,message:this.$Labels.Layers_Territory_Layer_Modal_Message_Aggregation_Started})):(console.error(r),x.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Territory_Management_Cannot_Start_Aggregation,timeOut:0,extendedTimeOut:0,closeButton:!0}))}this.$emit("close")}catch(e){let t=e.message;e instanceof i.Z&&(t=e.event.message),x.showError({message:this.$Labels.MA_Error,subMessage:t,timeOut:0,extendedTimeOut:0,closeButton:!0}),this.isLoading=!1}},async saveLayerToServer(){const e={...this.model,aggregations:this.model.aggregations.map((e=>e.record))},{success:t=!1,data:r={}}=await(0,s.wX)(this.$Remoting.Territory.save,[e]);if(t)return x.showSuccess({message:this.$Labels.MA_Success,subMessage:r.Name}),this.$bus.$emit("refresh-folder"),{record:r};let a=r;throw/maximum number of territory layers/.test(r)&&(a=this.$Labels.MA_Territory_Reached_Max),new Error(a)},async getTerritoryLayer(){this.isEdit=!0,this.isLoading=!0;try{const e=await(0,s.wX)(this.$Remoting.Territory.getTerritoryLayerById,[this.layer.id]);e.success&&e.data?((0,a.a)(e.data,"maps__"),this.model={...this.model,...e.data},e.data.aggregations.forEach(((t,r)=>{this.$set(this.model.aggregations,r,{valueFieldLabel:e.data.valueFieldMap[t.Id],guid:(0,s.x$)(),record:{Id:t.Id,Name:t.Name,MarkerLayer__r:{Id:t.MarkerLayer__r.Id,Name:t.MarkerLayer__r.Name},ValueField__c:t.ValueField__c,TerritoryLayer__c:t.TerritoryLayer__c}})})),this.model.removedNodes=[],this.model.aggregationIdsForDelete=[]):x.showError({message:this.$Labels.MA_Error,subMessage:this.$Labels.Common_Refresh_And_Try_Again,timeOut:0,extendedTimeOut:0,closeButton:!0})}catch(e){x.showError({message:this.$Labels.MA_Error,subMessage:"Error during retrival of territory layer",timeOut:0,extendedTimeOut:0,closeButton:!0})}this.isLoading=!1}}},C={components:{TerritoryLayer:(0,d.Z)(w,(function(){var e=this,t=e._self._c;return t("Modal",{staticClass:"territory-builder-modal",attrs:{title:e.$Labels.MA_Territory_Layer_Builder,isLoading:e.isLoading,labels:{close:e.$Labels.MA_Close},size:"large"},on:{close:function(t){return e.$emit("close")}}},[t("div",{staticClass:"territory-builder-content",attrs:{slot:"content"},slot:"content"},[e.isLoading?t("Spinner",{attrs:{loadingLabel:e.$Labels.MA_Loading}}):e._e(),e._v(" "),t("Tabs",{staticClass:"content",attrs:{isVertical:""}},[t("Tab",{attrs:{id:e.getGUID(),renderImmediately:"",isValid:!e.$v.model.territory.$error,title:e.$Labels.MA_DETAILS}},[t("TerritoryDetails",{attrs:{layer:e.model.territory,validator:e.$v.model.territory,invalidEmailAddressLabel:e.$Labels.MA_Invalid_Email_Address,requiredEmailAddressLabel:e.$Labels.MA_Field_Req,requiredNameLabel:e.$Labels.MA_Field_Req},on:{"update:layer":function(t){return e.$set(e.model,"territory",t)}}})],1),e._v(" "),t("Tab",{attrs:{id:e.getGUID(),renderImmediately:"",isValid:e.hierarchyValid,title:e.$Labels.MA_Hierarchy}},[t("TreeBuilder",{attrs:{initialState:e.model.root}})],1),e._v(" "),t("Tab",{attrs:{id:e.getGUID(),renderImmediately:"",isValid:!e.$v.model.aggregations.$error,title:e.$Labels.MA_Aggregations}},[t("Aggregations",{attrs:{aggregations:e.model.aggregations,validator:e.$v.model.aggregations},on:{deleteAggregation:e.deleteAggregation}}),e._v(" "),e.$v.$dirty&&!e.$v.model.aggregations.noAggregationDuplicates?t("div",[e._v(e._s(e.$Labels.MA_Territory_No_Duplicate_Aggregations))]):e._e(),e._v(" "),e.$v.$dirty&&!e.$v.model.aggregations.required?t("div",{staticClass:"slds-notify_container slds-notify_container--inline slds-is-relative slds-p-around_large"},[t("div",{staticClass:"slds-notify slds-notify--alert slds-theme--error slds-theme--alert-texture slds-banner"},[t("h2",{staticClass:"slds-grid slds-grid_vertical-align-center"},[t("span",{staticClass:"ma-icon ma-icon-medium ma-icon-ban slds-icon slds-icon--x-small slds-m-right--x-small"}),e._v(" "),t("span",{staticClass:"slds-text-body_regular"},[e._v(e._s(e.$Labels.MA_Territory_Missing_Aggregation))])])])]):e._e()],1),e._v(" "),null!=e.model.territory.Id?t("Tab",{attrs:{id:e.getGUID(),title:e.$Labels.MA_Manage}},[t("Manage",{attrs:{territoryLayerId:e.model.territory.Id,aggregations:e.model.aggregations,territoryNodes:e.model.root}})],1):e._e()],1)],1),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"slds-button slds-button_neutral",on:{click:function(t){return e.$emit("close")}}},[e._v("\n            "+e._s(e.$Labels.MA_Cancel)+"\n        ")]),e._v(" "),t("button",{staticClass:"slds-button slds-button_brand",on:{click:e.save}},[e._v("\n            "+e._s(e.$Labels.MA_Save)+"\n        ")]),e._v(" "),t("button",{staticClass:"slds-button slds-button_brand",on:{click:function(t){return e.save(t,!0)}}},[e._v("\n            "+e._s(e.$Labels.MA_Save_Start_Aggregation)+"\n        ")])])])}),[],!1,null,"60cdd730",null).exports},data:()=>({doRender:!1,layer:{}}),created(){this.$bus.$on("render-territory-builder",(e=>{this.doRender=!0,this.layer=e}))},destroyed(){this.$bus.$off("render-territory-builder")}},S=(0,d.Z)(C,(function(){var e=this,t=e._self._c;return e.doRender?t("TerritoryLayer",{attrs:{layer:e.layer},on:{close:function(t){e.doRender=!1}}}):e._e()}),[],!1,null,null,null).exports},9486:e=>{window,e.exports=function(e){var t={};function r(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=2)}([function(e,t,r){"use strict";r.r(t),function(e){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.d(t,"withParams",(function(){return i}));var s="undefined"!=typeof window?window:void 0!==e?e:{},i=s.vuelidate?s.vuelidate.withParams:function(e,t){return"object"===a(e)&&void 0!==t?t:e((function(){}))}}.call(this,r(1))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";r.r(t),r.d(t,"alpha",(function(){return u})),r.d(t,"alphaNum",(function(){return c})),r.d(t,"numeric",(function(){return g})),r.d(t,"between",(function(){return _})),r.d(t,"email",(function(){return f})),r.d(t,"ipAddress",(function(){return m})),r.d(t,"macAddress",(function(){return h})),r.d(t,"maxLength",(function(){return b})),r.d(t,"minLength",(function(){return p})),r.d(t,"required",(function(){return L})),r.d(t,"requiredIf",(function(){return $})),r.d(t,"requiredUnless",(function(){return A})),r.d(t,"sameAs",(function(){return M})),r.d(t,"url",(function(){return x})),r.d(t,"or",(function(){return T})),r.d(t,"and",(function(){return w})),r.d(t,"not",(function(){return C})),r.d(t,"minValue",(function(){return S})),r.d(t,"maxValue",(function(){return O})),r.d(t,"integer",(function(){return P})),r.d(t,"decimal",(function(){return N})),r.d(t,"helpers",(function(){return a}));var a={};r.r(a),r.d(a,"withParams",(function(){return s})),r.d(a,"req",(function(){return n})),r.d(a,"len",(function(){return o})),r.d(a,"ref",(function(){return l})),r.d(a,"regex",(function(){return d}));var s=r(0).withParams;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e){if(Array.isArray(e))return!!e.length;if(null==e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===i(e)){for(var t in e)return!0;return!1}return!!String(e).length},o=function(e){return Array.isArray(e)?e.length:"object"===i(e)?Object.keys(e).length:String(e).length},l=function(e,t,r){return"function"==typeof e?e.call(t,r):r[e]},d=function(e,t){return s({type:e},(function(e){return!n(e)||t.test(e)}))},u=d("alpha",/^[a-zA-Z]*$/),c=d("alphaNum",/^[a-zA-Z0-9]*$/),g=d("numeric",/^[0-9]*$/),_=function(e,t){return s({type:"between",min:e,max:t},(function(r){return!n(r)||(!/\s/.test(r)||r instanceof Date)&&+e<=+r&&+t>=+r}))},f=d("email",/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i),m=s({type:"ipAddress"},(function(e){if(!n(e))return!0;if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(y)})),y=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return s({type:"macAddress"},(function(t){if(!n(t))return!0;if("string"!=typeof t)return!1;var r="string"==typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==r&&(6===r.length||8===r.length)&&r.every(v)}))},v=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)},b=function(e){return s({type:"maxLength",max:e},(function(t){return!n(t)||o(t)<=e}))},p=function(e){return s({type:"minLength",min:e},(function(t){return!n(t)||o(t)>=e}))},L=s({type:"required"},(function(e){return n("string"==typeof e?e.trim():e)})),$=function(e){return s({type:"requiredIf",prop:e},(function(t,r){return!l(e,this,r)||n(t)}))},A=function(e){return s({type:"requiredUnless",prop:e},(function(t,r){return!!l(e,this,r)||n(t)}))},M=function(e){return s({type:"sameAs",eq:e},(function(t,r){return t===l(e,this,r)}))},x=d("url",/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i),T=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s({type:"or"},(function(){for(var e=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t.length>0&&t.reduce((function(t,r){return t||r.apply(e,a)}),!1)}))},w=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s({type:"and"},(function(){for(var e=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t.length>0&&t.reduce((function(t,r){return t&&r.apply(e,a)}),!0)}))},C=function(e){return s({type:"not"},(function(t,r){return!n(t)||!e.call(this,t,r)}))},S=function(e){return s({type:"minValue",min:e},(function(t){return!n(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))},O=function(e){return s({type:"maxValue",max:e},(function(t){return!n(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))},P=d("integer",/(^[0-9]*$)|(^-[0-9]+$)/),N=d("decimal",/^[-]?\d*(\.\d+)?$/)}])},6408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r(6681).regex)("alpha",/^[a-zA-Z]*$/);t.default=a},6195:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r(6681).regex)("alphaNum",/^[a-zA-Z0-9]*$/);t.default=a},5573:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.withParams)({type:"and"},(function(){for(var e=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t.length>0&&t.reduce((function(t,r){return t&&r.apply(e,a)}),!0)}))}},7884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(e,t){return(0,a.withParams)({type:"between",min:e,max:t},(function(r){return!(0,a.req)(r)||(!/\s/.test(r)||r instanceof Date)&&+e<=+r&&+t>=+r}))}},6681:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.regex=t.ref=t.len=void 0,Object.defineProperty(t,"withParams",{enumerable:!0,get:function(){return s.default}});var a,s=(a=r(8085))&&a.__esModule?a:{default:a};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var n=function(e){if(Array.isArray(e))return!!e.length;if(null==e)return!1;if(!1===e)return!0;if(e instanceof Date)return!isNaN(e.getTime());if("object"===i(e)){for(var t in e)return!0;return!1}return!!String(e).length};t.req=n,t.len=function(e){return Array.isArray(e)?e.length:"object"===i(e)?Object.keys(e).length:String(e).length},t.ref=function(e,t,r){return"function"==typeof e?e.call(t,r):r[e]},t.regex=function(e,t){return(0,s.default)({type:e},(function(e){return!n(e)||t.test(e)}))}},4078:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r(6681).regex)("decimal",/^[-]?\d*(\.\d+)?$/);t.default=a},8107:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r(6681).regex)("email",/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i);t.default=a},379:(e,t,r)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}Object.defineProperty(t,"gH",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"_L",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"BS",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"PW",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"uv",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"C1",{enumerable:!0,get:function(){return i.default}});c(r(6408)),c(r(6195)),c(r(5669)),c(r(7884)),c(r(8107)),c(r(9103)),c(r(7340));var s=c(r(5287)),i=(c(r(3091)),c(r(2419))),n=(c(r(2941)),c(r(8300)),c(r(918)),c(r(3213)),c(r(5832)),c(r(5573)),c(r(2500)),c(r(2628))),o=c(r(301)),l=c(r(6673)),d=c(r(4078));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(e){return e&&e.__esModule?e:{default:e}}!function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var o=i?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(s,n,o):s[n]=e[n]}s.default=e,r&&r.set(e,s)}(r(6681))},6673:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r(6681).regex)("integer",/(^[0-9]*$)|(^-[0-9]+$)/);t.default=a},9103:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681),s=(0,a.withParams)({type:"ipAddress"},(function(e){if(!(0,a.req)(e))return!0;if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(i)}));t.default=s;var i=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},7340:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,a.withParams)({type:"macAddress"},(function(t){if(!(0,a.req)(t))return!0;if("string"!=typeof t)return!1;var r="string"==typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==r&&(6===r.length||8===r.length)&&r.every(s)}))};var s=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},5287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(e){return(0,a.withParams)({type:"maxLength",max:e},(function(t){return!(0,a.req)(t)||(0,a.len)(t)<=e}))}},301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(e){return(0,a.withParams)({type:"maxValue",max:e},(function(t){return!(0,a.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e}))}},3091:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(e){return(0,a.withParams)({type:"minLength",min:e},(function(t){return!(0,a.req)(t)||(0,a.len)(t)>=e}))}},2628:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(e){return(0,a.withParams)({type:"minValue",min:e},(function(t){return!(0,a.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e}))}},2500:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(e){return(0,a.withParams)({type:"not"},(function(t,r){return!(0,a.req)(t)||!e.call(this,t,r)}))}},5669:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r(6681).regex)("numeric",/^[0-9]*$/);t.default=a},5832:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.withParams)({type:"or"},(function(){for(var e=this,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return t.length>0&&t.reduce((function(t,r){return t||r.apply(e,a)}),!1)}))}},2419:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681),s=(0,a.withParams)({type:"required"},(function(e){return"string"==typeof e?(0,a.req)(e.trim()):(0,a.req)(e)}));t.default=s},2941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(e){return(0,a.withParams)({type:"requiredIf",prop:e},(function(t,r){return!(0,a.ref)(e,this,r)||(0,a.req)(t)}))}},8300:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(e){return(0,a.withParams)({type:"requiredUnless",prop:e},(function(t,r){return!!(0,a.ref)(e,this,r)||(0,a.req)(t)}))}},918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(6681);t.default=function(e){return(0,a.withParams)({type:"sameAs",eq:e},(function(t,r){return t===(0,a.ref)(e,this,r)}))}},3213:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,r(6681).regex)("url",/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i);t.default=a},8085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(16).R;t.default=a},16:(e,t,r)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}t.R=void 0;var s="undefined"!=typeof window?window:void 0!==r.g?r.g:{},i=s.vuelidate?s.vuelidate.withParams:function(e,t){return"object"===a(e)&&void 0!==t?t:e((function(){}))};t.R=i}}]);