"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[3333],{7946:(e,t,s)=>{s.r(t),s.d(t,{default:()=>m});var n=s(2646),o=s(5908),r=s.n(o),a=s(5602),i=s(257);const{MARemoting:c,MASystem:l}=window,u={state:{callouts:0,mapTiles:[],allBaseObjectInfos:[],showOnBaseObjects:[],booleanFields:[],dateTimeFields:[],numberFields:[],buttonSets:[],settings:[],isLoading:!1},mutations:{loadingToggle(e,t){"boolean"==typeof t?t?(e.callouts+=1,e.isLoading=!0):(e.callouts-=1,e.callouts<=0&&(e.isLoading=!1,e.callouts=0)):(e.callouts-=1,e.isLoading=!1)},updateSettings(e,t){e.settings=t},updateActivityFields(e,t){e.booleanFields=t.Boolean||[],e.dateTimeFields=t.DateTime||[],e.numberFields=t.Number||[]},updateMapTiles(e,t){e.mapTiles=t},populateBaseObjects(e,t){e.showOnBaseObjects=e.allBaseObjectInfos.filter((e=>t.includes(e.Id)))||[]},populateAvailBaseObjects(e,t){e.allBaseObjectInfos=t||[]},updateBaseObjects(e,t){e.showOnBaseObjects=t.visibleList||[]},updateButtonSets(e,t){e.buttonSets=t},removeButtonSet(e,t){e.buttonSets=e.buttonSets.filter((e=>e.Id!==t))},updateToastMsg(e,{msg:t,type:s}){e.toastType=s,s=s||"error",e.toastMsg=""===t||void 0===t?null:t}},getters:{buttonSets:e=>e.buttonSets,allBaseObjectInfos:e=>e.allBaseObjectInfos,showOnBaseObjects:e=>e.showOnBaseObjects},actions:{getSettings({commit:e}){return new Promise(((t,s)=>{(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler((e=>{s(new Error(e)),console.warn(e)})).invoke([{action:"get_settings"}],(n=>{if(this.isLoading=!1,n.success){const{mapTiles:s=[],data:o={},securityError:r=!1,message:a=""}=n;r&&window.MAToastMessages.showWarning({message:a,closeButton:!0,timeOut:0}),e("updateMapTiles",s),e("updateSettings",o),t(o)}else s(new Error("Unable to get users.")),console.warn(n)}),{escape:!1,buffer:!1})}))},saveGeneralSettings:(e,t)=>new Promise(((e,s)=>{try{const n={action:"save_settings",settings:JSON.stringify(t)};(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler((e=>{s(new Error(e)),console.warn(e)})).invoke([n],(t=>{if(t.success)e();else{const{error:e=""}=t;s(new Error(e))}}),{escape:!1,buffer:!1})}catch(e){console.warn(e),s(e)}})),clearDebugLogs:()=>new Promise(((e,t)=>{(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler((e=>{t(new Error(e)),console.warn(e)})).invoke([{action:"clear_debuglogs"}],(s=>{if(s.success)e();else{const{error:e=""}=s;t(new Error(e))}}),{escape:!1,buffer:!1})})),getButtonSetInfo:({commit:e},t)=>new Promise(((s,n)=>{const o={action:"get_buttonset_info"};t&&""!==t&&(o.buttonSetId=t),(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler(((e,t)=>{n(new Error(t.message))})).invoke([o],(t=>{const{success:o=!1,results:r=[]}=t;if(t.securityError)n();else if(o)e("updateButtonSets",r),s();else{const{error:e=""}=t;n(new Error(e))}}),{escape:!1,buffer:!1})})),saveButtonSetInfo:(e,t)=>new Promise(((e,s)=>{(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler(((e,t)=>{s(new Error(t.message)),console.warn(t)})).invoke([t],(t=>{if(t.success){const{result:s={}}=t;e(s)}else{const{error:e=""}=t;s(new Error(e))}}),{escape:!1,buffer:!1})})),deleteButtonSet:({commit:e},t)=>new Promise(((s,n)=>{const o={action:"delete_record",id:t};(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler(((e,t)=>{n(new Error(t.message)),console.warn(t)})).invoke([o],(o=>{if(o.success)e("removeButtonSet",t),s();else{const{error:e=""}=o;n(new Error(e))}}),{escape:!1,buffer:!1})})),getCustomActions:(e,t)=>new Promise(((e,s)=>{const n={action:"get_customactions"};t&&(n.id=t),(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler(((e,t)=>{s(new Error(t.message)),console.warn(t)})).invoke([n],(t=>{if(t.success){const{results:s=[]}=t;e(s)}else{const{error:e=""}=t;s(new Error(e))}}),{escape:!1,buffer:!1})})),getQuickActions:()=>new Promise(((e,t)=>{(new i.Z).setAction(c.CustomActions.getQuickActions).setErrorHandler(((e,s)=>{t(new Error(s.message)),console.warn(s)})).invoke([],(s=>{if(s.success)e(s);else{const{error:e=""}=s;t(new Error(e))}}),{escape:!1,buffer:!1})})),getBaseObjects:()=>new Promise(((e,t)=>{(new i.Z).setAction("maps.RemoteFunctions.GetSavedBaseObjects").setErrorHandler((e=>{console.warn(e),t(new Error(l.Labels.MA_Base_Object_Query_Error))})).invoke([],(s=>{const{success:n=!1,data:o={}}=s;n?s.securityError?e(s):e(o):(console.warn(s),t(new Error(l.Labels.MA_Base_Object_Query_Error)))}))})),getLightningComponents:()=>new Promise(((e,t)=>{(new i.Z).setAction(c.CustomActions.getLightningComponents).setErrorHandler(((e,s)=>{t(new Error(s.message)),console.warn(s)})).invoke([],(s=>{if(s.success)e(s);else{const{error:e=""}=s;t(new Error(e))}}),{escape:!1,buffer:!1})})),saveCustomAction:(e,t)=>new Promise(((e,s)=>{const n={action:"save_customaction",serializedCustomAction:JSON.stringify(t)};(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler(((e,t)=>{s(new Error(t.message)),console.warn(t)})).invoke([n],(t=>{if(t.success){const{result:s={}}=t;e(s)}else{const{error:e=""}=t;s(new Error(e))}}),{escape:!1,buffer:!1})})),deleteCustomAction:(e,t)=>new Promise(((e,s)=>{const n={action:"delete_record",id:t};(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler(((e,t)=>{s(new Error(t.message)),console.warn(t)})).invoke([n],(t=>{if(t.success)e();else{const{error:e=""}=t;s(new Error(e))}}),{escape:!1,buffer:!1})})),getActivityFields:({commit:e})=>new Promise(((t,s)=>{(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler(((e,t)=>{s(new Error(t.message)),console.warn(t)})).invoke([{action:"getActivityFields"}],(n=>{if(n.success){const{ActivityFields:s=[]}=n,[o]=s;e("updateActivityFields",o),t()}else{const{error:e=""}=n;s(new Error(e))}}),{escape:!1,buffer:!1})})),getFieldSets:()=>new Promise(((e,t)=>{(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler(((e,s)=>{t(new Error(s.message)),console.warn(s)})).invoke([{action:"get_fieldSets",sObjectName:"Task"}],(s=>{if(s.success){const{data:t=[]}=s;e(t)}else{const{error:e=""}=s;t(new Error(e))}}),{escape:!1,buffer:!1})})),saveActivitySettings:(e,t)=>new Promise(((e,s)=>{t.action="saveActivityFields",(new i.Z).setAction(c.AdminStartUpAction).setErrorHandler(((e,t)=>{s(new Error(t.message)),console.warn(t)})).invoke([t],(t=>{if(t.success)e();else{const{error:e=""}=t;s(new Error(e))}}),{escape:!1,buffer:!1})}))}},d={components:{Tabs:n.mQ,Tab:n.OK,GeneralTab:()=>({...(0,a.YH)(),component:s.e(8587).then(s.bind(s,2176))}),ButtonSetTab:()=>({...(0,a.YH)(),component:s.e(1714).then(s.bind(s,9353))}),CustomActionsTab:()=>({...(0,a.YH)(),component:Promise.all([s.e(9980),s.e(1184)]).then(s.bind(s,8444))}),ActivitySettingsTab:()=>({...(0,a.YH)(),component:s.e(4807).then(s.bind(s,8601))})},data:()=>({activeTab:"generalTab"}),beforeCreate(){this.$store=new(r().Store)(u)},methods:{updateTab(e){this.activeTab=e}}},m=(0,s(1900).Z)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"base-objects-wrap",staticStyle:{position:"relative"}},[t("Tabs",{staticClass:"slds-m-bottom_medium",attrs:{activeTabId:e.activeTab},on:{changed:e.updateTab}},[t("Tab",{staticClass:"slds-m-around_medium",attrs:{id:"generalTab",title:e.$Labels.MapsSetting_General}},[t("keep-alive",["generalTab"===e.activeTab?t("GeneralTab"):e._e()],1)],1),e._v(" "),t("Tab",{staticClass:"slds-m-around_medium",attrs:{id:"buttonSet",title:e.$Labels.MapsSetting_ButtonSet_Name}},[t("keep-alive",["buttonSet"===e.activeTab?t("ButtonSetTab"):e._e()],1)],1),e._v(" "),t("Tab",{staticClass:"sldx-m-around_medium",attrs:{id:"customActions",title:e.$Labels.Maps_Custom_Actions}},[t("keep-alive",["customActions"===e.activeTab?t("CustomActionsTab"):e._e()],1)],1),e._v(" "),t("Tab",{staticClass:"sldx-m-around_medium",attrs:{id:"activitySettings",title:e.$Labels.Maps_Activity_Settings}},[t("keep-alive",["activitySettings"===e.activeTab?t("ActivitySettingsTab"):e._e()],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);