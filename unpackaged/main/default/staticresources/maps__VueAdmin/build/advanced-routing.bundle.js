(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[7234],{8137:s=>{s.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M31,25.4L44,12.3c0.6-0.6,0.6-1.5,0-2.1L42,8.1c-0.6-0.6-1.5-0.6-2.1,0L26.8,21.2c-0.4,0.4-1,0.4-1.4,0\r\n\tL12.3,8c-0.6-0.6-1.5-0.6-2.1,0l-2.1,2.1c-0.6,0.6-0.6,1.5,0,2.1l13.1,13.1c0.4,0.4,0.4,1,0,1.4L8,39.9c-0.6,0.6-0.6,1.5,0,2.1\r\n\tl2.1,2.1c0.6,0.6,1.5,0.6,2.1,0L25.3,31c0.4-0.4,1-0.4,1.4,0l13.1,13.1c0.6,0.6,1.5,0.6,2.1,0l2.1-2.1c0.6-0.6,0.6-1.5,0-2.1\r\n\tL31,26.8C30.6,26.4,30.6,25.8,31,25.4z"/> </svg> '},6413:s=>{s.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.8,2,2,12.8,2,26s10.8,24,24,24s24-10.8,24-24S39.2,2,26,2z M8,26c0-9.9,8.1-18,18-18\r\n\tc3.9,0,7.5,1.2,10.4,3.3L11.3,36.4C9.2,33.5,8,29.9,8,26z M26,44c-3.9,0-7.5-1.2-10.4-3.3c5.1-5.1,19.3-19.3,25.1-25.1\r\n\tC42.8,18.5,44,22.1,44,26C44,35.9,35.9,44,26,44z"/> </svg> '},8186:s=>{s.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M26,14.1c1.7,0,3,1.3,3,3s-1.3,3-3,3\r\n\ts-3-1.3-3-3S24.3,14.1,26,14.1z M31,35.1c0,0.5-0.4,0.9-1,0.9h-3c-0.4,0-3,0-3,0h-2c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1l0,0\r\n\tc0.5,0,1-0.3,1-0.9v-4c0-0.5-0.4-1.1-1-1.1l0,0c-0.5,0-1-0.3-1-0.9v-2c0-0.5,0.4-1.1,1-1.1h6c0.5,0,1,0.5,1,1.1v8\r\n\tc0,0.5,0.4,0.9,1,0.9l0,0c0.5,0,1,0.5,1,1.1V35.1z"/> </svg> '},9718:s=>{s.exports='<svg xmlns=http://www.w3.org/2000/svg x=0px y=0px width=52px height=52px viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space=preserve> <path fill=#FFFFFF d="M26,2C12.7,2,2,12.7,2,26s10.7,24,24,24s24-10.7,24-24S39.3,2,26,2z M39.4,20L24.1,35.5\r\n\tc-0.6,0.6-1.6,0.6-2.2,0L13.5,27c-0.6-0.6-0.6-1.6,0-2.2l2.2-2.2c0.6-0.6,1.6-0.6,2.2,0l4.4,4.5c0.4,0.4,1.1,0.4,1.5,0L35,15.5\r\n\tc0.6-0.6,1.6-0.6,2.2,0l2.2,2.2C40.1,18.3,40.1,19.3,39.4,20z"/> </svg> '},5953:s=>{s.exports='<svg xmlns=http://www.w3.org/2000/svg width=52 height=52 viewBox="0 0 52 52"><path fill=#fff d="m51.4 42.5l-22.9-37c-1.2-2-3.8-2-5 0l-22.9 37c-1.4 2.3 0 5.5 2.5 5.5h45.8c2.5 0 4-3.2 2.5-5.5z m-25.4-2.5c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z m3-9c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-13c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v13z"></path></svg>'},7757:(s,t,e)=>{"use strict";e.r(t),e.d(t,{default:()=>g});var a=e(5908),n=e.n(a),o=e(2061),i=e(2646);const l=new(n().Store)({state:{toastMsg:null,toastType:"error",isLoading:!1},mutations:{updateToastMsg(s,{msg:t,type:e}){s.toastType=e,e=e||"error",s.toastMsg=""===t||void 0===t?null:t},setIsLoading(s,t){s.isLoading=t}},getters:{toastMsg:s=>s.toastMsg,toastType:s=>s.toastType,isLoading:s=>s.isLoading},actions:{}});var c=e(3088);const d={components:{Modal:i.u_,Checkbox:i.XZ,ScopedNotification:i.ac},data(){return{scheduleBatchesLabelRunningState:this.$Labels.Advanced_Data_Management_Settings_Scheduling_Batches,scheduleBatchesLabelReadyState:this.$Labels.Advanced_Data_Management_Settings_Click_To_Schedule,scheduleBatchesLabel:this.$Labels.Advanced_Data_Management_Settings_Click_To_Schedule,useLegacyWaypointCreationProcessDisabled:!0,useLegacyWaypointCreationProcess:!1,showModal:!1,useLegacyWaypointCreationProcessCheck:!1}},computed:{modalText(){return this.useLegacyWaypointCreationProcessCheck?this.$Labels.Advanced_Data_Management_Settings_Save_Confirmation:this.$Labels.Advanced_Data_Management_Settings_Delete_Data_Confirmation}},created(){this.getUseLegacyWaypointCreationProcess()},methods:{...(0,a.mapMutations)(["updateToastMsg","setIsLoading"]),async getUseLegacyWaypointCreationProcess(){const s=await(0,c.wX)("maps.AdvRouteRemoting.getUseLegacyWaypointCreationProcess",[]);s.success?(this.useLegacyWaypointCreationProcess="true"===s.value,this.useLegacyWaypointCreationProcessDisabled=!1):console.warn(s.message)},async saveUseLegacyWaypointCreationProcess(){const s=await(0,c.wX)("maps.AdvRouteRemoting.saveUseLegacyWaypointCreationProcess",[this.useLegacyWaypointCreationProcess]);s.success?this.updateToastMsg({msg:this.$Labels.MapsSetting_Updates_Were_Saved,type:"success"}):(console.warn(s.message),this.useLegacyWaypointCreationProcess=!this.useLegacyWaypointCreationProcess,this.updateToastMsg({msg:this.$Labels.MapsSetting_Changes_Were_Not_Saved}))},async scheduleBatches(){if(this.scheduleBatchesLabel===this.scheduleBatchesLabelReadyState){this.setIsLoading(!0),this.scheduleBatchesLabel=this.scheduleBatchesLabelRunningState,this.$refs.scheduleBatchesButton.setAttribute("disabled","disabled");const s={action:"scheduleRecurringBatches",ajaxResourceType:"remotingUtils"},t=await(0,c.wX)("maps.AdvRouteRemoting.remotingAction",[s]);this.scheduleBatchesLabel=this.scheduleBatchesLabelReadyState,this.$refs.scheduleBatchesButton.removeAttribute("disabled"),this.setIsLoading(!1),t.success?this.updateToastMsg({msg:this.$Labels.Advanced_Data_Management_Settings_Batches_Scheduled,type:"success"}):this.updateToastMsg({msg:this.$Labels.Advanced_Data_Management_Settings_Batches_Scheduled_Failed})}},processConfirm(){this.useLegacyWaypointCreationProcessCheck?(this.useLegacyWaypointCreationProcessCheck=!1,this.saveUseLegacyWaypointCreationProcess()):this.deleteLegacyData(),this.closeModal()},async deleteLegacyData(){this.setIsLoading(!0);const s=await(0,c.wX)("maps.AdvRouteRemoting.remotingAction",[{action:"deleteLegacyData",ajaxResourceType:"remotingUtils"}]);this.setIsLoading(!1),s.success?this.updateToastMsg({msg:this.$Labels.Advanced_Data_Management_Settings_Data_Deleted,type:"success"}):this.updateToastMsg({msg:this.$Labels.Advanced_Data_Management_Settings_Data_Deleted_Failed})},finishConverting(){window.open("/apex/maps__AdvRouteTemplateBuilder?convertData=true","_blank")},closeModal(){this.useLegacyWaypointCreationProcessCheck&&(this.useLegacyWaypointCreationProcess=!this.useLegacyWaypointCreationProcess,this.useLegacyWaypointCreationProcessCheck=!1),this.showModal=!1}}};var r=e(1900);const _=(0,r.Z)(d,(function(){var s=this,t=s._self._c;return t("div",{attrs:{id:"advanced_data-management"}},[s.showModal?t("Modal",{attrs:{title:s.useLegacyWaypointCreationProcessCheck?s.$Labels.MA_Are_You_Sure:s.$Labels.Advanced_Data_Management_Settings_Delete_Data_Button},on:{close:s.closeModal}},[t("div",{attrs:{slot:"content"},slot:"content"},[t("p",[s._v(s._s(s.modalText))])]),s._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("button",{staticClass:"slds-button slds-button_neutral",on:{click:s.closeModal}},[s._v("\n                "+s._s(s.$Labels.MA_Cancel)+"\n            ")]),s._v(" "),t("button",{staticClass:"slds-button slds-button_brand",on:{click:s.processConfirm}},[s._v("\n                "+s._s(s.$Labels.MA_Confirm)+"\n            ")])])]):s._e(),s._v(" "),t("div",{staticClass:"slds-section__title slds-theme--shade slds-m-bottom_x-small"},[t("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[s._v(s._s(s.$Labels.AdvRoute_skipWaypointCreationCheckboxHeader))])]),s._v(" "),t("ScopedNotification",[t("p",{attrs:{slot:"content"},slot:"content"},[s._v(s._s(s.$Labels.AdvRoute_skipWaypointCreationCheckboxInfo))])]),s._v(" "),t("Checkbox",{staticStyle:{"padding-top":"0.75rem"},attrs:{labels:{name:s.$Labels.AdvRoute_skipWaypointCreationCheckboxLabel},toggleBuffer:500,disabled:s.useLegacyWaypointCreationProcessDisabled},on:{changed:function(t){s.showModal=!0,s.useLegacyWaypointCreationProcessCheck=!0}},model:{value:s.useLegacyWaypointCreationProcess,callback:function(t){s.useLegacyWaypointCreationProcess=t},expression:"useLegacyWaypointCreationProcess"}}),s._v(" "),t("div",{staticStyle:{height:"1rem"}}),s._v(" "),t("div",{staticClass:"slds-section__title slds-theme--shade slds-m-bottom_x-small"},[t("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[s._v(s._s(s.$Labels.Advanced_Data_Management_Settings_Schedule_Batches))])]),s._v(" "),t("button",{ref:"scheduleBatchesButton",staticClass:"slds-button slds-button_text-destructive",on:{click:s.scheduleBatches}},[s._v("\n        "+s._s(s.scheduleBatchesLabel)+"\n    ")]),s._v(" "),t("div",{staticStyle:{height:"1rem"}}),s._v(" "),t("div",{staticClass:"slds-section__title slds-theme--shade slds-m-bottom_x-small"},[t("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[s._v(s._s(s.$Labels.AdvRoute_Data_Conversion_Clean_Up))])]),s._v(" "),t("div",[t("button",{staticClass:"slds-button slds-button_text-destructive",on:{click:s.finishConverting}},[s._v("\n            "+s._s(s.$Labels.Advanced_Data_Management_Settings_Convert_Data_Button)+"\n        ")])]),s._v(" "),t("div",{staticStyle:{"padding-top":"0.75rem"}},[t("button",{staticClass:"slds-button slds-button_text-destructive",on:{click:function(t){s.showModal=!0}}},[s._v("\n            "+s._s(s.$Labels.Advanced_Data_Management_Settings_Delete_Data_Button)+"\n        ")])])],1)}),[],!1,null,"28b7337c",null).exports,h={components:{MAToast:o.Z,Spinner:i.$j,DataManagement:_},computed:{...(0,a.mapGetters)(["toastMsg","toastType","isLoading"])},beforeCreate(){this.$store=l},methods:{...(0,a.mapMutations)(["updateToastMsg"]),closeToast(){this.updateToastMsg({msg:""})}}},g=(0,r.Z)(h,(function(){var s=this,t=s._self._c;return t("div",[null!=s.toastMsg?t("MAToast",{attrs:{msg:s.toastMsg,state:s.toastType},on:{close:s.closeToast}}):s._e(),s._v(" "),s.isLoading?t("div",{staticClass:"slds-align_absolute-center"},[t("Spinner")],1):s._e(),s._v(" "),t("DataManagement")],1)}),[],!1,null,"1a864ce2",null).exports},2061:(s,t,e)=>{"use strict";function a(s){if(s.setAttribute("aria-hidden",!0),Array.isArray(this.iconClass)?this.iconClass.forEach((t=>s.classList.add(t))):s.classList.add(this.iconClass),this.inheritFillFromParent){const t=s=>{s.forEach((s=>{"path"!==s.nodeName&&"g"!==s.nodeName||(s.style.fill="inherit"),s.childNodes.length&&t(s.childNodes)}))};t(s.childNodes||[])}if(this.$el.appendChild(s),this.assistiveText){const s=document.createElement("span");s.classList.add("slds-assistive-text"),s.textContent=this.assistiveText,this.$el.appendChild(s)}}e.d(t,{Z:()=>l});const n={render:s=>s("span"),props:{svg:{required:!0,validator(s){const t="string"==typeof s,e="object"==typeof s&&!0===s.__esModule;return t||e}},inheritFillFromParent:{type:Boolean,default:!0},assistiveText:{type:String},iconClass:{type:[Array,String]}},mounted(){const s="object"==typeof this.svg&&!0===this.svg.__esModule?this.svg.default:this.svg,t=document.createRange().createContextualFragment(s),e=Array.from(t.childNodes).find((s=>"svg"===s.nodeName));e?a.call(this,e):console.error("Could not build SVG.")}},o=new Map;o.set("info",{divClass:"slds-theme_info"}),o.set("success",{divClass:"slds-theme_success"}),o.set("warning",{divClass:"slds-theme_warning"}),o.set("error",{divClass:"slds-theme_error"});const i={name:"MAToast",components:{MAIconInline:n},props:{msg:{type:String,required:!1,default:""},state:{type:String,default:"error",validate:s=>s&&(void 0).stateMap.has(s)},closeLabel:{type:String,default:"Close"}},data:()=>({stateMap:o}),methods:{close(){this.$emit("close")}}},l=(0,e(1900).Z)(i,(function(){var s=this,t=s._self._c;return t("div",{staticClass:"slds-grid slds-grid_vertical-align-center ma-wrapper"},[t("div",{staticClass:"slds-spinner_container"}),s._v(" "),t("div",{staticClass:"slds-notify_container slds-is-relative"},[t("div",{staticClass:"slds-notify slds-notify_toast ma-toast",class:s.stateMap.get(s.state).divClass,attrs:{role:"alert"}},[t("span",{staticClass:"slds-assistive-text"},[s._v(s._s(s.state))]),s._v(" "),t("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"error"===s.state,expression:"state === 'error'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:e(6413),iconClass:["slds-button__icon","slds-button__icon_large"]}}),s._v(" "),t("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"success"===s.state,expression:"state === 'success'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:e(9718),iconClass:["slds-button__icon","slds-button__icon_large"]}}),s._v(" "),t("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"info"===s.state,expression:"state === 'info'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:e(8186),iconClass:["slds-button__icon","slds-button__icon_large"]}}),s._v(" "),t("MAIconInline",{directives:[{name:"show",rawName:"v-show",value:"warning"===s.state,expression:"state === 'warning'"}],staticClass:"slds-icon_container slds-m-right_small slds-no-flex slds-align-top",attrs:{svg:e(5953),iconClass:["slds-button__icon","slds-button__icon_large"]}}),s._v(" "),t("div",{staticClass:"slds-notify__content"},[s._t("default",(function(){return[t("div",[s._v(s._s(s.msg))])]}))],2),s._v(" "),t("button",{staticClass:"slds-button slds-button_icon slds-notify__close slds-button_icon-inverse",attrs:{title:s.closeLabel},on:{click:s.close}},[t("MAIconInline",{staticClass:"slds-icon_container",attrs:{svg:e(8137),iconClass:["slds-button__icon","slds-button__icon_large"]}}),s._v(" "),t("span",{staticClass:"slds-assistive-text"},[s._v(s._s(s.closeLabel))])],1)],1)])])}),[],!1,null,"2d0cadea",null).exports}}]);