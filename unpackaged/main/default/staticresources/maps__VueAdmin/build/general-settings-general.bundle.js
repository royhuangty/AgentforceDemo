"use strict";(globalThis.webpackChunkmaps_desktop=globalThis.webpackChunkmaps_desktop||[]).push([[8587],{9048:(s,e,t)=>{t.d(e,{_:()=>a,a:()=>i});const a=(s,e)=>{if(s&&"object"==typeof s&&Array.isArray(e)){for(;e.length&&s;)s=s[e.shift()];return s}},i=(s,e="maps__")=>{try{const t=new Set(["marker","scatterMarker","clusterMarker","clusterGroup","workers","DeviceHistory","orderedPolyline","distanceLimitCircle","heatmapLayer"]);Object.entries(s).forEach((([a,o])=>{if(!t.has(a))if(a.startsWith(e)){const t=a.replace(e,"");s[t]=o,delete s[a],null!=s[t]&&"object"==typeof s[t]&&i(s[t],e)}else"object"==typeof o&&i(o,e)}))}catch(s){}return s}},2176:(s,e,t)=>{t.r(e),t.d(e,{default:()=>g});var a=t(9048),i=t(2934),o=t(2646),l=t(5908);const r={components:{Modal:o.u_},data:()=>({}),methods:{close(){this.$emit("close",!1)},confirm(){this.$emit("confirm"),this.close()}}};var n=t(1900);const c=(0,n.Z)(r,(function(){var s=this,e=s._self._c;return e("Modal",{attrs:{doDetach:!0,title:s.$Labels.MA_Maps},on:{close:s.close}},[e("div",{attrs:{slot:"content"},slot:"content"},[s._v("\n        "+s._s(s.$Labels.MA_Are_You_Sure)+"\n    ")]),s._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("button",{staticClass:"slds-button slds-button_neutral",on:{click:s.close}},[s._v("\n            "+s._s(s.$Labels.MA_Cancel)+"\n        ")]),s._v(" "),e("button",{staticClass:"slds-button slds-button_brand",on:{click:s.confirm}},[s._v("\n            "+s._s(s.$Labels.MA_Yes)+"\n        ")])])])}),[],!1,null,null,null).exports,u=(0,i.defineAsyncComponent)((()=>t.e(1067).then(t.bind(t,1067)))),{$Images:d}=window,_={components:{Spinner:o.$j,ConfirmModal:c,RemoteSettingModal:u},data:()=>({isLoading:!1,apiKey:"",liveKey:"",useMapsV2Page:!1,folderPermissions:!1,showProfileWithUser:!1,routingRoleSecurity:!1,debugLogsEnabled:!1,showConfirmModal:!1,showRemoteSitesModal:!1,originalUseMapsV2Page:!1,chatterStatusURL:d.chatterStatusLoader}),created(){this.getSettings()},methods:{...(0,l.mapActions)({settings__getSettings:"getSettings",settings__saveGeneralSettings:"saveGeneralSettings",settings__clearDebugLogs:"clearDebugLogs"}),processSettings(s){this.apiKey=(0,a._)(s,["APIKey","maps__Value__c"])||"",this.liveKey=(0,a._)(s,["LiveAPIKey","maps__Value__c"])||"",this.useMapsV2Page="false"===((0,a._)(s,["hideMapsV2Page","maps__Value__c"])||"false"),this.originalUseMapsV2Page=this.useMapsV2Page,this.folderPermissions="true"===(0,a._)(s,["FolderPermissionsEnabled","maps__Value__c"]),this.showProfileWithUser="true"===(0,a._)(s,["ShowProfileWithUserEnabled","maps__Value__c"]),this.routingRoleSecurity="true"===(0,a._)(s,["RoutingRoleSecurity","maps__Value__c"]),this.debugLogsEnabled="true"===(0,a._)(s,["DebugLogsEnabled","maps__Value__c"])},getSettings(){this.isLoading=!0,this.settings__getSettings().then((s=>{this.processSettings(s)})).finally((()=>{this.isLoading=!1}))},saveGeneralSettings(){this.isLoading=!0,!this.originalUseMapsV2Page&&this.useMapsV2Page&&(this.showRemoteSitesModal=!0);const s={APIKey:this.apiKey,LiveAPIKey:this.liveKey,hideMapsV2Page:!this.useMapsV2Page,FolderPermissionsEnabled:this.folderPermissions,ShowProfileWithUserEnabled:this.showProfileWithUser,RoutingRoleSecurity:this.routingRoleSecurity,DebugLogsEnabled:this.debugLogsEnabled};this.settings__saveGeneralSettings(s).then((()=>{this.showSuccessMessage(),this.originalUseMapsV2Page=this.useMapsV2Page})).catch((s=>{console.warn(s),window.MAToastMessages.showError({message:this.$Labels.MapsSetting_Changes_Were_Not_Saved,subMessage:s.message,timeOut:7e3,closeButton:!0})})).finally((()=>{this.isLoading=!1}))},confirmDebugDeletion(){this.showConfirmModal=!0},showSuccessMessage(){window.MAToastMessages.showSuccess({message:this.$Labels.MA_Success})},clearDebugLogs(){this.isLoading=!0,this.settings__clearDebugLogs().then((()=>{this.showSuccessMessage()})).catch((s=>{window.MAToastMessages.showError({message:"Unable to save settings.",subMessage:s.message,timeOut:7e3,closeButton:!0})})).finally((()=>{this.isLoading=!1}))}}},g=(0,n.Z)(_,(function(){var s=this,e=s._self._c;return e("div",[e("div",{attrs:{id:"TopTabs-General"}},[s.isLoading?e("Spinner"):s._e(),s._v(" "),e("div",{staticClass:"slds-section slds-m-bottom_large slds-is-open"},[e("div",{staticClass:"slds-section__title slds-theme--shade"},[e("span",{staticClass:"section-header-title slds-p-horizontal--small slds-truncate"},[s._v(s._s(s.$Labels.MA_Enabled_Features))])]),s._v(" "),e("div",{staticClass:"slds-section__content section__content"},[e("div",{staticClass:"slds-has-flexi-truncate slds-p-horizontal_x-small"},[e("fieldset",{staticClass:"slds-form-element"},[e("div",{staticClass:"slds-form-element__control"},[e("span",{staticClass:"slds-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.useMapsV2Page,expression:"useMapsV2Page"}],staticClass:"feature-useMapsV2Page",attrs:{id:"feature-useMapsV2Page",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(s.useMapsV2Page)?s._i(s.useMapsV2Page,null)>-1:s.useMapsV2Page},on:{change:function(e){var t=s.useMapsV2Page,a=e.target,i=!!a.checked;if(Array.isArray(t)){var o=s._i(t,null);a.checked?o<0&&(s.useMapsV2Page=t.concat([null])):o>-1&&(s.useMapsV2Page=t.slice(0,o).concat(t.slice(o+1)))}else s.useMapsV2Page=i}}}),s._v(" "),e("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-useMapsV2Page"}},[e("span",{staticClass:"slds-checkbox_faux"}),s._v(" "),e("span",{staticClass:"slds-form-element__label"},[s._v(s._s(s.$Labels.Permission_Group_Use_Maps_V2_Page))])])]),s._v(" "),e("span",{staticClass:"slds-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.folderPermissions,expression:"folderPermissions"}],staticClass:"feature-folderpermissions",attrs:{id:"feature-folderpermissions",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(s.folderPermissions)?s._i(s.folderPermissions,null)>-1:s.folderPermissions},on:{change:function(e){var t=s.folderPermissions,a=e.target,i=!!a.checked;if(Array.isArray(t)){var o=s._i(t,null);a.checked?o<0&&(s.folderPermissions=t.concat([null])):o>-1&&(s.folderPermissions=t.slice(0,o).concat(t.slice(o+1)))}else s.folderPermissions=i}}}),s._v(" "),e("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-folderpermissions"}},[e("span",{staticClass:"slds-checkbox_faux"}),s._v(" "),e("span",{staticClass:"slds-form-element__label"},[s._v(s._s(s.$Labels.MA_Folder_Permissions))])])]),s._v(" "),e("span",{staticClass:"slds-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.showProfileWithUser,expression:"showProfileWithUser"}],staticClass:"feature-showprofilewithuser",attrs:{id:"feature-showprofilewithuser",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(s.showProfileWithUser)?s._i(s.showProfileWithUser,null)>-1:s.showProfileWithUser},on:{change:function(e){var t=s.showProfileWithUser,a=e.target,i=!!a.checked;if(Array.isArray(t)){var o=s._i(t,null);a.checked?o<0&&(s.showProfileWithUser=t.concat([null])):o>-1&&(s.showProfileWithUser=t.slice(0,o).concat(t.slice(o+1)))}else s.showProfileWithUser=i}}}),s._v(" "),e("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-showprofilewithuser"}},[e("span",{staticClass:"slds-checkbox_faux"}),s._v(" "),e("span",{staticClass:"slds-form-element__label"},[s._v(s._s(s.$Labels.MapsSetting_Display_Name_On_Tooltip))])])]),s._v(" "),e("span",{staticClass:"slds-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.routingRoleSecurity,expression:"routingRoleSecurity"}],staticClass:"feature-routingrolesecurity",attrs:{id:"feature-routingrolesecurity",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(s.routingRoleSecurity)?s._i(s.routingRoleSecurity,null)>-1:s.routingRoleSecurity},on:{change:function(e){var t=s.routingRoleSecurity,a=e.target,i=!!a.checked;if(Array.isArray(t)){var o=s._i(t,null);a.checked?o<0&&(s.routingRoleSecurity=t.concat([null])):o>-1&&(s.routingRoleSecurity=t.slice(0,o).concat(t.slice(o+1)))}else s.routingRoleSecurity=i}}}),s._v(" "),e("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-routingrolesecurity"}},[e("span",{staticClass:"slds-checkbox_faux"}),s._v(" "),e("span",{staticClass:"slds-form-element__label"},[s._v(s._s(s.$Labels.MA_Routing_Role_Security))])])]),s._v(" "),e("span",{staticClass:"slds-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.debugLogsEnabled,expression:"debugLogsEnabled"}],staticClass:"feature-debuglogs",attrs:{id:"feature-debuglogs",type:"checkbox",name:"options"},domProps:{checked:Array.isArray(s.debugLogsEnabled)?s._i(s.debugLogsEnabled,null)>-1:s.debugLogsEnabled},on:{change:function(e){var t=s.debugLogsEnabled,a=e.target,i=!!a.checked;if(Array.isArray(t)){var o=s._i(t,null);a.checked?o<0&&(s.debugLogsEnabled=t.concat([null])):o>-1&&(s.debugLogsEnabled=t.slice(0,o).concat(t.slice(o+1)))}else s.debugLogsEnabled=i}}}),s._v(" "),e("label",{staticClass:"slds-checkbox__label",attrs:{for:"feature-debuglogs"}},[e("span",{staticClass:"slds-checkbox_faux"}),s._v(" "),e("span",{staticClass:"slds-form-element__label"},[s._v(s._s(s.$Labels.MA_Debug_Logs))])]),s._v(" "),e("span",{staticClass:"slds-text-body_small",staticStyle:{cursor:"pointer",color:"#2265BB"},attrs:{id:"ClearDebugLogs"},on:{click:s.confirmDebugDeletion}},[s._v("\n                                    "+s._s(s.$Labels.MA_Clear)+"\n                                ")]),s._v(" "),e("img",{staticStyle:{height:"10px",display:"none"},attrs:{src:s.chatterStatusURL}})])])])])])]),s._v(" "),e("div",{staticClass:"buttons"},[e("button",{staticClass:"slds-button slds-button_brand",attrs:{type:"button"},on:{click:s.saveGeneralSettings}},[s._v("\n                "+s._s(s.$Labels.MA_Save)+"\n            ")]),s._v(" "),e("span",{staticClass:"msgs",staticStyle:{color:"red","font-size":"10px",display:"none"}})])],1),s._v(" "),s.showConfirmModal?e("ConfirmModal",{on:{confirm:s.clearDebugLogs,close:function(e){s.showConfirmModal=!1}}}):s._e(),s._v(" "),s.showRemoteSitesModal?e("RemoteSettingModal",{on:{close:function(e){s.showRemoteSitesModal=!1}}}):s._e()],1)}),[],!1,null,null,null).exports}}]);