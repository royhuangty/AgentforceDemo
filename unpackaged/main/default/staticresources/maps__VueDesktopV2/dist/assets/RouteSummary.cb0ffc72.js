import{_,B as f,f as p,aO as y,aQ as l,r as g,o as s,c as r,j as d,t as i,h as a,a0 as R,e as u,a7 as S,i as m,p as b,k as v}from"../bundle.js";const x={components:{ButtonIcon:f},props:{pendingChanges:{type:Boolean,default:!1},pendingPrint:{type:Boolean,default:!1},hidePrintIcons:{type:Boolean,default:!1},hideTrafficData:{type:Boolean,default:null},showEmailRouteOption:{type:Boolean,default:!0}},emits:["update:pendingPrint","generate","print-route"],setup(){const t=p(),o=y();return{mainStore:t,routesStore:o}},computed:{currentRoute(){return this.routesStore.currentRoute},showRouteSummary(){return this.currentRoute.summary&&Object.keys(this.currentRoute.summary).length!==0&&!this.currentRoute.pendingChanges},hasError(){return this.currentRoute.hasWaypointError},waypointCount(){let t=this.currentRoute.waypoints.length;return this.currentRoute.first&&Object.keys(this.currentRoute.first).length!==0&&t++,this.currentRoute.last&&Object.keys(this.currentRoute.last).length!==0&&t++,t},miles(){return(this.currentRoute.summary.distance*621371e-9).toFixed(1)},kilometers(){return(this.currentRoute.summary.distance/1e3).toFixed(1)},totalDistance(){return l.units==="mi"?this.formatLabel(this.$Labels.MA_Num_Mi,{0:this.miles}):l.units==="km"?this.formatLabel(this.$Labels.MA_Num_Km,{0:this.kilometers}):""},timeCSS(){return"traffic-warning-color"},isTrafficEnabled(){return this.hideTrafficData!=null?!this.hideTrafficData:l.isTrafficEnabled},totalTrafficTime(){return this.formatLabel(this.$Labels.routes_Num_Mins_With_Traffic,{0:`${this.hours} ${this.timeMinutes}`})},nonTrafficTime(){return this.formatLabel(this.$Labels.MA_Num_Mins,{0:`${this.hours} ${this.timeMinutes}`})},hours(){return this.timeHours&&this.timeHours>0?this.formatLabel(this.$Labels.MA_Num_Hrs,{0:this.timeHours}):""},timeMinutes(){return parseInt(this.remainderSeconds/60,10)},timeHours(){return parseInt(this.currentRoute.summary.totaltraveltime/3600,10)},remainderSeconds(){return this.currentRoute.summary.totaltraveltime-this.timeHours*3600}},methods:{print(){this.currentRoute.pendingChanges?(this.$emit("update:pendingPrint",!0),this.$emit("generate")):this.$emit("print-route")},formatLabel(t,o={}){return Object.keys(o).forEach(n=>t=t.replace(new RegExp(`\\{${n}\\}`,"g"),o[n])),t}}},h=t=>(b("data-v-52f29b74"),t=t(),v(),t),k={id:"routeSummary",class:"slds-grid slds-p-left_medium slds-p-right_x-small slds-p-vertical_x-small"},T={key:"error-view"},C={class:"text-lowercase"},E={key:"full-summary",class:"slds-col slds-text-body_small slds-grid slds-grid_vertical-align-center"},w={class:"slds-p-right_x-small"},B={key:1,class:"total-duration-no-traffic"},L=h(()=>a("div",{class:"slds-p-right_x-small"}," \u2022 ",-1)),I={class:"slds-p-right_x-small"},M=h(()=>a("div",{class:"slds-p-right_x-small"}," \u2022 ",-1)),N={class:"text-lowercase"},P={key:2,class:"slds-p-left_x-small"},O={key:3};function A(t,o,n,D,H,e){const c=g("ButtonIcon");return s(),r("div",k,[e.hasError?(s(),r("div",T,[d(i(e.waypointCount)+" ",1),a("span",C,i(t.$Labels.MA_STOPS),1)])):e.showRouteSummary?(s(),r("div",E,[a("div",w,[e.isTrafficEnabled?(s(),r("div",{key:0,class:R(e.timeCSS)},i(e.totalTrafficTime),3)):(s(),r("div",B,i(e.nonTrafficTime),1))]),L,a("div",I,i(e.totalDistance),1),M,a("div",null,[d(i(e.waypointCount)+"\xA0",1),a("span",N,i(t.$Labels.MA_STOPS),1)])])):u("",!0),S(t.$slots,"button",{},void 0,!0),!n.hidePrintIcons&&n.showEmailRouteOption?(s(),r("div",P,[m(c,{id:"routeSummarySendEmailRouteBtnResource",assistiveText:"Email Route",class:"slds-p-vertical_x-small slds-p-horizontal_x-small",iconCategory:"utility",disabled:e.hasError,iconName:"email",title:"Email",onClick:e.print},null,8,["disabled","onClick"])])):u("",!0),n.hidePrintIcons?u("",!0):(s(),r("div",O,[m(c,{id:"routeSummaryPrintRouteBtnResource",class:"slds-p-vertical_x-small slds-p-horizontal_xx-small",assistiveText:"Print Route",disabled:e.hasError,iconCategory:"utility",iconName:"print",title:"print",onClick:e.print},null,8,["disabled","onClick"])]))])}const V=_(x,[["render",A],["__scopeId","data-v-52f29b74"]]);export{V as R};
