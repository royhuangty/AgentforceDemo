import{_ as B,d as w,a as $,S as F,B as I,J as V,a5 as D,l as M,K as N,g as H,f as R,aH as P,bO as E,r as c,o as l,c as s,b as n,e as O,h as y,t as v,F as L,q as m,w as r,j as k,i as d,s as G,v as U}from"../bundle.js";import{L as C}from"./layer-actions.075222c3.js";import"./enums.445299a0.js";const z=w({loader:()=>$(()=>import("./LayerRoot.06a663f1.js").then(a=>a.L),[MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/LayerRoot.06a663f1.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "bundle.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/main.feeda730.css" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/layer-actions.075222c3.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/enums.445299a0.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/LayerRoot.aa78ba15.css" })],import.meta.url),loadingComponent:F}),j={components:{Spinner:F,ButtonIcon:I,ActionMenu:V,Checkbox:D,SLDSButton:M,ActionMenuItem:N,LayerRow:z},setup(){const a=H(),o=R();return{layersStore:a,mainStore:o}},data(){return{icons:P(),layerTypes:[{label:this.$Labels.Layers_Saved_Filter_CheckBox_Folders,value:"folder",active:!0},{label:this.$Labels.Layers_Saved_Filter_CheckBox_Marker,active:!0,value:"marker"},{label:this.$Labels.Layers_Saved_Filter_CheckBox_Data_Layer,active:!0,value:"datalayer"},{label:this.$Labels.Layers_Saved_Filter_CheckBox_Shape,active:!0,value:"shape"},{label:this.$Labels.Layers_Saved_Filter_CheckBox_Territory_Layer,active:!0,value:"territory"},{label:this.$Labels.Layers_Saved_Filter_CheckBox_Polyline_Layer,active:!0,value:"polyline"},{label:this.$Labels.Layers_Saved_Filter_CheckBox_Favorite_Locations,active:!0,value:"favorite"}],creatableLayers:[],availableLayers:[],breadCrumbs:[],currentFolderActions:[],folderError:!1}},async created(){const a=this.mainStore?.settings?.folders?.default||"Home";await this.getFolder({folderId:a}),(this.mainStore?.settings?.featureVisibility||{}).arcGIS&&this.layerTypes.push({label:this.$Labels.Layers_Saved_Filter_CheckBox_ArcGIS_Web_Map,active:!0,value:"arcgisonline"}),this.layerTypes.push({label:this.$Labels.Layers_Saved_Filter_CheckBox_Live_Layer,active:!0,value:"live"}),this.layerTypes.push({label:this.$Labels.Layers_Saved_Filter_CheckBox_Device_Layer,active:!0,value:"live-device"}),this.layerTypes.push({label:this.$Labels.Layers_Saved_Filter_CheckBox_Geofence_Layer,active:!0,value:"geofence"}),this.layerTypes=E({location:"layer_filters",items:this.layerTypes})},methods:{async getFolder({folderId:a}){try{await this.layersStore.updateFolderData({folderId:a})}catch(o){console.warn(o),this.mainStore.toast({message:this.$Labels.Layers_On_The_Map_Layers_Saved_Tab_Failed_To_Load_Default_Folder,state:"error"}),await this.layersStore.updateFolderData({folderId:"Home"})}},handleFolderAction(a){const{enabled:o=!1,action:b}=a;!o||C.handleAction({action:b,layerData:{type:"folder",id:this.layersStore.currentFolder.id,name:this.layersStore.currentFolder.label}})},handleAction(a){C.handleAction({action:a.action,layerData:a.layer})},showItem(a){const o=a.type,b=this.layerTypes.find(p=>p.value===o);return b?b.active:!1}}},q={id:"layer-tab-folders",class:"slds-grid slds-grid_vertical slds-col",style:{height:"100%"}},J={class:"folder-breadcrumb-wrap slds-grid slds-grid_vertical-align-center slds-p-around_x-small slds-p-top_none slds-border_bottom"},K={id:"folder-breadcrumb"},W={key:0},Q={key:0,class:"slds-p-left_x-small slds-border_bottom"},X={key:1,class:"slds-grid slds-grid_vertical-align-center"},Y={class:"layer-icon slds-grow-none",style:{width:"20px",height:"20px"}},Z=["src"],ee={class:"slds-p-left_x-small"},ae={id:"folder-contents",class:"slds-col slds-scrollable_y"};function le(a,o,b,i,p,u){const x=c("Spinner"),S=c("SLDSButton"),g=c("ButtonIcon"),_=c("ActionMenuItem"),T=c("Checkbox"),f=c("ActionMenu"),A=c("LayerRow");return l(),s("div",q,[i.layersStore.savedTabLoading?(l(),n(x,{key:0})):O("",!0),y("div",J,[y("div",K,[i.layersStore.savedTabLoading?(l(),s("div",W,v(a.$Labels.Layers_On_The_Map_Loading)+"...",1)):(l(!0),s(L,{key:1},m(i.layersStore.breadCrumbs,(e,t)=>(l(),n(S,{key:t,class:"slds-text-body_small","data-test-id":`breadcrumb-${e.id}`,variant:"base",iconCategory:"utility",iconClass:["slds-button_icon-xxx-small","slds-m-left_xx-small"],iconName:t===i.layersStore.breadCrumbs.length-1?"":"chevronright",iconPosition:"right",onClick:h=>u.getFolder({folderId:e.id})},{default:r(()=>[k(v(e.name),1)]),_:2},1032,["data-test-id","iconName","onClick"]))),128))]),d(f,{class:"slds-p-right_x-small slds-col_bump-left"},{button:r(()=>[d(g,{id:"sb-filter-btn-resource",iconCategory:"utility",iconName:"filterList",variant:"bare",size:"small",style:{"border-radius":"0 .25rem .25rem 0","margin-left":"-1px"},assistiveText:a.$Labels.Layers_Saved_Filter_Header_Layer_Type,title:a.$Labels.Layers_Saved_Filter_Header_Layer_Type},null,8,["assistiveText","title"])]),default:r(()=>[d(_,{header:"",class:"slds-border_bottom",label:a.$Labels.Layers_Saved_Filter_Header_Layer_Type},null,8,["label"]),(l(!0),s(L,null,m(p.layerTypes,(e,t)=>(l(),n(_,{key:t,role:"menuitemcheckbox",label:e.label,class:"slds-dropdown__item",disabled:"",onClick:h=>e.active=!e.active},{default:r(()=>[d(T,{modelValue:e.active,"onUpdate:modelValue":h=>e.active=h,inputAttrs:{id:`sb-layer-type-${t}-btn-resource`},labels:{name:e.label},class:"layer-action-item"},null,8,["modelValue","onUpdate:modelValue","inputAttrs","labels"])]),_:2},1032,["label","onClick"]))),128))]),_:1}),d(f,{class:"slds-p-right_x-small"},{button:r(()=>[d(S,{id:"sb-new-layer-folder-btn-resource",variant:"brand",iconCategory:"utility",iconName:"new",iconPosition:"left"},{default:r(()=>[k(v(a.$Labels.Layers_New_Button),1)]),_:1})]),default:r(()=>[(l(!0),s(L,null,m(i.layersStore.creatableLayers,(e,t)=>(l(),s("div",{key:`action_${t}`},[e.type==="header"?(l(),n(_,{key:0,header:"",class:"slds-border_bottom",label:e.label},null,8,["label"])):(l(),n(_,{key:1,label:e.label,header:e.type==="title",disabled:e.enabled===!1,onClick:h=>u.handleFolderAction(e)},{default:r(()=>[e.type==="title"?(l(),s("div",Q,v(e.label),1)):(l(),s("div",X,[y("div",Y,[y("img",{src:p.icons[(e.icon||"").toLowerCase()]},null,8,Z)]),y("div",ee,v(e.label),1)]))]),_:2},1032,["label","header","disabled","onClick"]))]))),128))]),_:1}),d(f,null,{button:r(()=>[d(g,{iconCategory:"utility",iconName:"threedots_vertical",variant:"bare",size:"small",style:{"border-radius":"0 .25rem .25rem 0","margin-left":"-1px"},assistiveText:a.$Labels.Layers_Saved_Filter_Header_Layer_Type,title:a.$Labels.Layers_Saved_Filter_Header_Layer_Type},null,8,["assistiveText","title"])]),default:r(()=>[(l(!0),s(L,null,m(i.layersStore.folderActions,(e,t)=>(l(),s("div",{key:`action_${t}`},[e.type==="header"?(l(),n(_,{key:0,header:"",class:"slds-border_bottom",label:e.label},null,8,["label"])):(l(),n(_,{key:1,variant:"base",disabled:e.enabled===!1,class:"layer-action-item",label:e.label,onClick:h=>u.handleFolderAction(e)},null,8,["disabled","label","onClick"]))]))),128))]),_:1})]),y("div",ae,[(l(!0),s(L,null,m(i.layersStore.savedLayers,(e,t)=>G((l(),n(A,{key:`layer_${t}-${e.id}`,layer:e,onRunAction:u.handleAction},null,8,["layer","onRunAction"])),[[U,u.showItem(e)]])),128))])])}const oe=B(j,[["render",le],["__scopeId","data-v-53ccbdb7"]]);export{oe as default};
