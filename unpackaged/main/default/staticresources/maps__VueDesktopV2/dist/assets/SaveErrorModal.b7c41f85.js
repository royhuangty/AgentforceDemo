import{_ as f,I as p,Q as C,r as h,o as d,b as L,w as m,c as i,h as s,t,F as y,q as k,a0 as b,i as u,j as x,e as n,p as S,k as w}from"../bundle.js";import{M as E}from"./Modal.76578f76.js";const O={components:{Modal:E,Icon:p},props:{modalOptions:{type:Object,required:!0}},emits:["close-modal"],data(){return{saveEnabled:!1,selectedConfigId:""}},computed:{errors(){return this.modalOptions.errors},showConfigChoices(){return this.errors&&Object.keys(this.errors).length&&this.errors[Object.keys(this.errors)[0]].type==="multiple"},showConfigError(){return this.errors&&this.errors.type==="none"&&Object.keys(this.errors).length},showWarnings(){return this.errors&&this.errors.type==="warning"&&Object.keys(this.errors).length},title(){return this.showConfigChoices?this.$Labels.Schedule_Save_Schedule_Title:this.$Labels.Schedule_Save_Schedule_Error_Title},cancelLabel(){return this.$Labels.MA_Cancel},cancelClass(){return this.showConfigChoices?"slds-button_neutral":"slds-button_brand"},firstKey(){return this.showConfigChoices?Object.keys(this.errors)[0]:null},firstError(){return this.firstKey?this.errors[this.firstKey]:null},eventIds(){return this.firstError?this.firstError.eventIds:[]},sObjectLabel(){return this.firstError?this.firstError.sObjectLabel:null},options(){return this.firstError?this.firstError.options:[]}},methods:{formatLabel:C,hide(){this.modalOptions.callback({action:"hide"}),this.$emit("close-modal")},ignore(){this.modalOptions.callback({action:"ignore"}),this.$emit("close-modal")},save(){this.modalOptions.callback({action:"save",eventIds:this.eventIds,configId:this.selectedConfigId}),this.$emit("close-modal")},select(l){this.saveEnabled=!0,this.selectedConfigId=l.id}}},a=l=>(S("data-v-42e202a7"),l=l(),w(),l),I={key:"config-choices",class:"page-wrap slds-brand-band slds-grid slds-grid_vertical"},j={class:"slds-inline_icon_text slds-grid slds-m-bottom_large"},M=a(()=>s("span",{"aria-hidden":"true",class:"slds-icon slds-icon--small slds-m-right--small slds-col slds-no-flex ma-icon ma-icon-info"},null,-1)),A={class:"slds-col slds-align-middle"},F=["onClick"],z={class:"slds-p-around_x-small"},B={class:"slds-truncate slds-text-heading_small slds-m-bottom_x-small"},N={class:"slds-grid slds-m-top_x-small"},T={class:"slds-col slds-size_1-of-2 slds-p-right_small"},D={class:"slds-text-color_weak slds-text-body_small"},V={class:"slds-col slds-size_1-of-2"},H={class:"slds-text-color_weak slds-text-body_small"},K={key:"no-config"},W={class:"slds-p-around_medium"},q={class:"slds-text-heading_small slds-p-bottom_medium slds-grid slds-grid_vertical"},R={style:{"text-align":"center"},class:"slds-p-bottom_small"},J={class:"slds-grid slds-grid_vertical-align-center slds-p-bottom_medium"},Q=a(()=>s("div",{class:"slds-col slds-border_bottom"},null,-1)),G={class:"slds-p-horizontal_x-large"},P=a(()=>s("div",{class:"slds-col slds-border_bottom"},null,-1)),U={style:{"text-align":"center"},class:"slds-text-heading_small slds-p-bottom_large"},X={class:"slds-box"},Y={class:"slds-inline_icon_text slds-grid"},Z={class:"slds-col slds-align-middle slds-m-bottom_xx-small slds-p-left_small"},$={class:"slds-text-color_default"},ss={key:"save-warnings"},es={class:"slds-p-around_medium"},ls={class:"slds-text-heading_small slds-p-bottom_medium"},ts=a(()=>s("div",{class:"slds-grid slds-grid_vertical-align-center slds-p-bottom_medium"},null,-1)),os={class:"slds-text-heading_small slds-p-bottom_large"},ds={class:"slds-box"},is={class:"slds-inline_icon_text slds-grid"},rs={class:"slds-col slds-align-middle slds-m-bottom_xx-small slds-p-left_small"},as={class:"slds-text-color_default"},ns={class:"slds-text-color_weak"},cs=["disabled"];function _s(l,r,hs,ms,c,e){const _=h("Icon"),g=h("Modal");return d(),L(g,{title:e.title,labels:{close:l.$Labels.MA_Close},onClose:e.hide},{content:m(()=>[e.showConfigChoices?(d(),i("div",I,[s("div",j,[M,s("div",A,[s("p",null,t(e.formatLabel(l.$Labels.Schedule_Multiple_Configurations,[e.firstError.sObjectLabel])),1)])]),(d(!0),i(y,null,k(e.options,(o,v)=>(d(),i("a",{key:v,class:b([{"slds-is-active":c.selectedConfigId===o.id},"slds-box slds-box_link slds-box_x-small slds-m-bottom_x-small"]),href:"javascript:void(0);",onClick:bs=>e.select(o)},[s("div",z,[s("h2",B,t(o.name),1),s("div",N,[s("div",T,[s("div",D,t(l.$Labels.MA_OBJECT),1),s("div",null,t(o.objectLabel),1)]),s("div",V,[s("div",H,t(l.$Labels.MA_Related_To),1),s("div",null,t(e.firstError.baseObjectLabel),1)])])])],10,F))),128))])):e.showConfigError?(d(),i("div",K,[s("div",W,[s("div",q,[s("div",R,t(e.formatLabel(l.$Labels.Schedule_Org_Does_Not_Have_Related_Events,[e.errors.sObjectLabel])),1),s("div",J,[Q,s("div",G,[s("span",null,t(l.$Labels.modal_MLB_Activity_Filter_Condition_Op_Or),1)]),P]),s("div",U,t(e.formatLabel(l.$Labels.Schedule_Marker_Layer_Different_Event_Configuration,[e.errors.sObjectLabel])),1),s("div",X,[s("div",Y,[u(_,{category:"utility",name:"info",size:"large"}),s("div",Z,[s("p",$,[s("b",null,t(l.$Labels.Schedule_Address_Following_Issues),1)]),x(" "+t(l.$Labels.Schedule_Ask_SF_Admin_For_Help),1)])])])])])])):e.showWarnings?(d(),i("div",ss,[s("div",es,[s("div",ls,t(l.$Labels.Schedule_Save_Error_Data_Loss),1),ts,s("div",os,t(e.errors.warnings.join(`
`)),1),s("div",ds,[s("div",is,[u(_,{category:"utility",name:"info",size:"large"}),s("div",rs,[s("p",as,[s("b",null,t(l.$Labels.Schedule_Address_Following_Issues),1)]),s("p",ns,t(l.$Labels.Schedule_Ask_SF_Admin_For_Help),1)])])])])])):n("",!0)]),footer:m(()=>[s("button",{class:b([e.cancelClass,"slds-button"]),onClick:r[0]||(r[0]=(...o)=>e.hide&&e.hide(...o))},t(e.cancelLabel),3),e.showConfigChoices?(d(),i("button",{key:0,disabled:!c.saveEnabled,class:"slds-button slds-button_brand",onClick:r[1]||(r[1]=(...o)=>e.save&&e.save(...o))},t(l.$Labels.MA_Save),9,cs)):n("",!0),e.showWarnings?(d(),i("button",{key:1,class:"slds-button slds-button_brand",onClick:r[2]||(r[2]=(...o)=>e.ignore&&e.ignore(...o))},t(l.$Labels.MA_Save),1)):n("",!0)]),_:1},8,["title","labels","onClose"])}const vs=f(O,[["render",_s],["__scopeId","data-v-42e202a7"]]);export{vs as default};
