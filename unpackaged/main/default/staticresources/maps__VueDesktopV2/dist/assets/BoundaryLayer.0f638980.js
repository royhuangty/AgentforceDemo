import{_ as $,H as G,B as z,J as N,l as H,a5 as W,P as j,O as Z,K as J,f as Y,g as Q,be as X,aH as ee,cm as se,aP as U,L as le,bk as D,ca as R,b7 as I,cn as k,co as S,cp as q,Q as te,cf as ie,r as v,o as c,c as p,h as n,t as m,s as L,v as V,i as r,w as O,b as F,e as _,Y as ae,j as A,F as re,q as oe,ao as ne,p as de,k as ce}from"../bundle.js";import{C as ue}from"./ColorPicker.e47e828c.js";import{R as ye}from"./Group.7e0cb254.js";import{T as pe}from"./TimePicker.bfa4e2f9.js";import{g as me,a as he}from"./kml-utils.24d6bf9d.js";import{u as _e}from"./index.d251dbc7.js";import{c as b,r as T,b as B,a as be}from"./index.0172543b.js";import"./Radio.2202254f.js";const{GraphicsLayer:ve,Graphic:fe}=await G(["esri/layers/GraphicsLayer","esri/Graphic"]),ge=e=>l=>!!e.find(o=>o.id===l),Le={components:{ButtonIcon:z,ActionMenu:N,SLDSButton:H,Checkbox:W,Picklist:j,TextInput:Z,ColorPicker:ue,ActionMenuItem:J,TimePicker:pe,RadioGroup:ye},props:{layer:{type:Object,default:()=>{},required:!0}},emits:["remove-layer"],setup(){const e=Y(),l=Q();return{mainStore:e,layersStore:l}},data(){return{v$:_e(),centerOptions:[{label:this.$Labels.MA_Address,value:"address",disabled:!1},{label:this.$Labels.MA_COORDINATES,value:"coordinates",disabled:!1}],searchOptions:[{options:e=>X({term:e,excludeType:"query"})}],shapeOnMap:!1,isLoading:!0,legend:[],userLocale:MAPS.currentUser.Locale.replace("sh_ME_USD","sh-ME").replace("_","-").slice(0,5),loadingMsg:"",errorMessage:"",markerVisibility:!1,isVisible:!1,shapeTypes:[{id:"circle",label:this.$Labels.Layers_On_The_Map_OverFlow_Boundary_Picklist_Option_As_The_Crow_Flies,visible:!0},{id:"kml",label:this.$Labels.Layers_On_The_Map_OverFlow_Boundary_Picklist_Option,visible:!0},{id:"traveltime",label:this.$Labels.Layers_On_The_Map_OverFlow_Boundary_Picklist_Option_Travel_Time,visible:!0},{id:"traveldistance",label:this.$Labels.MA_Travel_Distance,visible:!0}],isSketch:!1,center:{type:"address",address:"",latitude:0,longitude:0},showOptions:!1,circle:{radius:0,units:"meters",fill:"",border:"",opacity:.5},traveltime:{fill:"",border:"",hours:0,minutes:0,opacity:.5,traffic:!1,time:{hours:1,minutes:15},day:0,invalid:!1},traveldistance:{radius:0,units:"meters",fill:"",border:"",opacity:.5},polygon:{fill:"",border:"",opacity:.5},rectangle:{fill:"",border:"",opacity:.5},unitOptions:[{id:"miles",label:this.$Labels.Routes_Miles},{id:"km",label:this.$Labels.Routes_Kilometers},{id:"meters",label:this.$Labels.MA_Meters},{id:"yards",label:this.$Labels.MA_Yards},{id:"feet",label:this.$Labels.MA_Feet}],kmlOptions:[],kmlOptionsLoaded:!1,selectedKML:"",trafficDays:[],trafficString:"",isMapIt:!1}},validations(){const e={center:{address:{},latitude:{},longitude:{}},traveltime:{hours:{},minutes:{}},traveldistance:{radius:{}},circle:{radius:{},units:{}}};return(this.layer.type==="circle"||this.layer.type==="traveltime"||this.layer.type==="traveldistance")&&(e.center.latitude={required:b.withMessage(this.$Labels.MA_Field_Req,T)},e.center.longitude={required:b.withMessage(this.$Labels.MA_Field_Req,T)},this.center.type==="address"&&(e.center.address={required:b.withMessage(this.$Labels.Error_Enter_Address,T)})),this.layer.type==="circle"?(e.circle.units={invalidOption:b.withMessage(this.$Labels.Layers_Invalid_Input,ge(this.unitOptions))},e.circle.radius={required:b.withMessage(this.$Labels.MA_Field_Req,T),minValue:b.withMessage(this.$Labels.modal_MLB_Input_Error_Positive_Integer,B(1e-5))}):this.layer.type==="traveltime"?(e.traveltime.hours={required:b.withMessage(this.$Labels.MA_Field_Req,T),minValue:b.withMessage(this.$Labels.Layers_Time_Greater_Than_Zero,B(0)),maxValue:b.withMessage(this.$Labels.Layers_Travel_Five_Thirty,be(5))},e.traveltime.minutes={required:b.withMessage(this.$Labels.MA_Field_Req,T),minValue:b.withMessage(this.$Labels.Layers_Time_Greater_Than_Zero,B(0))}):this.layer.type==="traveldistance"&&(e.traveldistance.radius={minValue:b.withMessage(this.$Labels.Layers_Distance_Greater_Than_Zero,B(1e-5))}),e},computed:{dayIndexToString(){return{1:this.$Labels.MA_Monday,2:this.$Labels.MA_Tuesday,3:this.$Labels.MA_Wednesday,4:this.$Labels.MA_Thursday,5:this.$Labels.MA_Friday,6:this.$Labels.MA_Saturday,7:this.$Labels.MA_Sunday}},layerIcon(){return ee().proximity},proximitySettings(){return this.mainStore.settings.proximitySettings},opacityOptions(){const e=[];for(let l=1;l<11;l++)e.push({value:l/10,label:`${l*10}%`});return e},isEditMode(){return this.layer.isEditMode},disableBoundaryTypePicklist(){return this.layer.type==="rectangle"||this.layer.type==="polygon"},invertProximity(){return this.proximitySettings?.invertProximity?.value||!1}},watch:{"traveltime.time":{handler(){this.getTrafficDayAndTime()}},"layer.type":{async handler(e){e==="kml"&&!this.kmlOptionsLoaded&&(this.kmlOptionsLoaded=!0,this.kmlOptions=await me())}}},async created(){this.initBoundaryLayer(),this.setTrafficInfo(),this.setShapeStyles(),this.layer.isSketch?(await this.setSketchValues(),await this.buildShape()):(this.showOptions=!0,this.isLoading=!1)},unmounted(){this.removeGraphic()},methods:{initBoundaryLayer(){const{circleRadiusUnits:e={},circleRadius:l={},travelTimeRadiusHours:i={},travelTimeRadiusMinutes:o={},travelDistanceRadius:s={},travelDistanceRadiusUnits:a={},defaultProximityType:d={}}=this.proximitySettings;this.circle.radius=l?.value||"50",this.circle.units=String(e?.value||"meters").toLowerCase(),this.traveltime.hours=i?.value??"1",this.traveltime.minutes=o?.value??"0",this.traveldistance.units=String(a?.value||"meters").toLowerCase(),this.traveldistance.radius=s?.value||"50";let u=d?.value||"circle";u=String(u).toLowerCase(),this.layer.type=u},async setSketchValues(){const{shapeData:e={affectVisibility:!1,proximityType:"circle",radius:"50",units:"meters",type:"circle",hours:"1",minutes:"0"}}=this.layer,l=String(e.units).toLowerCase(),{isMapIt:i=!1}=this.layer;i?(this.layer.type="circle",this.layer.shapeData.proximityType="circle",this.markerVisibility=this.layer.shapeData.affectVisibility,this.isMapIt=!0,this.circle.radius=e.radius,this.circle.units=se(l),this.circle.units==="kilometers"&&(this.circle.units="km"),await this.$nextTick(),this.v$.$touch(),this.v$.$invalid&&(this.showOptions=!0)):(this.layer.type=String(e.proximityType).toLowerCase(),this.layer.type==="traveldistance"?(this.traveldistance.units=l,this.traveldistance.radius=e.radius):this.layer.type==="traveltime"?(this.traveltime.hours=e.hours,this.traveltime.minutes=e.minutes):this.layer.type==="circle"&&(this.circle.radius=e.radius,this.circle.units=l))},createGraphicsLayer(){const e=new ve({qid:this.layer.qid,id:this.layer.qid,isBoundary:!0,graphics:[],spatialReference:{wkid:4326},label:this.layer.name});MAPS.view.map.add(e)},setTrafficInfo(){const e=U.fromJSDate(new Date),l=e.weekday;let i;const o=MAPS.currentUser.StartOfWeekIndex===0?7:MAPS.currentUser.StartOfWeekIndex;l===o?i=e.startOf("day"):o===6?i=e.startOf("week").set({weekday:MAPS.currentUser.StartOfWeekIndex}).minus({week:1}):i=e.startOf("week").set({weekday:MAPS.currentUser.StartOfWeekIndex});let s=i;const a=[];for(let d=0;d<7;d++){const u=s.weekday;a.push({dayKey:u,day:this.dayIndexToString[u],date:s.toISODate(),label:s.toFormat("EEEEE"),checked:!1}),s=s.plus({days:1})}this.trafficDays=a,this.traveltime.day=l,this.traveltime.time={hours:e.hour,minutes:e.minute},this.getTrafficDayAndTime()},getTrafficDayAndTime(){try{const e=this.dayIndexToString[this.traveltime.day],l=U.fromObject(this.traveltime.time);this.trafficString=`${e}, ${l.toFormat(MAPS.currentUser.timeFormat)}`,this.traveltime.invalid=!1}catch(e){console.warn(e),this.traveltime.invalid=!0,this.trafficString=""}},async updateCenterLocation(e){const{poi:l}=e;this.center.address=e.longTitle,this.center.latitude=l.position.lat,this.center.longitude=l.position.lng},logPlotting(){le.trackFeature({logPayload:{featureName:"plot_boundary_layer",subType:this.layer.type}})},async buildShape(){const{type:e="",shapeData:l={},isSketch:i=!1}=this.layer,o=String(e).toLowerCase();this.layer.type=o,this.isSketch=i;const{center:s={}}=l,{lng:a,lat:d}=s;switch(this.center.latitude=d||null,this.center.longitude=a||null,o){case"circle":this.center.type="coordinates",await this.drawCircle({center:[a,d]});break;case"traveltime":this.center.type="coordinates",await this.drawTravelTime();break;case"traveldistance":this.center.type="coordinates",await this.drawTravelDistance();break;case"polygon":case"rectangle":this.shapeTypes.push({id:e,label:this.$Labels.MA_Polygon}),await this.drawPolygon({type:e,shapeData:l});break;default:this.errorMessage=`Shape type ${e} is currently not supported.`}this.logPlotting(),this.isLoading=!1,this.errorMessage===""&&(this.isVisible=!0)},async removeLayer(){this.shapeOnMap=!1,this.isVisible=!1,this.layersStore.removePlottedLayer(this.layer.qid)},async removeGraphic(e=!0){this.isEditMode?D.removeGraphic({id:this.layer.qid}):D.removeLayer({id:this.layer.qid}),e&&this.markerVisibility&&this.layersStore.proximityActivatedLayers.has(this.layer.qid)&&(this.layersStore.proximityActivatedLayers.delete(this.layer.qid),this.layersStore.proximityActivatedLayers.size===0?await R():await I())},async handleMarkerVisibility(){this.markerVisibility&&this.isVisible?(this.layersStore.proximityActivatedLayers.add(this.layer.qid),await I()):(this.layersStore.proximityActivatedLayers.delete(this.layer.qid),this.layersStore.proximityActivatedLayers.size===0?await R():await I())},showError(e){this.loading=!1,this.errorMessage=e},async toggleVisibility(){const e=MAPS.view.map.findLayerById(this.layer.qid);e.visible=this.isVisible,await this.handleMarkerVisibility()},setShapeStyles(){this.shapeTypes.filter(s=>s.id!=="kml").forEach(s=>{const a=k(s.id);this[s.id].fill=a.hex.fill,this[s.id].border=a.hex.border});const e=k("polygon");this.polygon.fill=e.hex.fill,this.polygon.border=e.hex.border;const l=k("rectangle");this.rectangle.fill=l.hex.fill,this.rectangle.border=l.hex.border;const i=k("travelTime");this.traveltime.fill=i.hex.fill,this.traveltime.border=i.hex.border;const o=k("travelTime");this.traveldistance.fill=o.hex.fill,this.traveldistance.border=o.hex.border},async drawCircle({center:e,fillColor:l,borderColor:i,opacity:o}){this.createGraphicsLayer();const s=MAPS.view.map.findLayerById(this.layer.qid);let a;try{a=MAPS.Utils.Measure.convertMeasurement(this.circle.radius,this.circle.units,"meters")}catch(y){console.warn("error caught:",y.message);return}const d=await S({type:"circle",options:{center:e,radius:a,id:this.layer.qid},attributes:{label:this.$Labels.MA_Boundary},fillColor:l,borderColor:i,opacity:o}),{shapeData:u={}}=this.layer,{mapItRadius:g,mapItUnit:M}=u;g&&(this.circle.radius=g),M&&(this.circle.units=M),s.graphics.addMany([d]),this.shapeOnMap=!0,this.isVisible=!0},async drawPolygon({type:e,shapeData:l}){this.createGraphicsLayer();const i=MAPS.view.map.findLayerById(this.layer.qid);let{points:o}=l;const{bounds:s}=l;if(s){const{NE:d,SW:u}=s;o=[d,{lat:d.lat,lng:u.lng},u,{lat:u.lat,lng:d.lng}]}const a=await S({type:e,options:{id:this.layer.qid,points:o},attributes:{label:this.$Labels.MA_Boundary}});i.graphics.add(a),this.shapeOnMap=!0,this.isVisible=!0},async updateShape(){if(this.v$.$touch(),this.v$.$invalid){this.mainStore.toast({message:this.$Labels.AGISLB_Modal_ArcGIS_Validation_Fix,state:"error"});return}if(this.isLoading=!0,this.layer.type==="circle")this.removeGraphic(!1),await this.drawCircle({center:[this.center.longitude,this.center.latitude],fillColor:this.circle.fill,borderColor:this.circle.border,opacity:this.circle.opacity});else if(this.layer.type==="polygon"||this.layer.type==="rectangle"){const e=MAPS.view.map.findLayerById(this.layer.qid),l=MAPS.Utils.Color.hexToRgba(this[this.layer.type].fill,this[this.layer.type].opacity),i=e.graphics.items[0],o={type:"simple-fill",color:l,style:"solid",outline:{width:3,color:this[this.layer.type].border}};i.symbol=o}else this.layer.type==="kml"?(this.removeGraphic(),await this.drawKML({fileId:this.selectedKML,qid:this.layer.qid})):this.layer.type==="traveltime"?await this.drawTravelTime(!1):this.layer.type==="traveldistance"&&await this.drawTravelDistance(!1);await this.handleMarkerVisibility(),this.logPlotting(),this.isLoading=!1},async drawTravelTime(e){const l=Number(this.traveltime.hours)*3600,i=Number(this.traveltime.minutes)*60,o=l+i;if(o>19800){this.mainStore.toast({message:this.$Labels.Layers_Travel_Five_Thirty,state:"error"}),this.isLoading=!1;return}this.removeGraphic(e),this.createGraphicsLayer();try{const s=MAPS.view.map.findLayerById(this.layer.qid);this.isLoading=!0;const a={latitude:this.center.latitude,longitude:this.center.longitude};let d="any";if(this.traveltime.traffic){const M=this.trafficDays[this.traveltime.day],{hours:y,minutes:w}=this.traveltime.time;let f=w,h=y;Number(w)<10&&(f=`0${w}`),Number(y)<10&&(h=`0${y}`),d=`${M.date}T${h}:${f}:00`}const u=await S({type:"traveltime",fillColor:this.traveltime.fill,options:{id:this.layer.qid,departure:d,travelTime:o,center:a},attributes:{label:this.$Labels.MA_Boundary,departure:d,proximityType:"travelTime",trafficEnabled:this.traveltime.traffic,travelDistance:"",travelLatitude:a.latitude,travelLongitude:a.longitude,travelMode:"car",travelPreference:"fastest",travelTime:o/60},borderColor:this.traveltime.border,opacity:this.traveltime.opacity}),g=q(a);s.graphics.addMany([u,g]),this.shapeOnMap=!0,this.isVisible=!0}catch(s){this.mainStore.toast({message:s.message,state:"error"}),console.warn(s)}finally{this.isLoading=!1}},async drawTravelDistance(e){const l=MAPS.Utils.Measure.convertMeasurement(this.traveldistance.radius,this.traveldistance.units,"meters");if(l>1e6){let i=MAPS.Utils.Measure.convertMeasurement(1e6,"meters",this.traveldistance.units);i=Math.floor(i),i=this.$F("Numeric",i);const o=te(this.$Labels.Layers_Max_Travel_Distance,[i,this.traveldistance.units]);this.mainStore.toast({message:o,state:"error"}),this.isLoading=!1;return}this.removeGraphic(e),this.createGraphicsLayer();try{const i=MAPS.view.map.findLayerById(this.layer.qid);this.isLoading=!0;const o={latitude:this.center.latitude,longitude:this.center.longitude},s=await S({type:"traveldistance",fillColor:this.traveldistance.fill,options:{id:this.layer.qid,range:l,center:o},attributes:{label:this.$Labels.MA_Boundary,departure:"",proximityType:"travelDistance",trafficEnabled:!1,travelDistance:l,travelLatitude:o.latitude,travelLongitude:o.longitude,travelMode:"car",travelPreference:"fastest",travelTime:0},borderColor:this.traveldistance.border,opacity:this.traveldistance.opacity}),a=q(o);i.graphics.addMany([s,a]),this.shapeOnMap=!0,this.isVisible=!0}catch(i){this.mainStore.toast({message:i.message,state:"error"}),console.warn(i)}finally{this.isLoading=!1}},addCenterPointToLayer({layer:e,latitude:l,longitude:i}){const o={type:"point",latitude:l,longitude:i},s={type:"simple-marker",color:[255,255,255],size:6,outline:{color:[0,0,0],width:.5}},a=new fe({geometry:o,symbol:s});e.graphics.add(a)},async drawKML({fileId:e,qid:l}){try{await he({fileId:e,qid:l}),this.shapeOnMap=!0,this.isVisible=!0,this.zoomToFit()}catch{this.mainStore.toast({message:this.$Labels.Layers_Error_Parsing_KML,state:"error"})}},async zoomToFit(){await ie({layerUIDs:[this.layer.qid]})},async saveKMl(){this.$bus.emit("open-modal",{name:"save-sketch",config:{kml:this.selectedKML,qid:this.layer.qid,isPlotted:!0,callback:e=>{this.layersStore.updateFolderData({folderId:this.layersStore.currentFolder.id}),this.layersStore.getRecentAndPlotOnLoadLayers(),e.plotOnSave}}})}}},K=e=>(de("data-v-4297dced"),e=e(),ce(),e),Me={class:"proximity-layer proximity layer"},Ve={class:"slds-grid slds-grid_vertical-align-center slds-p-around_x-small"},Te={class:"slds-col slds-grow-none",style:{position:"relative",width:"20px"}},we={key:0,role:"status",class:"slds-spinner slds-spinner_x-small slds-spinner_brand"},ke={class:"slds-assistive-text"},Oe=K(()=>n("div",{class:"slds-spinner__dot-a"},null,-1)),Se=K(()=>n("div",{class:"slds-spinner__dot-b"},null,-1)),Ae=["src"],Be={class:"basicinfo slds-col slds-p-left_x-small slds-col_bump-right slds-size_9-of-12"},Ce={class:"slds-text-heading_small slds-truncate"},Pe={class:"slds-p-around_x-small slds-border_bottom"},xe={class:"slds-grid slds-grid_vertical slds-border_top slds-p-around_small"},Ie={key:0,class:"slds-box slds-m-top_x-small"},Fe={class:"slds-text-title_caps"},Ue={key:0,class:"slds-grid slds-p-top_x-small"},De={class:"slds-m-top_x-small"},Re={key:0,class:"slds-box"},qe={class:"slds-grid"},Ke={class:"slds-grid slds-p-top_x-small"},Ee={key:1,class:"slds-box"},$e={class:"slds-grid slds-p-top_x-small"},Ge={key:2,class:"slds-box"},ze={class:"slds-grid slds-p-top_x-small"},Ne={key:3,class:"slds-box"},He={style:{"font-size":"11px","margin-top":"10px"}},We={key:4,class:"slds-box"},je={class:"slds-text-title_caps"},Ze={class:"slds-grid slds-p-top_x-small"},Je={class:"slds-grid slds-p-top_x-small"},Ye={class:"slds-grid slds-p-top_medium"},Qe={key:0,class:"slds-col_bump-left slds-grid slds-grid_vertical-align-center"},Xe=["for"],es=["id","onUpdate:modelValue","value"],ss={class:"faux-checkbox"},ls={key:0,class:"slds-p-top_small slds-grid_vertical-align-center slds-grid"},ts={class:"slds-size_3-of-8"},is={key:5,class:"slds-box"},as={class:"slds-text-title_caps"},rs={class:"slds-grid slds-p-top_x-small"},os={class:"slds-grid slds-p-top_x-small"},ns={key:1,class:"slds-grid slds-grid_align-center slds-p-vertical_small"},ds={class:"slds-border_top slds-grid slds-grid_align-center"};function cs(e,l,i,o,s,a){const d=v("ButtonIcon"),u=v("ActionMenuItem"),g=v("Checkbox"),M=v("ActionMenu"),y=v("Picklist"),w=v("RadioGroup"),f=v("TextInput"),h=v("ColorPicker"),E=v("TimePicker"),C=v("SLDSButton");return c(),p("div",Me,[n("div",Ve,[n("div",Te,[s.isLoading?(c(),p("div",we,[n("span",ke,m(e.$Labels.Layers_On_The_Map_Loading),1),Oe,Se])):(c(),p("img",{key:1,src:a.layerIcon},null,8,Ae))]),n("div",Be,[n("div",Ce,m(e.$Labels.MA_Boundary),1),L(n("div",{class:"slds-text-color_weak"},m(s.loadingMsg),513),[[V,s.isLoading]]),L(n("div",{class:"slds-text-color_error"},m(s.errorMessage),513),[[V,!s.isLoading&&s.errorMessage]])]),r(M,{disabled:!s.shapeOnMap||a.isEditMode},{button:O(()=>[r(d,{iconCategory:"utility",iconName:s.isVisible?"preview":"hide",size:"small",title:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Header_Shape_Display,assistiveText:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Header_Shape_Display},null,8,["iconName","title","assistiveText"])]),default:O(()=>[n("div",Pe,m(e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Header_Shape_Display),1),L(r(u,{label:"hidden"},null,512),[[V,!1]]),r(g,{modelValue:s.isVisible,"onUpdate:modelValue":l[0]||(l[0]=t=>s.isVisible=t),labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Shape_Display_Checkbox_Shape_Visible},class:"slds-p-vertical_xx-small slds-p-horizontal_medium layer-action-item",onChange:a.toggleVisibility},null,8,["modelValue","labels","onChange"]),i.layer.type!=="kml"?(c(),F(g,{key:0,modelValue:s.markerVisibility,"onUpdate:modelValue":l[1]||(l[1]=t=>s.markerVisibility=t),labels:{name:a.invertProximity?e.$Labels.Only_Show_Markers_Outside_Shape:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Shape_Display_Checkbox_Markers_Inside_Shape},class:"slds-p-vertical_xx-small slds-p-horizontal_medium layer-action-item",onChange:a.handleMarkerVisibility},null,8,["modelValue","labels","onChange"])):_("",!0)]),_:1},8,["disabled"]),r(d,{iconCategory:"utility",iconName:"close",size:"small",title:e.$Labels.Layers_On_The_Map_Remove_Layer,assistiveText:e.$Labels.Layers_On_The_Map_Remove_Layer,onClick:a.removeLayer},null,8,["title","assistiveText","onClick"])]),L(n("div",xe,[r(y,{modelValue:i.layer.type,"onUpdate:modelValue":l[2]||(l[2]=t=>i.layer.type=t),inputAttrs:{id:"blSelectedTypePicklistResource"},class:"slds-text-color_default",titleKey:"label",disabled:a.disableBoundaryTypePicklist,labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Type},options:s.shapeTypes},null,8,["modelValue","disabled","labels","options"]),i.layer.type==="circle"||i.layer.type==="traveltime"||i.layer.type==="traveldistance"?(c(),p("div",Ie,[n("div",Fe,m(e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Center),1),r(w,{id:"blCenterRadioGroupResource",modelValue:s.center.type,"onUpdate:modelValue":l[3]||(l[3]=t=>s.center.type=t),options:s.centerOptions,class:"radio-group-inline slds-p-top_small"},null,8,["modelValue","options"]),s.center.type==="coordinates"?(c(),p("div",Ue,[r(f,{modelValue:s.v$.center.latitude.$model,"onUpdate:modelValue":l[4]||(l[4]=t=>s.v$.center.latitude.$model=t),inputAttrs:{id:"blLatitudeInputResource"},required:"",labels:{name:e.$Labels.MA_Latitude},type:"number",errors:e.$getErrorsByField(s.v$.center.latitude),class:"slds-col slds-size_1-of-2 slds-p-right_small"},null,8,["modelValue","labels","errors"]),r(f,{modelValue:s.v$.center.longitude.$model,"onUpdate:modelValue":l[5]||(l[5]=t=>s.v$.center.longitude.$model=t),inputAttrs:{id:"blLongitudeInputResource"},required:"",labels:{name:e.$Labels.MA_Longitude},errors:e.$getErrorsByField(s.v$.center.longitude),type:"number",class:"slds-col slds-size_1-of-2"},null,8,["modelValue","labels","errors"])])):(c(),F(y,{key:1,modelValue:s.v$.center.address.$model,"onUpdate:modelValue":l[6]||(l[6]=t=>s.v$.center.address.$model=t),inputAttrs:{id:"blCenterAddressPicklistResource"},required:"",filterable:"",class:"slds-p-top_x-small",titleKey:"longTitle",idKey:"id",errors:e.$getErrorsByField(s.v$.center.address),options:s.searchOptions,labels:{name:e.$Labels.modal_Favorite_Address},onSelectedOption:a.updateCenterLocation},null,8,["modelValue","errors","options","labels","onSelectedOption"]))])):_("",!0),L(n("div",De,[i.layer.type==="circle"?(c(),p("div",Re,[n("div",qe,[r(f,{modelValue:s.v$.circle.radius.$model,"onUpdate:modelValue":l[7]||(l[7]=t=>s.v$.circle.radius.$model=t),inputAttrs:{id:"blRadiusInputResource"},labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Radius},type:"number",errors:e.$getErrorsByField(s.v$.circle.radius),class:"slds-col slds-size_1-of-2 slds-p-right_small"},null,8,["modelValue","labels","errors"]),r(y,{modelValue:s.v$.circle.units.$model,"onUpdate:modelValue":l[8]||(l[8]=t=>s.v$.circle.units.$model=t),inputAttrs:{id:"blTimeHoursTravelInputResource"},options:s.unitOptions,titleKey:"label",errors:e.$getErrorsByField(s.v$.circle.units),labels:{name:e.$Labels.MA_UNITS},class:"slds-col slds-size_1-of-2"},null,8,["modelValue","options","errors","labels"])]),n("div",Ke,[r(h,{modelValue:s.circle.fill,"onUpdate:modelValue":l[9]||(l[9]=t=>s.circle.fill=t),labels:{chooseColor:e.$Labels.TerritoryBuilder_Fill_Color}},null,8,["modelValue","labels"]),r(h,{modelValue:s.circle.border,"onUpdate:modelValue":l[10]||(l[10]=t=>s.circle.border=t),labels:{chooseColor:e.$Labels.TerritoryBuilder_Border_Color},class:"slds-p-left_x-small"},null,8,["modelValue","labels"])]),r(y,{modelValue:s.circle.opacity,"onUpdate:modelValue":l[11]||(l[11]=t=>s.circle.opacity=t),inputAttrs:{id:"blOpacityCirclePicklistResource"},labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Opacity},options:a.opacityOptions,titleKey:"label",idKey:"value",class:"slds-p-top_x-small"},null,8,["modelValue","labels","options"])])):_("",!0),i.layer.type==="polygon"?(c(),p("div",Ee,[n("div",$e,[r(h,{modelValue:s.polygon.fill,"onUpdate:modelValue":l[12]||(l[12]=t=>s.polygon.fill=t),labels:{chooseColor:e.$Labels.TerritoryBuilder_Fill_Color}},null,8,["modelValue","labels"]),r(h,{modelValue:s.polygon.border,"onUpdate:modelValue":l[13]||(l[13]=t=>s.polygon.border=t),labels:{chooseColor:e.$Labels.TerritoryBuilder_Border_Color},class:"slds-p-left_x-small"},null,8,["modelValue","labels"])]),r(y,{modelValue:s.polygon.opacity,"onUpdate:modelValue":l[14]||(l[14]=t=>s.polygon.opacity=t),inputAttrs:{id:"blOpacityOverflowPicklistResource"},labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Opacity},options:a.opacityOptions,titleKey:"label",idKey:"value",class:"slds-p-top_x-small"},null,8,["modelValue","labels","options"])])):_("",!0),i.layer.type==="rectangle"?(c(),p("div",Ge,[n("div",ze,[r(h,{modelValue:s.rectangle.fill,"onUpdate:modelValue":l[15]||(l[15]=t=>s.rectangle.fill=t),labels:{chooseColor:e.$Labels.TerritoryBuilder_Fill_Color}},null,8,["modelValue","labels"]),r(h,{modelValue:s.rectangle.border,"onUpdate:modelValue":l[16]||(l[16]=t=>s.rectangle.border=t),labels:{chooseColor:e.$Labels.TerritoryBuilder_Border_Color},class:"slds-p-left_x-small"},null,8,["modelValue","labels"])]),r(y,{modelValue:s.rectangle.opacity,"onUpdate:modelValue":l[17]||(l[17]=t=>s.rectangle.opacity=t),inputAttrs:{id:"blOpacityRectanglePicklistResource"},labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Opacity},options:a.opacityOptions,titleKey:"label",idKey:"value",class:"slds-p-top_x-small"},null,8,["modelValue","labels","options"])])):_("",!0),i.layer.type==="kml"?(c(),p("div",Ne,[r(y,{modelValue:s.selectedKML,"onUpdate:modelValue":l[18]||(l[18]=t=>s.selectedKML=t),inputAttrs:{id:"blKMLRectangle2PicklistResource"},options:s.kmlOptions,titleKey:"Name",idKey:"Id",labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Picklist_Option},disabled:!s.kmlOptions.length},null,8,["modelValue","options","labels","disabled"]),n("div",He,[n("a",ae({href:"https://help.salesforce.com/articleView?id=000354677&type=1"},{target:"_blank"}),m(e.$Labels.Learn_More),17),A(" "+m(e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Learn_More_KML),1)])])):_("",!0),i.layer.type==="traveltime"?(c(),p("div",We,[n("div",je,m(e.$Labels.MA_Options),1),n("div",Ze,[r(f,{modelValue:s.v$.traveltime.hours.$model,"onUpdate:modelValue":l[19]||(l[19]=t=>s.v$.traveltime.hours.$model=t),inputAttrs:{id:"blTravelHoursTimeInputResource"},labels:{name:e.$Labels.modal_MLB_Live_dropdown_hours_option},type:"number",errors:e.$getErrorsByField(s.v$.traveltime.hours),class:"slds-col slds-size_1-of-2 slds-p-right_small"},null,8,["modelValue","labels","errors"]),r(f,{modelValue:s.v$.traveltime.minutes.$model,"onUpdate:modelValue":l[20]||(l[20]=t=>s.v$.traveltime.minutes.$model=t),inputAttrs:{id:"blTravelMinutesTimeInputResource"},labels:{name:e.$Labels.modal_MLB_option_MapUpdates_dropdown_min_option},type:"number",errors:e.$getErrorsByField(s.v$.traveltime.minutes),class:"slds-col slds-size_1-of-2 slds-p-right_small"},null,8,["modelValue","labels","errors"])]),n("div",Je,[r(h,{modelValue:s.traveltime.fill,"onUpdate:modelValue":l[21]||(l[21]=t=>s.traveltime.fill=t),labels:{chooseColor:e.$Labels.TerritoryBuilder_Fill_Color}},null,8,["modelValue","labels"]),r(h,{modelValue:s.traveltime.border,"onUpdate:modelValue":l[22]||(l[22]=t=>s.traveltime.border=t),labels:{chooseColor:e.$Labels.TerritoryBuilder_Border_Color},class:"slds-p-left_x-small"},null,8,["modelValue","labels"])]),r(y,{modelValue:s.traveltime.opacity,"onUpdate:modelValue":l[23]||(l[23]=t=>s.traveltime.opacity=t),labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Opacity},options:a.opacityOptions,titleKey:"label",idKey:"value",class:"slds-p-top_x-small"},null,8,["modelValue","labels","options"]),n("div",Ye,[r(g,{modelValue:s.traveltime.traffic,"onUpdate:modelValue":l[24]||(l[24]=t=>s.traveltime.traffic=t),inputAttrs:{id:"blTrafficPatternToggleChxResource"},class:"slds-size_3-of-8",slide:"",labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Toggle_Traffic}},null,8,["modelValue","labels"]),s.traveltime.traffic?(c(),p("div",Qe,[(c(!0),p(re,null,oe(s.trafficDays,(t,P)=>(c(),p("div",{key:P,class:"traffic-checkbox"},[n("label",{for:`checkbox${P}`},[L(n("input",{id:`checkbox${P}`,"onUpdate:modelValue":x=>s.traveltime.day=x,value:t.dayKey,name:"trafficDay",type:"radio",onChange:l[25]||(l[25]=(...x)=>a.getTrafficDayAndTime&&a.getTrafficDayAndTime(...x))},null,40,es),[[ne,s.traveltime.day]]),n("div",ss,m(t.label),1)],8,Xe)]))),128))])):_("",!0)]),s.traveltime.traffic?(c(),p("div",ls,[n("div",ts,m(s.trafficString),1),r(E,{modelValue:s.traveltime.time,"onUpdate:modelValue":l[26]||(l[26]=t=>s.traveltime.time=t),combobox:"",labels:{name:"Time"},locale:s.userLocale,interval:{hours:0,minutes:15},class:"slds-col_bump-left"},null,8,["modelValue","locale"])])):_("",!0)])):_("",!0),i.layer.type==="traveldistance"?(c(),p("div",is,[n("div",as,m(e.$Labels.MA_Options),1),n("div",rs,[r(f,{modelValue:s.v$.traveldistance.radius.$model,"onUpdate:modelValue":l[27]||(l[27]=t=>s.v$.traveldistance.radius.$model=t),inputAttrs:{id:"blDistanceTravelInputResource"},labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Distance},errors:e.$getErrorsByField(s.v$.traveldistance.radius),type:"number",class:"slds-col slds-size_1-of-2 slds-p-right_small"},null,8,["modelValue","labels","errors"]),r(y,{modelValue:s.traveldistance.units,"onUpdate:modelValue":l[28]||(l[28]=t=>s.traveldistance.units=t),inputAttrs:{id:"blDistanceUnitsPicklistResource"},labels:{name:e.$Labels.MA_UNITS},options:s.unitOptions,titleKey:"label"},null,8,["modelValue","labels","options"])]),n("div",os,[r(h,{modelValue:s.traveldistance.fill,"onUpdate:modelValue":l[29]||(l[29]=t=>s.traveldistance.fill=t),labels:{chooseColor:e.$Labels.TerritoryBuilder_Fill_Color}},null,8,["modelValue","labels"]),r(h,{modelValue:s.traveldistance.border,"onUpdate:modelValue":l[30]||(l[30]=t=>s.traveldistance.border=t),labels:{chooseColor:e.$Labels.TerritoryBuilder_Border_Color},class:"slds-p-left_x-small"},null,8,["modelValue","labels"])]),r(y,{modelValue:s.traveldistance.opacity,"onUpdate:modelValue":l[31]||(l[31]=t=>s.traveldistance.opacity=t),inputAttrs:{id:"blSTravelDistanceOpacityPicklistResource"},labels:{name:e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Opacity},options:a.opacityOptions,titleKey:"label",idKey:"value",class:"slds-p-top_x-small"},null,8,["modelValue","labels","options"])])):_("",!0)],512),[[V,s.showOptions]]),s.showOptions?(c(),p("div",ns,[r(C,{id:"blApplyChangesBtnResource",variant:"brand",iconCategory:"utility",iconName:"check",iconPosition:"left",disabled:a.isEditMode||s.isLoading,onClick:a.updateShape},{default:O(()=>[A(m(e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Button_Apply_Changes),1)]),_:1},8,["disabled","onClick"]),i.layer.type==="kml"?(c(),F(C,{key:0,id:"blKMLSavingBtnResource",variant:"brand",iconCategory:"utility",iconName:"save",iconPosition:"left",disabled:s.isLoading||!s.selectedKML,onClick:a.saveKMl},{default:O(()=>[A(m(e.$Labels.Layers_On_The_Map_OverFlow_Boundary_Button_Save),1)]),_:1},8,["disabled","onClick"])):_("",!0)])):_("",!0)],512),[[V,!s.errorMessage]]),L(n("div",ds,[r(C,{variant:"base",onClick:l[32]||(l[32]=t=>s.showOptions=!s.showOptions)},{default:O(()=>[A(m(s.showOptions?e.$Labels.MA_Hide_Options:e.$Labels.MA_Show_Options),1)]),_:1})],512),[[V,!s.errorMessage]])])}const fs=$(Le,[["render",cs],["__scopeId","data-v-4297dced"]]);export{fs as default};
