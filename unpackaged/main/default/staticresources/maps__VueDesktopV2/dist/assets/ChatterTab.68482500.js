import{_ as p,S as h,r as l,o as s,c as m,b as f,e as i,h as u}from"../bundle.js";const x={name:"MarkerPopupChatter",components:{Spinner:h},props:{recordId:{type:String,required:!0}},data(){return{isLoading:!0,chatterURL:""}},created(){const n=`${MAPS.baseURL}/apex/maps__ChatterFeed?entityId=${this.recordId}`,e=document.location.href,r=e.indexOf("/apex/"),t=e.indexOf("?"),o=r>-1?`${n}&${e.substring(t)}`:`${n}`;this.chatterURL=o},methods:{onFrameLoad(n){this.isLoading=!1;const e=r=>{let t=r.target;do if(t.tagName==="A"&&!(t.href?.indexOf("javascript:")>=0||t.hasAttribute("onclick"))){r.preventDefault(),this.openLinkInNewTab(t.href);break}while(t=t.parentNode)};n.target.contentDocument.addEventListener("click",e)},openLinkInNewTab(n){const e=window.open();e.opener=null,e.location.href=n}}},_={key:0,style:{"min-height":"50px"}},L=["src"];function k(n,e,r,t,o,a){const c=l("Spinner");return r.recordId?(s(),m("div",_,[o.isLoading?(s(),f(c,{key:0})):i("",!0),u("iframe",{id:"chatter-popup-frame",src:o.chatterURL,style:{width:"100%","min-height":"220px",height:"100%",border:"none","max-height":"355px",overflow:"hidden"},onLoad:e[0]||(e[0]=(...d)=>a.onFrameLoad&&a.onFrameLoad(...d))},null,40,L)])):i("",!0)}const b=p(x,[["render",k]]);export{b as default};
