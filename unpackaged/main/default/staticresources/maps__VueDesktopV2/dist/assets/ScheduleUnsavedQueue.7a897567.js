import{_ as f,l as b,S as g,a5 as v,f as M,r as o,o as c,b as u,w as a,e as C,h as n,t as l,i as d,j as m}from"../bundle.js";import{M as k}from"./Modal.76578f76.js";const y={name:"ScheduleQueueConfirmModal",components:{SLDSButton:b,Modal:k,Spinner:g,Checkbox:v},props:{modalOptions:{type:Object,required:!0}},emits:["close-modal"],setup(){return{mainStore:M()}},data(){return{loading:!1,hideModal:!1}},methods:{async confirm(){this.hideModal&&await this.saveSetting(),this.modalOptions.callback({action:"yes"}),this.$emit("close-modal")},async saveSetting(){this.loading=!0;const e={userIds:JSON.stringify([MAPS.currentUser.Id]),field:"maps__MapsSetting__c",type:"setting",value:"true",action:"save_permissions_mass",setting:"hideQueueWarningModal"};try{const{success:s}=await MAPS.Utils.Apex.invoke("maps.AdminAJAXResources.AdminStartUpAction",[e]);s||this.mainStore.toast({message:this.$Labels.Schedule_Warning_Setting_Not_Saved,state:"error"})}catch{this.mainStore.toast({message:this.$Labels.Schedule_Warning_Setting_Not_Saved,state:"error"})}finally{this.loading=!1}}}},A={class:"slds-p-vertical_small"},L={class:"slds-grid"},$={class:"slds-col_bump-left"};function N(e,s,V,B,t,_){const p=o("Spinner"),S=o("Checkbox"),r=o("SLDSButton"),h=o("Modal");return c(),u(h,{title:"Maps",size:"base",onClose:s[2]||(s[2]=i=>e.$emit("close-modal"))},{content:a(()=>[t.loading?(c(),u(p,{key:0})):C("",!0),n("div",null,l(e.$Labels.Schedule_After_Save_UnQueue_Items),1),n("div",A,l(e.$Labels.Schedule_Continue),1),d(S,{modelValue:t.hideModal,"onUpdate:modelValue":s[0]||(s[0]=i=>t.hideModal=i),style:{float:"right"},labels:{name:e.$Labels.Schedule_Hide_Message_In_Future}},null,8,["modelValue","labels"])]),footer:a(()=>[n("div",L,[n("div",$,[d(r,{class:"slds-button",variant:"neutral",disabled:t.loading,onClick:s[1]||(s[1]=i=>e.$emit("close-modal"))},{default:a(()=>[m(l(e.$Labels.MA_Cancel),1)]),_:1},8,["disabled"]),d(r,{class:"slds-button",variant:"brand",disabled:t.loading,onClick:_.confirm},{default:a(()=>[m(l(e.$Labels.MA_Confirm),1)]),_:1},8,["disabled","onClick"])])])]),_:1})}const w=f(y,[["render",N]]);export{w as default};
