import{c,r as u}from"./index.0172543b.js";import{u as g}from"./index.d251dbc7.js";import{_ as f,P as A,I as D,r as h,o,c as d,i as n,s as L,v as S,h as t,a0 as y,j as b,t as i,e as _,p as E,k as O}from"../bundle.js";const $={name:"DataLayerSource",components:{Picklist:A,Icon:D},inject:["sourceDetails","layerOptions"],props:{sourceLevels:{type:Array,required:!0},sources:{type:Array,required:!0},resetIndex:{type:Number,required:!0}},emits:["get-sources","get-source-details","reset-source","update:resetIndex","update-level","reset-level","set-styles"],data(){return{v$:g({$registerAs:"dataLayerSource"})}},computed:{dataLayerTypeError(){const e=this.$getErrorsByField(this.v$.layerOptions.type);return Array.isArray(e)?e[0]:""}},validations(){return{layerOptions:{file_id:{required:c.withMessage(this.$Labels.DataLayer_Data_Source_Requried,u)},level_id:{required:c.withMessage(this.$Labels.DataLayer_Detail_Required,u)},type:{required:c.withMessage(this.$Labels.DataLayer_Style_Required,u)}}}},methods:{async getSources(){this.$emit("get-sources")},async getSourceDetails(){this.$emit("get-source-details")},resetSource(){this.$emit("reset-source"),this.v$.$reset()},selectDataLayerStyle(e){this.layerOptions.type=e;const r=this.resetIndex+1;this.$emit("update:resetIndex",r),this.$emit("set-styles",e)}}},k=e=>(E("data-v-3f57720e"),e=e(),O(),e),I=k(()=>t("abbr",{class:"slds-required",title:"Required"},"* ",-1)),M={key:0,class:"slds-form-element__help slds-p-left_small"},T={class:"dl-cards"},q={class:"image"},C=["src"],V={class:"content"},R={class:"header"},w={class:"info"},P={class:"image"},B=["src"],N={class:"content"},F={class:"header"};function x(e,r,p,K,l,s){const m=h("Picklist"),v=h("Icon");return o(),d("div",null,[n(m,{modelValue:l.v$.layerOptions.file_id.$model,"onUpdate:modelValue":r[0]||(r[0]=a=>l.v$.layerOptions.file_id.$model=a),inputAttrs:{id:"dataLayerSourcePicklistResource"},required:"",filterable:"",titleKey:"label",idKey:"id",options:p.sources,labels:{name:e.$Labels.MA_DATA_SOURCE},errors:e.$getErrorsByField(l.v$.layerOptions.file_id),onSelectedOption:s.getSourceDetails,onClear:s.resetSource},null,8,["modelValue","options","labels","errors","onSelectedOption","onClear"]),L(n(m,{modelValue:l.v$.layerOptions.level_id.$model,"onUpdate:modelValue":r[1]||(r[1]=a=>l.v$.layerOptions.level_id.$model=a),inputAttrs:{id:"dataLayerSourceLevelOfDetailPicklistResource"},required:"",filterable:"",titleKey:"label",idKey:"id",options:p.sourceLevels,labels:{name:e.$Labels.MA_LEVEL_OF_DETAIL},errors:e.$getErrorsByField(l.v$.layerOptions.level_id),class:"slds-p-top_x-small",onSelectedOption:r[2]||(r[2]=a=>e.$emit("update-level")),onClear:r[3]||(r[3]=a=>e.$emit("reset-level"))},null,8,["modelValue","options","labels","errors"]),[[S,s.layerOptions.file_id]]),L(t("div",null,[t("div",{class:y(["slds-form-element__label slds-p-top_small slds-p-bottom_xx-small",{"slds-has-error":s.dataLayerTypeError}])},[I,b(" "+i(e.$Labels.MA_DISPLAY_TYPE)+" ",1),s.dataLayerTypeError?(o(),d("div",M,i(s.dataLayerTypeError),1)):_("",!0)],2),t("div",T,[s.sourceDetails.level.showTiles?(o(),d("div",{key:0,id:"cardShape","data-id":"polygon",class:y(["dl-card",{selected:s.layerOptions.type==="polygon",error:s.dataLayerTypeError}]),onClick:r[4]||(r[4]=a=>{s.selectDataLayerStyle("polygon")})},[n(v,{id:"dataLayerSourceTileSelectionResource",category:"utility",name:"check",variant:"inverse",iconClass:"force-icon-location",class:"slds-p-right_xx-small MAIcon"}),t("div",q,[t("img",{src:e.$Images.dataBuilder.datathumb_shape},null,8,C)]),t("div",V,[t("div",R,i(e.$Labels.MA_SHAPE),1),t("div",w,i(e.$Labels.MA_A_DEFINED_ENCLOSED_AREA_EG_A_STATE_OR_COUNTRY),1)])],2)):_("",!0),s.sourceDetails.level.showMarkers?(o(),d("div",{key:1,id:"cardMarker","data-id":"point",class:y(["dl-card",{selected:s.layerOptions.type==="point",error:s.dataLayerTypeError}]),onClick:r[5]||(r[5]=a=>{s.selectDataLayerStyle("point")})},[n(v,{id:"dataLayerSourceMarkerSelectionResource",category:"utility",name:"check",variant:"inverse",iconClass:"force-icon-location",class:"slds-p-right_xx-small MAIcon"}),t("div",P,[t("img",{src:e.$Images.dataBuilder.datathumb_marker},null,8,B)]),t("div",N,[t("div",F,i(e.$Labels.MA_Marker),1)])],2)):_("",!0)])],512),[[S,s.layerOptions.level_id]])])}const z=f($,[["render",x],["__scopeId","data-v-3f57720e"]]);export{z as default};
