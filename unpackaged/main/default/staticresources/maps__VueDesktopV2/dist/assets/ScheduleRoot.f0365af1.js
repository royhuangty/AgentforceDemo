import{_ as L,o as i,c as d,h as s,t as r,F as f,q as E,aS as y,d as w,a as T,S as m,aT as H,f as M,aU as n,r as u,s as p,v as S,i as v,b,e as g,a0 as I}from"../bundle.js";const x={name:"LegacyScheduleToast",props:{unsupportedItems:{type:Object,required:!0}},emits:["close"]},A={class:"slds-grid slds-grid_vertical-align-center ma-wrapper",errorlabel:"Error"},D={class:"slds-notify_container slds-is-relative"},R={role:"alert",class:"slds-notify slds-notify_toast ma-toast slds-theme_warning"},U=y('<span class="slds-assistive-text"> warning </span><span class="slds-icon_container slds-m-right_small slds-no-flex slds-align-top" style="display:none;"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="52px" height="52px" viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space="preserve" aria-hidden="true" class="slds-button__icon slds-button__icon_large"><path fill="#FFFFFF" d="M26,2C12.8,2,2,12.8,2,26s10.8,24,24,24s24-10.8,24-24S39.2,2,26,2z M8,26c0-9.9,8.1-18,18-18 c3.9,0,7.5,1.2,10.4,3.3L11.3,36.4C9.2,33.5,8,29.9,8,26z M26,44c-3.9,0-7.5-1.2-10.4-3.3c5.1-5.1,19.3-19.3,25.1-25.1 C42.8,18.5,44,22.1,44,26C44,35.9,35.9,44,26,44z" style="fill:inherit;"></path></svg></span><span class="slds-icon_container slds-m-right_small slds-no-flex slds-align-top"><svg xmlns="http://www.w3.org/2000/svg" width="52" height="52" viewBox="0 0 52 52" aria-hidden="true" class="slds-button__icon slds-button__icon_large"><path fill="#fff" d="m51.4 42.5l-22.9-37c-1.2-2-3.8-2-5 0l-22.9 37c-1.4 2.3 0 5.5 2.5 5.5h45.8c2.5 0 4-3.2 2.5-5.5z m-25.4-2.5c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3z m3-9c0 0.6-0.4 1-1 1h-4c-0.6 0-1-0.4-1-1v-13c0-0.6 0.4-1 1-1h4c0.6 0 1 0.4 1 1v13z" style="fill:inherit;"></path></svg></span>',3),k={class:"slds-notify__content"},O={class:"slds-text-heading_small"},V={class:"slds-scrollable_y slds-m-top_x-small unsupportedContainer"},N={class:"unsupportedRecordTable"},P=["title"],$=s("span",{class:"slds-icon_container"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"52px",height:"52px",viewBox:"0 0 52 52","enable-background":"new 0 0 52 52","xml:space":"preserve","aria-hidden":"true",class:"slds-button__icon slds-button__icon_large"},[s("path",{fill:"#FFFFFF",d:"M31,25.4L44,12.3c0.6-0.6,0.6-1.5,0-2.1L42,8.1c-0.6-0.6-1.5-0.6-2.1,0L26.8,21.2c-0.4,0.4-1,0.4-1.4,0 L12.3,8c-0.6-0.6-1.5-0.6-2.1,0l-2.1,2.1c-0.6,0.6-0.6,1.5,0,2.1l13.1,13.1c0.4,0.4,0.4,1,0,1.4L8,39.9c-0.6,0.6-0.6,1.5,0,2.1 l2.1,2.1c0.6,0.6,1.5,0.6,2.1,0L25.3,31c0.4-0.4,1-0.4,1.4,0l13.1,13.1c0.6,0.6,1.5,0.6,2.1,0l2.1-2.1c0.6-0.6,0.6-1.5,0-2.1 L31,26.8C30.6,26.4,30.6,25.8,31,25.4z",style:{fill:"inherit"}})])],-1),z={class:"slds-assistive-text"};function G(e,o,a,t,h,l){return i(),d("div",A,[s("div",D,[s("div",R,[U,s("div",k,[s("div",null,[s("h2",O,r(e.$Labels.MA_SCHEDULE_YOU_CANNOT_SCHEDULE_EVENTS_FOR_THESE_RECORDS_MESSAGE),1),s("div",V,[s("table",N,[s("tr",null,[s("th",null,r(e.$Labels.MA_RECORD_NAME),1),s("th",null,r(e.$Labels.MA_OBJECT),1)]),(i(!0),d(f,null,E(a.unsupportedItems,(c,_)=>(i(),d("tr",{key:_},[s("td",null,r(c.title),1),s("td",null,r(c.baseObjectLabel),1)]))),128))])])])]),s("button",{title:e.$Labels.MA_Close,class:"slds-button slds-button_icon slds-notify__close slds-button_icon-inverse",onClick:o[0]||(o[0]=c=>e.$emit("close"))},[$,s("span",z,r(e.$Labels.MA_Close),1)],8,P)])])])}const B=L(x,[["render",G]]);const W=w({loader:()=>T(()=>import("./SchedulingCalendar.22e1000a.js"),[MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/SchedulingCalendar.22e1000a.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "bundle.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/main.feeda730.css" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/index.2826ab44.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/RouteSummary.cb0ffc72.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/RouteSummary.083f6add.css" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/index.a18e5735.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/SchedulingLaborLawNotify.91219a8b.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/routing.d6c1f97a.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/DatePicker.899772b4.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/SchedulingLaborLawNotify.25d83294.css" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/RouteTimeAndDistance.72398a00.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/RouteTimeAndDistance.8c2c7c1a.css" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/Popover.93a0feed.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/SchedulingCalendar.1ebf1e54.css" })],import.meta.url),loadingComponent:m}),q=w({loader:()=>T(()=>import("./SchedulingResourceCalendar.2faa5fc3.js"),[MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/SchedulingResourceCalendar.2faa5fc3.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "bundle.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/main.feeda730.css" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/index.2826ab44.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/SchedulingLaborLawNotify.91219a8b.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/routing.d6c1f97a.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/DatePicker.899772b4.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/SchedulingLaborLawNotify.25d83294.css" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/RouteTimeAndDistance.72398a00.js" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/RouteTimeAndDistance.8c2c7c1a.css" }),MAPS.getURLPath({ base: '/resource/1730379547462/maps__VueDesktopV2/dist/', path: "assets/SchedulingResourceCalendar.be5363bb.css" })],import.meta.url),loadingComponent:m}),j={components:{Spinner:m,LegacyToast:B,SchedulingCalendar:W,ResourceCalendar:q},setup(){const e=H(),o=M();return{scheduleStore:e,mainStore:o}},data(){return{toast:"",hasRightPanelIn:!1,doLoad:!1,mountedCallback:null}},computed:{isTabActive(){return this.mainStore.activeTab==="schedule"},isHalfHeight(){return this.scheduleStore.viewMode===n.FULLWIDTH_HALFHEIGHT},isFullHeight(){return this.scheduleStore.viewMode===n.FULLWIDTH_FULLHEIGHT},showFullScreenToggleControl(){return this.isHalfHeight||this.isFullHeight}},watch:{isTabActive(e){e?(this.doLoad||setTimeout(()=>{this.doLoad=!0},300),this.$bus.emit("set-map-view-mode",this.scheduleStore.viewMode)):this.$bus.emit("set-map-view-mode",n.DEFAULT)}},created(){this.$bus.on("set-scheduling-has-right-panel-in",e=>{this.hasRightPanelIn=e}),this.$bus.on("activate-scheduling",this.activateScheduling),this.$bus.on("set-calendar-view-mode",this.setViewMode),this.$bus.on("set-schedule-fullscreen",this.setFullscreen),this.$bus.on("second-request-executing",this.displaySecondRequestToast)},unmounted(){this.$bus.off("set-scheduling-has-right-panel-in"),this.$bus.off("activate-scheduling",this.activateScheduling),this.$bus.off("set-calendar-view-mode"),this.$bus.off("set-schedule-fullscreen",this.setFullscreen)},methods:{calendarMounted(){this.mountedCallback&&(this.mountedCallback(),this.mountedCallback=null)},activateScheduling(e){!e||typeof e!="function"||(this.doLoad?e():(this.mountedCallback=e,this.mainStore.activeTab="schedule"))},displaySecondRequestToast(){this.mainStore.toast({message:this.$Labels.MA_SCHEDULE_DISPLAYING_SCHEDULE_FROM_NEXT_APPOINTMENT,state:"info"})},showError(e,o="error"){if(e instanceof Error){const a=e.message;this.mainStore.toast({message:a,state:o})}else{const a={message:e.message||e,subMessage:e.subMessage,state:o};this.mainStore.toast(a)}},toggleFullScreen(){const e=this.scheduleStore.viewMode===n.FULLWIDTH_FULLHEIGHT?n.FULLWIDTH_HALFHEIGHT:n.FULLWIDTH_FULLHEIGHT;this.setViewMode(e)},setFullscreen(e){this.isTabActive&&!this.scheduleStore.isAgendaDay&&(e?this.setViewMode(n.FULLWIDTH_FULLHEIGHT):this.setViewMode(n.FULLWIDTH_HALFHEIGHT))},async setViewMode(e){Object.values(n).includes(e)&&(this.scheduleStore.viewMode=e),await this.$nextTick(),this.$bus.emit("resize-calendar")}}},Q={class:"calendar"};function Y(e,o,a,t,h,l){const c=u("Spinner"),_=u("LegacyToast"),F=u("ResourceCalendar"),C=u("SchedulingCalendar");return i(),d("div",{class:I([{"is-in":l.isTabActive,"is-agenda-day-view":t.scheduleStore.isAgendaDay,"is-schedule-week":t.scheduleStore.isAgendaWeek,"is-schedule-resource":t.scheduleStore.isTimelineDay,"queue-is-collapsed":t.scheduleStore.isQueueCollapsed,"queue-is-toggling":t.scheduleStore.isQueueToggling,"is-fullwidth-halfheight":l.isHalfHeight,"is-fullwidth-fullheight":l.isFullHeight,"has-right-panel-in":h.hasRightPanelIn},"schedulePanel left-ui-panel slds-is-relative"])},[s("div",Q,[p(v(c,{loadingLabel:e.$Labels.MA_Loading},null,8,["loadingLabel"]),[[S,t.scheduleStore.callouts>0]]),t.scheduleStore.unsupportedItems.length?(i(),b(_,{key:0,unsupportedItems:t.scheduleStore.unsupportedItems,onClose:o[0]||(o[0]=J=>t.scheduleStore.setUnsupportedItems([]))},null,8,["unsupportedItems"])):g("",!0),h.doLoad?(i(),d(f,{key:1},[t.scheduleStore.isTimelineDay?(i(),b(F,{key:0,base__showFullScreenToggleControl:l.showFullScreenToggleControl,onToggleFullScreen:l.toggleFullScreen,onError:l.showError},null,8,["base__showFullScreenToggleControl","onToggleFullScreen","onError"])):g("",!0),p(v(C,{base__showFullScreenToggleControl:l.showFullScreenToggleControl,onToggleFullScreen:l.toggleFullScreen,onError:l.showError,onMounted:l.calendarMounted},null,8,["base__showFullScreenToggleControl","onToggleFullScreen","onError","onMounted"]),[[S,!t.scheduleStore.isTimelineDay]])],64)):g("",!0)])],2)}const K=L(j,[["render",Y],["__scopeId","data-v-8e7dcaba"]]);export{K as default};
