import{_ as F,o as v,c as E,h as g,n as Oe,J as me,K as fe,B as Y,T as Ke,I as ne,aT as q,aP as _,r as p,b as D,w as H,i as x,e as k,F as ke,q as Ze,t as z,j as ce,p as Ye,k as Qe,l as ze,c2 as R,a0 as $,a3 as K,f as Q,c3 as P,a6 as ve,s as j,v as V,a9 as Xe,P as et,S as tt,aR as st,be as nt,ac as ee,aU as ot,c4 as it,aQ as we,bY as at,bQ as rt,bS as De}from"../bundle.js";import{a as lt,c as Z,m as N,y as c,h as dt,j as ct,k as ut,l as ge,g as U,Y as ht,C as mt,W as ft,Z as pe,p as Ee,S as vt,V as Ce,q as gt,U as $e,$ as ye,t as Ie,a0 as se,a1 as G,a2 as Se,a3 as pt,a4 as ue,a5 as yt,a6 as St,u as B,a7 as _t,a8 as Tt,Q as xt,J as bt,R as Fe,P as We,a9 as kt,aa as Le,s as wt,G as Dt,H as Et,n as he,_ as te,ab as Ct,ac as It,B as Lt,r as Mt,o as Rt,T as At,v as Nt,K as Ht,ad as Pt,ae as Ot,af as zt,L as Be,X as $t,i as Ft,F as Wt}from"./index.2826ab44.js";import{R as Bt}from"./RouteSummary.cb0ffc72.js";import{D as jt,i as Vt}from"./index.a18e5735.js";import{i as Gt,E as _e,a as Ut,P as qt,b as Jt,R as Kt,C as Zt,Q as Yt,L as Qt,_ as Xt}from"./SchedulingLaborLawNotify.91219a8b.js";import je from"./RouteTimeAndDistance.72398a00.js";import{P as es}from"./Popover.93a0feed.js";import"./routing.d6c1f97a.js";import"./DatePicker.899772b4.js";var ts='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';lt(ts);class ss extends yt{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(t){return t.allDay?["allDay"]:["timed"]}getKeysForEventDef(t){return t.allDay?St(t)?["timed","allDay"]:["allDay"]:["timed"]}}const ns=Z({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Ve(e){let t=["fc-timegrid-slot","fc-timegrid-slot-label",e.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return c(_t.Consumer,null,n=>{if(!e.isLabeled)return c("td",{className:t.join(" "),"data-time":e.isoTimeStr});let{dateEnv:o,options:i,viewApi:s}=n,a=i.slotLabelFormat==null?ns:Array.isArray(i.slotLabelFormat)?Z(i.slotLabelFormat[0]):Z(i.slotLabelFormat),r={level:0,time:e.time,date:o.toDate(e.date),view:s,text:o.format(e.date,a)};return c(pe,{elTag:"td",elClasses:t,elAttrs:{"data-time":e.isoTimeStr},renderProps:r,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:os,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},l=>c("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},c(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function os(e){return e.text}class is extends B{render(){return this.props.slatMetas.map(t=>c("tr",{key:t.key},c(Ve,Object.assign({},t))))}}const as=Z({week:"short"}),rs=5;class ls extends ge{constructor(){super(...arguments),this.allDaySplitter=new ss,this.headerElRef=U(),this.rootElRef=U(),this.scrollerElRef=U(),this.state={slatCoords:null},this.handleScrollTopRequest=t=>{let n=this.scrollerElRef.current;n&&(n.scrollTop=t)},this.renderHeadAxis=(t,n="")=>{let{options:o}=this.context,{dateProfile:i}=this.props,s=i.renderRange,r=ht(s.start,s.end)===1?mt(this.context,s.start,"week"):{};return o.weekNumbers&&t==="day"?c(ft,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:as},l=>c("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:n}},c(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:r}))):c("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},c("div",{className:"fc-timegrid-axis-frame",style:{height:n}}))},this.renderTableRowAxis=t=>{let{options:n,viewApi:o}=this.context,i={text:n.allDayText,view:o};return c(pe,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:n.allDayContent,defaultGenerator:ds,classNameGenerator:n.allDayClassNames,didMount:n.allDayDidMount,willUnmount:n.allDayWillUnmount},s=>c("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",t==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},c(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=t=>{this.setState({slatCoords:t})}}renderSimpleLayout(t,n,o){let{context:i,props:s}=this,a=[],r=Ee(i.options);return t&&a.push({type:"header",key:"header",isSticky:r,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),n&&(a.push({type:"body",key:"all-day",chunk:{content:n}}),a.push({type:"body",key:"all-day-divider",outerContent:c("tr",{role:"presentation",className:"fc-scrollgrid-section"},c("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(i.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:o}}),c(Ce,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},c(vt,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(t,n,o,i,s,a,r){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:d,props:u}=this,m=!u.forPrint&&Ee(d.options),h=!u.forPrint&&gt(d.options),f=[];t&&f.push({type:"header",key:"header",isSticky:m,syncRowHeights:!0,chunks:[{key:"axis",rowContent:T=>c("tr",{role:"presentation"},this.renderHeadAxis("day",T.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),n&&(f.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:T=>c("tr",{role:"presentation"},this.renderTableRowAxis(T.rowSyncHeights[0]))},{key:"cols",content:n}]}),f.push({key:"all-day-divider",type:"body",outerContent:c("tr",{role:"presentation",className:"fc-scrollgrid-section"},c("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let b=d.options.nowIndicator;return f.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(d.options.expandRows),chunks:[{key:"axis",content:T=>c("div",{className:"fc-timegrid-axis-chunk"},c("table",{"aria-hidden":!0,style:{height:T.expandRows?T.clientHeight:""}},T.tableColGroupNode,c("tbody",null,c(is,{slatMetas:a}))),c("div",{className:"fc-timegrid-now-indicator-container"},c($e,{unit:b?"minute":"day"},C=>{let y=b&&r&&r.safeComputeTop(C);return typeof y=="number"?c(ye,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:y},isAxis:!0,date:C}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:o}]}),h&&f.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Ie},{key:"cols",content:Ie}]}),c(Ce,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},c(l,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:f}))}getAllDayMaxEventProps(){let{dayMaxEvents:t,dayMaxEventRows:n}=this.context.options;return(t===!0||n===!0)&&(t=void 0,n=rs),{dayMaxEvents:t,dayMaxEventRows:n}}}function ds(e){return e.text}class cs{constructor(t,n,o){this.positions=t,this.dateProfile=n,this.slotDuration=o}safeComputeTop(t){let{dateProfile:n}=this;if(kt(n.currentRange,t)){let o=Le(t),i=t.valueOf()-o.valueOf();if(i>=G(n.slotMinTime)&&i<G(n.slotMaxTime))return this.computeTimeTop(se(i))}return null}computeDateTop(t,n){return n||(n=Le(t)),this.computeTimeTop(se(t.valueOf()-n.valueOf()))}computeTimeTop(t){let{positions:n,dateProfile:o}=this,i=n.els.length,s=(t.milliseconds-G(o.slotMinTime))/G(this.slotDuration),a,r;return s=Math.max(0,s),s=Math.min(i,s),a=Math.floor(s),a=Math.min(a,i-1),r=s-a,n.tops[a]+n.getHeight(a)*r}}class us extends B{render(){let{props:t,context:n}=this,{options:o}=n,{slatElRefs:i}=t;return c("tbody",null,t.slatMetas.map((s,a)=>{let r={time:s.time,date:n.dateEnv.toDate(s.date),view:n.viewApi};return c("tr",{key:s.key,ref:i.createRef(s.key)},t.axis&&c(Ve,Object.assign({},s)),c(pe,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:r,generatorName:"slotLaneContent",customGenerator:o.slotLaneContent,classNameGenerator:o.slotLaneClassNames,didMount:o.slotLaneDidMount,willUnmount:o.slotLaneWillUnmount}))}))}}class hs extends B{constructor(){super(...arguments),this.rootElRef=U(),this.slatElRefs=new Fe}render(){let{props:t,context:n}=this;return c("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},c("table",{"aria-hidden":!0,className:n.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,c(us,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:t,props:n}=this;n.onCoords&&n.clientWidth!==null&&this.rootElRef.current.offsetHeight&&n.onCoords(new cs(new We(this.rootElRef.current,ms(this.slatElRefs.currentMap,n.slatMetas),!1,!0),this.props.dateProfile,t.options.slotDuration))}}function ms(e,t){return t.map(n=>e[n.key])}function J(e,t){let n=[],o;for(o=0;o<t;o+=1)n.push([]);if(e)for(o=0;o<e.length;o+=1)n[e[o].col].push(e[o]);return n}function Me(e,t){let n=[];if(e){for(let o=0;o<t;o+=1)n[o]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(let o of e.segs)n[o.col].segs.push(o)}else for(let o=0;o<t;o+=1)n[o]=null;return n}class fs extends B{render(){let{props:t}=this;return c(At,{elClasses:["fc-timegrid-more-link"],elStyle:{top:t.top,bottom:t.bottom},allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:()=>Ue(t.hiddenSegs,t),defaultGenerator:vs,forceTimed:!0},n=>c(n,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function vs(e){return e.shortText}function gs(e,t,n){let o=new Ht;t!=null&&(o.strictOrder=t),n!=null&&(o.maxStackCnt=n);let i=o.addSegs(e),s=Pt(i),a=ps(o);return a=Ts(a,1),{segRects:xs(a),hiddenGroups:s}}function ps(e){const{entriesByLevel:t}=e,n=Te((o,i)=>o+":"+i,(o,i)=>{let s=_s(e,o,i),a=Re(s,n),r=t[o][i];return[Object.assign(Object.assign({},r),{nextLevelNodes:a[0]}),r.thickness+a[1]]});return Re(t.length?{level:0,lateralStart:0,lateralEnd:t[0].length}:null,n)[0]}function Re(e,t){if(!e)return[[],0];let{level:n,lateralStart:o,lateralEnd:i}=e,s=o,a=[];for(;s<i;)a.push(t(n,s)),s+=1;return a.sort(ys),[a.map(Ss),a[0][1]]}function ys(e,t){return t[1]-e[1]}function Ss(e){return e[0]}function _s(e,t,n){let{levelCoords:o,entriesByLevel:i}=e,s=i[t][n],a=o[t]+s.thickness,r=o.length,l=t;for(;l<r&&o[l]<a;l+=1);for(;l<r;l+=1){let d=i[l],u,m=Ot(d,s.span.start,zt),h=m[0]+m[1],f=h;for(;(u=d[f])&&u.span.start<s.span.end;)f+=1;if(h<f)return{level:l,lateralStart:h,lateralEnd:f}}return null}function Ts(e,t){const n=Te((o,i,s)=>Be(o),(o,i,s)=>{let{nextLevelNodes:a,thickness:r}=o,l=r+s,d=r/l,u,m=[];if(!a.length)u=t;else for(let f of a)if(u===void 0){let b=n(f,i,l);u=b[0],m.push(b[1])}else{let b=n(f,u,0);m.push(b[1])}let h=(u-i)*d;return[u-h,Object.assign(Object.assign({},o),{thickness:h,nextLevelNodes:m})]});return e.map(o=>n(o,0,0)[1])}function xs(e){let t=[];const n=Te((i,s,a)=>Be(i),(i,s,a)=>{let r=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:a,stackForward:0});return t.push(r),r.stackForward=o(i.nextLevelNodes,s+i.thickness,a+1)+1});function o(i,s,a){let r=0;for(let l of i)r=Math.max(n(l,s,a),r);return r}return o(e,0,0),t}function Te(e,t){const n={};return(...o)=>{let i=e(...o);return i in n?n[i]:n[i]=t(...o)}}function Ae(e,t,n=null,o=0){let i=[];if(n)for(let s=0;s<e.length;s+=1){let a=e[s],r=n.computeDateTop(a.start,t),l=Math.max(r+(o||0),n.computeDateTop(a.end,t));i.push({start:Math.round(r),end:Math.round(l)})}return i}function bs(e,t,n,o){let i=[],s=[];for(let d=0;d<e.length;d+=1){let u=t[d];u?i.push({index:d,thickness:1,span:u}):s.push(e[d])}let{segRects:a,hiddenGroups:r}=gs(i,n,o),l=[];for(let d of a)l.push({seg:e[d.index],rect:d});for(let d of s)l.push({seg:d,rect:null});return{segPlacements:l,hiddenGroups:r}}const ks=Z({hour:"numeric",minute:"2-digit",meridiem:!1});class Ge extends B{render(){return c(Nt,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:ks}))}}class ws extends B{constructor(){super(...arguments),this.sortEventSegs=N(wt)}render(){let{props:t,context:n}=this,{options:o}=n,i=o.selectMirror,s=t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||i&&t.dateSelectionSegs||[],a=t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},r=this.sortEventSegs(t.fgEventSegs,o.eventOrder);return c(Et,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},l=>c("div",{className:"fc-timegrid-col-frame"},c("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),c("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(r,a,!1,!1,!1)),c("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(i),"mirror")),c("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),Dt(o)&&c(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(t,n,o,i,s,a){let{props:r}=this;return r.forPrint?Ue(t,r):this.renderPositionedFgSegs(t,n,o,i,s,a)}renderPositionedFgSegs(t,n,o,i,s,a){let{eventMaxStack:r,eventShortHeight:l,eventOrderStrict:d,eventMinHeight:u}=this.context.options,{date:m,slatCoords:h,eventSelection:f,todayRange:b,nowDate:T}=this.props,C=o||i||s,y=Ae(t,m,h,u),{segPlacements:S,hiddenGroups:L}=bs(t,y,d,r);return c(te,null,this.renderHiddenGroups(L,t),S.map(M=>{let{seg:I,rect:w}=M,A=I.eventRange.instance.instanceId,xe=C||Boolean(!n[A]&&w),oe=re(w&&w.span),ie=!C&&w?this.computeSegHStyle(w):{left:0,right:0},ae=Boolean(w)&&w.stackForward>0,W=Boolean(w)&&w.span.end-w.span.start<l;return c("div",{className:"fc-timegrid-event-harness"+(ae?" fc-timegrid-event-harness-inset":""),key:a||A,style:Object.assign(Object.assign({visibility:xe?"":"hidden"},oe),ie)},c(Ge,Object.assign({seg:I,isDragging:o,isResizing:i,isDateSelecting:s,isSelected:A===f,isShort:W},he(I,b,T))))}))}renderHiddenGroups(t,n){let{extraDateSpan:o,dateProfile:i,todayRange:s,nowDate:a,eventSelection:r,eventDrag:l,eventResize:d}=this.props;return c(te,null,t.map(u=>{let m=re(u.span),h=Ds(u.entries,n);return c(fs,{key:Ct(It(h)),hiddenSegs:h,top:m.top,bottom:m.bottom,extraDateSpan:o,dateProfile:i,todayRange:s,nowDate:a,eventSelection:r,eventDrag:l,eventResize:d})}))}renderFillSegs(t,n){let{props:o,context:i}=this,a=Ae(t,o.date,o.slatCoords,i.options.eventMinHeight).map((r,l)=>{let d=t[l];return c("div",{key:Rt(d.eventRange),className:"fc-timegrid-bg-harness",style:re(r)},n==="bg-event"?c(Lt,Object.assign({seg:d},he(d,o.todayRange,o.nowDate))):Mt(n))});return c(te,null,a)}renderNowIndicator(t){let{slatCoords:n,date:o}=this.props;return n?t.map((i,s)=>c(ye,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:n.computeDateTop(i.start,o)},isAxis:!1,date:o})):null}computeSegHStyle(t){let{isRtl:n,options:o}=this.context,i=o.slotEventOverlap,s=t.levelCoord,a=t.levelCoord+t.thickness,r,l;i&&(a=Math.min(1,s+(a-s)*2)),n?(r=1-a,l=s):(r=s,l=1-a);let d={zIndex:t.stackDepth+1,left:r*100+"%",right:l*100+"%"};return i&&!t.stackForward&&(d[n?"marginLeft":"marginRight"]=10*2),d}}function Ue(e,{todayRange:t,nowDate:n,eventSelection:o,eventDrag:i,eventResize:s}){let a=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return c(te,null,e.map(r=>{let l=r.eventRange.instance.instanceId;return c("div",{key:l,style:{visibility:a[l]?"hidden":""}},c(Ge,Object.assign({seg:r,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===o,isShort:!1},he(r,t,n))))}))}function re(e){return e?{top:e.start,bottom:-e.end}:{top:"",bottom:""}}function Ds(e,t){return e.map(n=>t[n.index])}class Es extends B{constructor(){super(...arguments),this.splitFgEventSegs=N(J),this.splitBgEventSegs=N(J),this.splitBusinessHourSegs=N(J),this.splitNowIndicatorSegs=N(J),this.splitDateSelectionSegs=N(J),this.splitEventDrag=N(Me),this.splitEventResize=N(Me),this.rootElRef=U(),this.cellElRefs=new Fe}render(){let{props:t,context:n}=this,o=n.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),i=t.cells.length,s=this.splitFgEventSegs(t.fgEventSegs,i),a=this.splitBgEventSegs(t.bgEventSegs,i),r=this.splitBusinessHourSegs(t.businessHourSegs,i),l=this.splitNowIndicatorSegs(t.nowIndicatorSegs,i),d=this.splitDateSelectionSegs(t.dateSelectionSegs,i),u=this.splitEventDrag(t.eventDrag,i),m=this.splitEventResize(t.eventResize,i);return c("div",{className:"fc-timegrid-cols",ref:this.rootElRef},c("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,c("tbody",{role:"presentation"},c("tr",{role:"row"},t.axis&&c("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},c("div",{className:"fc-timegrid-col-frame"},c("div",{className:"fc-timegrid-now-indicator-container"},typeof o=="number"&&c(ye,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:o},isAxis:!0,date:t.nowDate})))),t.cells.map((h,f)=>c(ws,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:t.dateProfile,date:h.date,nowDate:t.nowDate,todayRange:t.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:s[f],bgEventSegs:a[f],businessHourSegs:r[f],nowIndicatorSegs:l[f],dateSelectionSegs:d[f],eventDrag:u[f],eventResize:m[f],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:t}=this;t.onColCoords&&t.clientWidth!==null&&t.onColCoords(new We(this.rootElRef.current,Cs(this.cellElRefs.currentMap,t.cells),!0,!1))}}function Cs(e,t){return t.map(n=>e[n.key])}class Is extends ge{constructor(){super(...arguments),this.processSlotOptions=N(Ls),this.state={slatCoords:null},this.handleRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{let{onScrollTopRequest:n}=this.props,{slatCoords:o}=this.state;if(n&&o){if(t.time){let i=o.computeTimeTop(t.time);i=Math.ceil(i),i&&(i+=1),n(i)}return!0}return!1},this.handleColCoords=t=>{this.colCoords=t},this.handleSlatCoords=t=>{this.setState({slatCoords:t}),this.props.onSlatCoords&&this.props.onSlatCoords(t)}}render(){let{props:t,state:n}=this;return c("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:t.clientWidth,minWidth:t.tableMinWidth}},c(hs,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),c(Es,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:n.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(t,n){let{dateEnv:o,options:i}=this.context,{colCoords:s}=this,{dateProfile:a}=this.props,{slatCoords:r}=this.state,{snapDuration:l,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),u=s.leftToIndex(t),m=r.positions.topToIndex(n);if(u!=null&&m!=null){let h=this.props.cells[u],f=r.positions.tops[m],b=r.positions.getHeight(m),T=(n-f)/b,C=Math.floor(T*d),y=m*d+C,S=this.props.cells[u].date,L=ue(a.slotMinTime,Tt(l,y)),M=o.add(S,L),I=o.add(M,l);return{dateProfile:a,dateSpan:Object.assign({range:{start:M,end:I},allDay:!1},h.extraDateSpan),dayEl:s.els[u],rect:{left:s.lefts[u],right:s.rights[u],top:f,bottom:f+b},layer:0}}return null}}function Ls(e,t){let n=t||e,o=Se(e,n);return o===null&&(n=e,o=1),{snapDuration:n,snapsPerSlot:o}}class Ms extends xt{sliceRange(t,n){let o=[];for(let i=0;i<n.length;i+=1){let s=bt(t,n[i]);s&&o.push({start:s.start,end:s.end,isStart:s.start.valueOf()===t.start.valueOf(),isEnd:s.end.valueOf()===t.end.valueOf(),col:i})}return o}}class Rs extends ge{constructor(){super(...arguments),this.buildDayRanges=N(As),this.slicer=new Ms,this.timeColsRef=U()}render(){let{props:t,context:n}=this,{dateProfile:o,dayTableModel:i}=t,{nowIndicator:s,nextDayThreshold:a}=n.options,r=this.buildDayRanges(i,o,n.dateEnv);return c($e,{unit:s?"minute":"day"},(l,d)=>c(Is,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(t,o,null,n,r),{forPrint:t.forPrint,axis:t.axis,dateProfile:o,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:i.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:l,nowIndicatorSegs:s&&this.slicer.sliceNowDate(l,o,a,n,r),todayRange:d,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords})))}}function As(e,t,n){let o=[];for(let i of e.headerDates)o.push({start:n.add(i,t.slotMinTime),end:n.add(i,t.slotMaxTime)});return o}const Ne=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Ns(e,t,n,o,i){let s=new Date(0),a=e,r=se(0),l=n||Hs(o),d=[];for(;G(a)<G(t);){let u=i.add(s,a),m=Se(r,l)!==null;d.push({date:u,time:a,key:u.toISOString(),isoTimeStr:pt(u),isLabeled:m}),a=ue(a,o),r=ue(r,o)}return d}function Hs(e){let t,n,o;for(t=Ne.length-1;t>=0;t-=1)if(n=se(Ne[t]),o=Se(n,e),o!==null&&o>1)return n;return e}class Ps extends ls{constructor(){super(...arguments),this.buildTimeColsModel=N(Os),this.buildSlatMetas=N(Ns)}render(){let{options:t,dateEnv:n,dateProfileGenerator:o}=this.context,{props:i}=this,{dateProfile:s}=i,a=this.buildTimeColsModel(s,o),r=this.allDaySplitter.splitProps(i),l=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,t.slotLabelInterval,t.slotDuration,n),{dayMinWidth:d}=t,u=!d,m=d,h=t.dayHeaders&&c(dt,{dates:a.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),f=t.allDaySlot!==!1&&(T=>c(jt,Object.assign({},r.allDay,{dateProfile:s,dayTableModel:a,nextDayThreshold:t.nextDayThreshold,tableMinWidth:T.tableMinWidth,colGroupNode:T.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:T.clientWidth,clientHeight:T.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),b=T=>c(Rs,Object.assign({},r.timed,{dayTableModel:a,dateProfile:s,axis:u,slotDuration:t.slotDuration,slatMetas:l,forPrint:i.forPrint,tableColGroupNode:T.tableColGroupNode,tableMinWidth:T.tableMinWidth,clientWidth:T.clientWidth,clientHeight:T.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:T.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return m?this.renderHScrollLayout(h,f,b,a.colCnt,d,l,this.state.slatCoords):this.renderSimpleLayout(h,f,b)}}function Os(e,t){let n=new ct(e.renderRange,t);return new ut(n,!1)}const zs={allDaySlot:Boolean};var $s=$t({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:zs,views:{timeGrid:{component:Ps,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}}),Fs={code:"af",week:{dow:1,doy:4},buttonText:{prev:"Vorige",next:"Volgende",today:"Vandag",year:"Jaar",month:"Maand",week:"Week",day:"Dag",list:"Agenda"},allDayText:"Heeldag",moreLinkText:"Addisionele",noEventsText:"Daar is geen gebeurtenisse nie"},Ws={code:"ar-dz",week:{dow:0,doy:4},direction:"rtl",buttonText:{prev:"\u0627\u0644\u0633\u0627\u0628\u0642",next:"\u0627\u0644\u062A\u0627\u0644\u064A",today:"\u0627\u0644\u064A\u0648\u0645",year:"\u0633\u0646\u0629",month:"\u0634\u0647\u0631",week:"\u0623\u0633\u0628\u0648\u0639",day:"\u064A\u0648\u0645",list:"\u0623\u062C\u0646\u062F\u0629"},weekText:"\u0623\u0633\u0628\u0648\u0639",allDayText:"\u0627\u0644\u064A\u0648\u0645 \u0643\u0644\u0647",moreLinkText:"\u0623\u062E\u0631\u0649",noEventsText:"\u0623\u064A \u0623\u062D\u062F\u0627\u062B \u0644\u0639\u0631\u0636"},Bs={code:"ar-kw",week:{dow:0,doy:12},direction:"rtl",buttonText:{prev:"\u0627\u0644\u0633\u0627\u0628\u0642",next:"\u0627\u0644\u062A\u0627\u0644\u064A",today:"\u0627\u0644\u064A\u0648\u0645",year:"\u0633\u0646\u0629",month:"\u0634\u0647\u0631",week:"\u0623\u0633\u0628\u0648\u0639",day:"\u064A\u0648\u0645",list:"\u0623\u062C\u0646\u062F\u0629"},weekText:"\u0623\u0633\u0628\u0648\u0639",allDayText:"\u0627\u0644\u064A\u0648\u0645 \u0643\u0644\u0647",moreLinkText:"\u0623\u062E\u0631\u0649",noEventsText:"\u0623\u064A \u0623\u062D\u062F\u0627\u062B \u0644\u0639\u0631\u0636"},js={code:"ar-ly",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"\u0627\u0644\u0633\u0627\u0628\u0642",next:"\u0627\u0644\u062A\u0627\u0644\u064A",today:"\u0627\u0644\u064A\u0648\u0645",year:"\u0633\u0646\u0629",month:"\u0634\u0647\u0631",week:"\u0623\u0633\u0628\u0648\u0639",day:"\u064A\u0648\u0645",list:"\u0623\u062C\u0646\u062F\u0629"},weekText:"\u0623\u0633\u0628\u0648\u0639",allDayText:"\u0627\u0644\u064A\u0648\u0645 \u0643\u0644\u0647",moreLinkText:"\u0623\u062E\u0631\u0649",noEventsText:"\u0623\u064A \u0623\u062D\u062F\u0627\u062B \u0644\u0639\u0631\u0636"},Vs={code:"ar-ma",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"\u0627\u0644\u0633\u0627\u0628\u0642",next:"\u0627\u0644\u062A\u0627\u0644\u064A",today:"\u0627\u0644\u064A\u0648\u0645",year:"\u0633\u0646\u0629",month:"\u0634\u0647\u0631",week:"\u0623\u0633\u0628\u0648\u0639",day:"\u064A\u0648\u0645",list:"\u0623\u062C\u0646\u062F\u0629"},weekText:"\u0623\u0633\u0628\u0648\u0639",allDayText:"\u0627\u0644\u064A\u0648\u0645 \u0643\u0644\u0647",moreLinkText:"\u0623\u062E\u0631\u0649",noEventsText:"\u0623\u064A \u0623\u062D\u062F\u0627\u062B \u0644\u0639\u0631\u0636"},Gs={code:"ar-sa",week:{dow:0,doy:6},direction:"rtl",buttonText:{prev:"\u0627\u0644\u0633\u0627\u0628\u0642",next:"\u0627\u0644\u062A\u0627\u0644\u064A",today:"\u0627\u0644\u064A\u0648\u0645",year:"\u0633\u0646\u0629",month:"\u0634\u0647\u0631",week:"\u0623\u0633\u0628\u0648\u0639",day:"\u064A\u0648\u0645",list:"\u0623\u062C\u0646\u062F\u0629"},weekText:"\u0623\u0633\u0628\u0648\u0639",allDayText:"\u0627\u0644\u064A\u0648\u0645 \u0643\u0644\u0647",moreLinkText:"\u0623\u062E\u0631\u0649",noEventsText:"\u0623\u064A \u0623\u062D\u062F\u0627\u062B \u0644\u0639\u0631\u0636"},Us={code:"ar-tn",week:{dow:1,doy:4},direction:"rtl",buttonText:{prev:"\u0627\u0644\u0633\u0627\u0628\u0642",next:"\u0627\u0644\u062A\u0627\u0644\u064A",today:"\u0627\u0644\u064A\u0648\u0645",year:"\u0633\u0646\u0629",month:"\u0634\u0647\u0631",week:"\u0623\u0633\u0628\u0648\u0639",day:"\u064A\u0648\u0645",list:"\u0623\u062C\u0646\u062F\u0629"},weekText:"\u0623\u0633\u0628\u0648\u0639",allDayText:"\u0627\u0644\u064A\u0648\u0645 \u0643\u0644\u0647",moreLinkText:"\u0623\u062E\u0631\u0649",noEventsText:"\u0623\u064A \u0623\u062D\u062F\u0627\u062B \u0644\u0639\u0631\u0636"},qs={code:"ar",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"\u0627\u0644\u0633\u0627\u0628\u0642",next:"\u0627\u0644\u062A\u0627\u0644\u064A",today:"\u0627\u0644\u064A\u0648\u0645",year:"\u0633\u0646\u0629",month:"\u0634\u0647\u0631",week:"\u0623\u0633\u0628\u0648\u0639",day:"\u064A\u0648\u0645",list:"\u0623\u062C\u0646\u062F\u0629"},weekText:"\u0623\u0633\u0628\u0648\u0639",allDayText:"\u0627\u0644\u064A\u0648\u0645 \u0643\u0644\u0647",moreLinkText:"\u0623\u062E\u0631\u0649",noEventsText:"\u0623\u064A \u0623\u062D\u062F\u0627\u062B \u0644\u0639\u0631\u0636"},Js={code:"az",week:{dow:1,doy:4},buttonText:{prev:"\u018Fvv\u0259l",next:"Sonra",today:"Bu G\xFCn",year:"Il",month:"Ay",week:"H\u0259ft\u0259",day:"G\xFCn",list:"G\xFCnd\u0259m"},weekText:"H\u0259ft\u0259",allDayText:"B\xFCt\xFCn G\xFCn",moreLinkText(e){return"+ daha \xE7ox "+e},noEventsText:"G\xF6st\u0259rm\u0259k \xFC\xE7\xFCn hadis\u0259 yoxdur"},Ks={code:"bg",week:{dow:1,doy:7},buttonText:{prev:"\u043D\u0430\u0437\u0430\u0434",next:"\u043D\u0430\u043F\u0440\u0435\u0434",today:"\u0434\u043D\u0435\u0441",year:"\u0433\u043E\u0434\u0438\u043D\u0430",month:"\u041C\u0435\u0441\u0435\u0446",week:"\u0421\u0435\u0434\u043C\u0438\u0446\u0430",day:"\u0414\u0435\u043D",list:"\u0413\u0440\u0430\u0444\u0438\u043A"},allDayText:"\u0426\u044F\u043B \u0434\u0435\u043D",moreLinkText(e){return"+\u043E\u0449\u0435 "+e},noEventsText:"\u041D\u044F\u043C\u0430 \u0441\u044A\u0431\u0438\u0442\u0438\u044F \u0437\u0430 \u043F\u043E\u043A\u0430\u0437\u0432\u0430\u043D\u0435"},Zs={code:"bn",week:{dow:0,doy:6},buttonText:{prev:"\u09AA\u09C7\u099B\u09A8\u09C7",next:"\u09B8\u09BE\u09AE\u09A8\u09C7",today:"\u0986\u099C",year:"\u09AC\u099B\u09B0",month:"\u09AE\u09BE\u09B8",week:"\u09B8\u09AA\u09CD\u09A4\u09BE\u09B9",day:"\u09A6\u09BF\u09A8",list:"\u09A4\u09BE\u09B2\u09BF\u0995\u09BE"},weekText:"\u09B8\u09AA\u09CD\u09A4\u09BE\u09B9",allDayText:"\u09B8\u09BE\u09B0\u09BE\u09A6\u09BF\u09A8",moreLinkText(e){return"+\u0985\u09A8\u09CD\u09AF\u09BE\u09A8\u09CD\u09AF "+e},noEventsText:"\u0995\u09CB\u09A8\u09CB \u0987\u09AD\u09C7\u09A8\u09CD\u099F \u09A8\u09C7\u0987"},Ys={code:"bs",week:{dow:1,doy:7},buttonText:{prev:"Pro\u0161li",next:"Sljede\u0107i",today:"Danas",year:"Godina",month:"Mjesec",week:"Sedmica",day:"Dan",list:"Raspored"},weekText:"Sed",allDayText:"Cijeli dan",moreLinkText(e){return"+ jo\u0161 "+e},noEventsText:"Nema doga\u0111aja za prikazivanje"},Qs={code:"ca",week:{dow:1,doy:4},buttonText:{prev:"Anterior",next:"Seg\xFCent",today:"Avui",year:"Curs",month:"Mes",week:"Setmana",day:"Dia",list:"Agenda"},weekText:"Set",allDayText:"Tot el dia",moreLinkText:"m\xE9s",noEventsText:"No hi ha esdeveniments per mostrar"},Xs={code:"cs",week:{dow:1,doy:4},buttonText:{prev:"D\u0159\xEDve",next:"Pozd\u011Bji",today:"Nyn\xED",year:"Rok",month:"M\u011Bs\xEDc",week:"T\xFDden",day:"Den",list:"Agenda"},weekText:"T\xFDd",allDayText:"Cel\xFD den",moreLinkText(e){return"+dal\u0161\xED: "+e},noEventsText:"\u017D\xE1dn\xE9 akce k zobrazen\xED"},en={code:"cy",week:{dow:1,doy:4},buttonText:{prev:"Blaenorol",next:"Nesaf",today:"Heddiw",year:"Blwyddyn",month:"Mis",week:"Wythnos",day:"Dydd",list:"Rhestr"},weekText:"Wythnos",allDayText:"Trwy'r dydd",moreLinkText:"Mwy",noEventsText:"Dim digwyddiadau"},tn={code:"da",week:{dow:1,doy:4},buttonText:{prev:"Forrige",next:"N\xE6ste",today:"I dag",year:"\xC5r",month:"M\xE5ned",week:"Uge",day:"Dag",list:"Agenda"},weekText:"Uge",allDayText:"Hele dagen",moreLinkText:"flere",noEventsText:"Ingen arrangementer at vise"};function le(e){return e==="Tag"||e==="Monat"?"r":e==="Jahr"?"s":""}var sn={code:"de-at",week:{dow:1,doy:4},buttonText:{prev:"Zur\xFCck",next:"Vor",today:"Heute",year:"Jahr",month:"Monat",week:"Woche",day:"Tag",list:"Termin\xFCbersicht"},weekText:"KW",weekTextLong:"Woche",allDayText:"Ganzt\xE4gig",moreLinkText(e){return"+ weitere "+e},noEventsText:"Keine Ereignisse anzuzeigen",buttonHints:{prev(e){return`Vorherige${le(e)} ${e}`},next(e){return`N\xE4chste${le(e)} ${e}`},today(e){return e==="Tag"?"Heute":`Diese${le(e)} ${e}`}},viewHint(e){return e+(e==="Woche"?"n":e==="Monat"?"s":"es")+"ansicht"},navLinkHint:"Gehe zu $0",moreLinkHint(e){return"Zeige "+(e===1?"ein weiteres Ereignis":e+" weitere Ereignisse")},closeHint:"Schlie\xDFen",timeHint:"Uhrzeit",eventHint:"Ereignis"};function de(e){return e==="Tag"||e==="Monat"?"r":e==="Jahr"?"s":""}var nn={code:"de",week:{dow:1,doy:4},buttonText:{prev:"Zur\xFCck",next:"Vor",today:"Heute",year:"Jahr",month:"Monat",week:"Woche",day:"Tag",list:"Termin\xFCbersicht"},weekText:"KW",weekTextLong:"Woche",allDayText:"Ganzt\xE4gig",moreLinkText(e){return"+ weitere "+e},noEventsText:"Keine Ereignisse anzuzeigen",buttonHints:{prev(e){return`Vorherige${de(e)} ${e}`},next(e){return`N\xE4chste${de(e)} ${e}`},today(e){return e==="Tag"?"Heute":`Diese${de(e)} ${e}`}},viewHint(e){return e+(e==="Woche"?"n":e==="Monat"?"s":"es")+"ansicht"},navLinkHint:"Gehe zu $0",moreLinkHint(e){return"Zeige "+(e===1?"ein weiteres Ereignis":e+" weitere Ereignisse")},closeHint:"Schlie\xDFen",timeHint:"Uhrzeit",eventHint:"Ereignis"},on={code:"el",week:{dow:1,doy:4},buttonText:{prev:"\u03A0\u03C1\u03BF\u03B7\u03B3\u03BF\u03CD\u03BC\u03B5\u03BD\u03BF\u03C2",next:"\u0395\u03C0\u03CC\u03BC\u03B5\u03BD\u03BF\u03C2",today:"\u03A3\u03AE\u03BC\u03B5\u03C1\u03B1",year:"\u0395\u03C4\u03BF\u03C2",month:"\u039C\u03AE\u03BD\u03B1\u03C2",week:"\u0395\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1",day:"\u0397\u03BC\u03AD\u03C1\u03B1",list:"\u0391\u03C4\u03B6\u03AD\u03BD\u03C4\u03B1"},weekText:"\u0395\u03B2\u03B4",allDayText:"\u039F\u03BB\u03BF\u03AE\u03BC\u03B5\u03C1\u03BF",moreLinkText:"\u03C0\u03B5\u03C1\u03B9\u03C3\u03C3\u03CC\u03C4\u03B5\u03C1\u03B1",noEventsText:"\u0394\u03B5\u03BD \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03C5\u03BD \u03B3\u03B5\u03B3\u03BF\u03BD\u03CC\u03C4\u03B1 \u03C0\u03C1\u03BF\u03C2 \u03B5\u03BC\u03C6\u03AC\u03BD\u03B9\u03C3\u03B7"},an={code:"en-au",week:{dow:1,doy:4},buttonHints:{prev:"Previous $0",next:"Next $0",today:"This $0"},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}},rn={code:"en-gb",week:{dow:1,doy:4},buttonHints:{prev:"Previous $0",next:"Next $0",today:"This $0"},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}},ln={code:"en-nz",week:{dow:1,doy:4},buttonHints:{prev:"Previous $0",next:"Next $0",today:"This $0"},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(e){return`Show ${e} more event${e===1?"":"s"}`}},dn={code:"eo",week:{dow:1,doy:4},buttonText:{prev:"Anta\u016Da",next:"Sekva",today:"Hodia\u016D",year:"Jaro",month:"Monato",week:"Semajno",day:"Tago",list:"Tagordo"},weekText:"Sm",allDayText:"Tuta tago",moreLinkText:"pli",noEventsText:"Neniuj eventoj por montri"},cn={code:"es",week:{dow:0,doy:6},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",year:"A\xF1o",month:"Mes",week:"Semana",day:"D\xEDa",list:"Agenda"},weekText:"Sm",allDayText:"Todo el d\xEDa",moreLinkText:"m\xE1s",noEventsText:"No hay eventos para mostrar"},un={code:"es",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Sig",today:"Hoy",year:"A\xF1o",month:"Mes",week:"Semana",day:"D\xEDa",list:"Agenda"},buttonHints:{prev:"$0 antes",next:"$0 siguiente",today(e){return e==="D\xEDa"?"Hoy":(e==="Semana"?"Esta":"Este")+" "+e.toLocaleLowerCase()}},viewHint(e){return"Vista "+(e==="Semana"?"de la":"del")+" "+e.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"Todo el d\xEDa",moreLinkText:"m\xE1s",moreLinkHint(e){return`Mostrar ${e} eventos m\xE1s`},noEventsText:"No hay eventos para mostrar",navLinkHint:"Ir al $0",closeHint:"Cerrar",timeHint:"La hora",eventHint:"Evento"},hn={code:"et",week:{dow:1,doy:4},buttonText:{prev:"Eelnev",next:"J\xE4rgnev",today:"T\xE4na",year:"Aasta",month:"Kuu",week:"N\xE4dal",day:"P\xE4ev",list:"P\xE4evakord"},weekText:"n\xE4d",allDayText:"Kogu p\xE4ev",moreLinkText(e){return"+ veel "+e},noEventsText:"Kuvamiseks puuduvad s\xFCndmused"},mn={code:"eu",week:{dow:1,doy:7},buttonText:{prev:"Aur",next:"Hur",today:"Gaur",year:"Urtea",month:"Hilabetea",week:"Astea",day:"Eguna",list:"Agenda"},weekText:"As",allDayText:"Egun osoa",moreLinkText:"gehiago",noEventsText:"Ez dago ekitaldirik erakusteko"},fn={code:"fa",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"\u0642\u0628\u0644\u06CC",next:"\u0628\u0639\u062F\u06CC",today:"\u0627\u0645\u0631\u0648\u0632",year:"\u0633\u0627\u0644",month:"\u0645\u0627\u0647",week:"\u0647\u0641\u062A\u0647",day:"\u0631\u0648\u0632",list:"\u0628\u0631\u0646\u0627\u0645\u0647"},weekText:"\u0647\u0641",allDayText:"\u062A\u0645\u0627\u0645 \u0631\u0648\u0632",moreLinkText(e){return"\u0628\u06CC\u0634 \u0627\u0632 "+e},noEventsText:"\u0647\u06CC\u0686 \u0631\u0648\u06CC\u062F\u0627\u062F\u06CC \u0628\u0647 \u0646\u0645\u0627\u06CC\u0634"},vn={code:"fi",week:{dow:1,doy:4},buttonText:{prev:"Edellinen",next:"Seuraava",today:"T\xE4n\xE4\xE4n",year:"Vuosi",month:"Kuukausi",week:"Viikko",day:"P\xE4iv\xE4",list:"Tapahtumat"},weekText:"Vk",allDayText:"Koko p\xE4iv\xE4",moreLinkText:"lis\xE4\xE4",noEventsText:"Ei n\xE4ytett\xE4vi\xE4 tapahtumia"},gn={code:"fr",buttonText:{prev:"Pr\xE9c\xE9dent",next:"Suivant",today:"Aujourd'hui",year:"Ann\xE9e",month:"Mois",week:"Semaine",day:"Jour",list:"Mon planning"},weekText:"Sem.",allDayText:"Toute la journ\xE9e",moreLinkText:"en plus",noEventsText:"Aucun \xE9v\xE8nement \xE0 afficher"},pn={code:"fr-ch",week:{dow:1,doy:4},buttonText:{prev:"Pr\xE9c\xE9dent",next:"Suivant",today:"Courant",year:"Ann\xE9e",month:"Mois",week:"Semaine",day:"Jour",list:"Mon planning"},weekText:"Sm",allDayText:"Toute la journ\xE9e",moreLinkText:"en plus",noEventsText:"Aucun \xE9v\xE8nement \xE0 afficher"},yn={code:"fr",week:{dow:1,doy:4},buttonText:{prev:"Pr\xE9c\xE9dent",next:"Suivant",today:"Aujourd'hui",year:"Ann\xE9e",month:"Mois",week:"Semaine",day:"Jour",list:"Planning"},weekText:"Sem.",weekTextLong:"Semaine",allDayText:"Toute la journ\xE9e",moreLinkText:"en plus",noEventsText:"Aucun \xE9v\xE8nement \xE0 afficher"},Sn={code:"gl",week:{dow:1,doy:4},buttonText:{prev:"Ant",next:"Seg",today:"Hoxe",year:"Ano",month:"Mes",week:"Semana",day:"D\xEDa",list:"Axenda"},buttonHints:{prev:"$0 antes",next:"$0 seguinte",today(e){return e==="D\xEDa"?"Hoxe":(e==="Semana"?"Esta":"Este")+" "+e.toLocaleLowerCase()}},viewHint(e){return"Vista "+(e==="Semana"?"da":"do")+" "+e.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"Todo o d\xEDa",moreLinkText:"m\xE1is",moreLinkHint(e){return`Amosar ${e} eventos m\xE1is`},noEventsText:"Non hai eventos para amosar",navLinkHint:"Ir ao $0",closeHint:"Pechar",timeHint:"A hora",eventHint:"Evento"},_n={code:"he",direction:"rtl",buttonText:{prev:"\u05D4\u05E7\u05D5\u05D3\u05DD",next:"\u05D4\u05D1\u05D0",today:"\u05D4\u05D9\u05D5\u05DD",year:"\u05E9\u05E0\u05D4",month:"\u05D7\u05D5\u05D3\u05E9",week:"\u05E9\u05D1\u05D5\u05E2",day:"\u05D9\u05D5\u05DD",list:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD"},allDayText:"\u05DB\u05DC \u05D4\u05D9\u05D5\u05DD",moreLinkText:"\u05E0\u05D5\u05E1\u05E4\u05D9\u05DD",noEventsText:"\u05D0\u05D9\u05DF \u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD \u05DC\u05D4\u05E6\u05D2\u05D4",weekText:"\u05E9\u05D1\u05D5\u05E2"},Tn={code:"hi",week:{dow:0,doy:6},buttonText:{prev:"\u092A\u093F\u091B\u0932\u093E",next:"\u0905\u0917\u0932\u093E",today:"\u0906\u091C",year:"\u0935\u0930\u094D\u0937",month:"\u092E\u0939\u0940\u0928\u093E",week:"\u0938\u092A\u094D\u0924\u093E\u0939",day:"\u0926\u093F\u0928",list:"\u0915\u093E\u0930\u094D\u092F\u0938\u0942\u091A\u0940"},weekText:"\u0939\u092B\u094D\u0924\u093E",allDayText:"\u0938\u092D\u0940 \u0926\u093F\u0928",moreLinkText(e){return"+\u0905\u0927\u093F\u0915 "+e},noEventsText:"\u0915\u094B\u0908 \u0918\u091F\u0928\u093E\u0913\u0902 \u0915\u094B \u092A\u094D\u0930\u0926\u0930\u094D\u0936\u093F\u0924 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F"},xn={code:"hr",week:{dow:1,doy:7},buttonText:{prev:"Prija\u0161nji",next:"Sljede\u0107i",today:"Danas",year:"Godina",month:"Mjesec",week:"Tjedan",day:"Dan",list:"Raspored"},weekText:"Tje",allDayText:"Cijeli dan",moreLinkText(e){return"+ jo\u0161 "+e},noEventsText:"Nema doga\u0111aja za prikaz"},bn={code:"hu",week:{dow:1,doy:4},buttonText:{prev:"vissza",next:"el\u0151re",today:"ma",year:"\xC9v",month:"H\xF3nap",week:"H\xE9t",day:"Nap",list:"Lista"},weekText:"H\xE9t",allDayText:"Eg\xE9sz nap",moreLinkText:"tov\xE1bbi",noEventsText:"Nincs megjelen\xEDthet\u0151 esem\xE9ny"},kn={code:"hy-am",week:{dow:1,doy:4},buttonText:{prev:"\u0546\u0561\u056D\u0578\u0580\u0564",next:"\u0540\u0561\u057B\u0578\u0580\u0564",today:"\u0531\u0575\u057D\u0585\u0580",year:"\u054F\u0561\u0580\u056B",month:"\u0531\u0574\u056B\u057D",week:"\u0547\u0561\u0562\u0561\u0569",day:"\u0555\u0580",list:"\u0555\u0580\u057E\u0561 \u0581\u0578\u0582\u0581\u0561\u056F"},weekText:"\u0547\u0561\u0562",allDayText:"\u0531\u0574\u0562\u0578\u0572\u057B \u0585\u0580",moreLinkText(e){return"+ \u0587\u057D "+e},noEventsText:"\u0532\u0561\u0581\u0561\u056F\u0561\u0575\u0578\u0582\u0574 \u0567 \u056B\u0580\u0561\u0564\u0561\u0580\u0571\u0578\u0582\u0569\u0575\u0578\u0582\u0576\u0568 \u0581\u0578\u0582\u0581\u0561\u0564\u0580\u0565\u056C\u0578\u0582"},wn={code:"id",week:{dow:1,doy:7},buttonText:{prev:"mundur",next:"maju",today:"hari ini",year:"Tahun",month:"Bulan",week:"Minggu",day:"Hari",list:"Agenda"},weekText:"Mg",allDayText:"Sehari penuh",moreLinkText:"lebih",noEventsText:"Tidak ada acara untuk ditampilkan"},Dn={code:"is",week:{dow:1,doy:4},buttonText:{prev:"Fyrri",next:"N\xE6sti",today:"\xCD dag",year:"\xC1r",month:"M\xE1nu\xF0ur",week:"Vika",day:"Dagur",list:"Dagskr\xE1"},weekText:"Vika",allDayText:"Allan daginn",moreLinkText:"meira",noEventsText:"Engir vi\xF0bur\xF0ir til a\xF0 s\xFDna"},En={code:"it",week:{dow:1,doy:4},buttonText:{prev:"Prec",next:"Succ",today:"Oggi",year:"Anno",month:"Mese",week:"Settimana",day:"Giorno",list:"Agenda"},weekText:"Sm",allDayText:"Tutto il giorno",moreLinkText(e){return"+altri "+e},noEventsText:"Non ci sono eventi da visualizzare"},Cn={code:"ja",buttonText:{prev:"\u524D",next:"\u6B21",today:"\u4ECA\u65E5",year:"\u5E74",month:"\u6708",week:"\u9031",day:"\u65E5",list:"\u4E88\u5B9A\u30EA\u30B9\u30C8"},weekText:"\u9031",allDayText:"\u7D42\u65E5",moreLinkText(e){return"\u4ED6 "+e+" \u4EF6"},noEventsText:"\u8868\u793A\u3059\u308B\u4E88\u5B9A\u306F\u3042\u308A\u307E\u305B\u3093"},In={code:"ka",week:{dow:1,doy:7},buttonText:{prev:"\u10EC\u10D8\u10DC\u10D0",next:"\u10E8\u10D4\u10DB\u10D3\u10D4\u10D2\u10D8",today:"\u10D3\u10E6\u10D4\u10E1",year:"\u10EC\u10D4\u10DA\u10D8\u10EC\u10D0\u10D3\u10D8",month:"\u10D7\u10D5\u10D4",week:"\u10D9\u10D5\u10D8\u10E0\u10D0",day:"\u10D3\u10E6\u10D4",list:"\u10D3\u10E6\u10D8\u10E1 \u10EC\u10D4\u10E1\u10E0\u10D8\u10D2\u10D8"},weekText:"\u10D9\u10D5",allDayText:"\u10DB\u10D7\u10D4\u10DA\u10D8 \u10D3\u10E6\u10D4",moreLinkText(e){return"+ \u10D9\u10D8\u10D3\u10D4\u10D5 "+e},noEventsText:"\u10E6\u10DD\u10DC\u10D8\u10E1\u10EB\u10D8\u10D4\u10D1\u10D4\u10D1\u10D8 \u10D0\u10E0 \u10D0\u10E0\u10D8\u10E1"},Ln={code:"kk",week:{dow:1,doy:7},buttonText:{prev:"\u0410\u043B\u0434\u044B\u04A3\u0493\u044B",next:"\u041A\u0435\u043B\u0435\u0441\u0456",today:"\u0411\u04AF\u0433\u0456\u043D",year:"\u0416\u044B\u043B",month:"\u0410\u0439",week:"\u0410\u043F\u0442\u0430",day:"\u041A\u04AF\u043D",list:"\u041A\u04AF\u043D \u0442\u04D9\u0440\u0442\u0456\u0431\u0456"},weekText:"\u041D\u0435",allDayText:"\u041A\u04AF\u043D\u0456 \u0431\u043E\u0439\u044B",moreLinkText(e){return"+ \u0442\u0430\u0493\u044B "+e},noEventsText:"\u041A\u04E9\u0440\u0441\u0435\u0442\u0443 \u04AF\u0448\u0456\u043D \u043E\u049B\u0438\u0493\u0430\u043B\u0430\u0440 \u0436\u043E\u049B"},Mn={code:"km",week:{dow:1,doy:4},buttonText:{prev:"\u1798\u17BB\u1793",next:"\u1794\u1793\u17D2\u1791\u17B6\u1794\u17CB",today:"\u1790\u17D2\u1784\u17C3\u1793\u17C1\u17C7",year:"\u1786\u17D2\u1793\u17B6\u17C6",month:"\u1781\u17C2",week:"\u179F\u1794\u17D2\u178F\u17B6\u17A0\u17CD",day:"\u1790\u17D2\u1784\u17C3",list:"\u1794\u1789\u17D2\u1787\u17B8"},weekText:"\u179F\u1794\u17D2\u178F\u17B6\u17A0\u17CD",allDayText:"\u1796\u17C1\u1789\u1798\u17BD\u1799\u1790\u17D2\u1784\u17C3",moreLinkText:"\u1785\u17D2\u179A\u17BE\u1793\u1791\u17C0\u178F",noEventsText:"\u1782\u17D2\u1798\u17B6\u1793\u1796\u17D2\u179A\u17B9\u178F\u17D2\u178F\u17B7\u1780\u17B6\u179A\u178E\u17CD\u178F\u17D2\u179A\u17BC\u179C\u1794\u1784\u17D2\u17A0\u17B6\u1789"},Rn={code:"ko",buttonText:{prev:"\uC774\uC804\uB2EC",next:"\uB2E4\uC74C\uB2EC",today:"\uC624\uB298",year:"\uB144\uB3C4",month:"\uC6D4",week:"\uC8FC",day:"\uC77C",list:"\uC77C\uC815\uBAA9\uB85D"},weekText:"\uC8FC",allDayText:"\uC885\uC77C",moreLinkText:"\uAC1C",noEventsText:"\uC77C\uC815\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"},An={code:"ku",week:{dow:6,doy:12},direction:"rtl",buttonText:{prev:"\u067E\u06CE\u0634\u062A\u0631",next:"\u062F\u0648\u0627\u062A\u0631",today:"\u0626\u06D5\u0645\u0695\u0648",year:"\u0633\u0627\u06B5",month:"\u0645\u0627\u0646\u06AF",week:"\u0647\u06D5\u0641\u062A\u06D5",day:"\u0695\u06C6\u0698",list:"\u0628\u06D5\u0631\u0646\u0627\u0645\u06D5"},weekText:"\u0647\u06D5\u0641\u062A\u06D5",allDayText:"\u0647\u06D5\u0645\u0648\u0648 \u0695\u06C6\u0698\u06D5\u06A9\u06D5",moreLinkText:"\u0632\u06CC\u0627\u062A\u0631",noEventsText:"\u0647\u06CC\u0686 \u0695\u0648\u0648\u062F\u0627\u0648\u06CE\u0643 \u0646\u06CC\u06D5"},Nn={code:"lb",week:{dow:1,doy:4},buttonText:{prev:"Zr\xE9ck",next:"Weider",today:"Haut",year:"Joer",month:"Mount",week:"Woch",day:"Dag",list:"Terminiwwersiicht"},weekText:"W",allDayText:"Ganzen Dag",moreLinkText:"m\xE9i",noEventsText:"Nee Evenementer ze affich\xE9ieren"},Hn={code:"lt",week:{dow:1,doy:4},buttonText:{prev:"Atgal",next:"Pirmyn",today:"\u0160iandien",year:"Metai",month:"M\u0117nuo",week:"Savait\u0117",day:"Diena",list:"Darbotvark\u0117"},weekText:"SAV",allDayText:"Vis\u0105 dien\u0105",moreLinkText:"daugiau",noEventsText:"N\u0117ra \u012Fvyki\u0173 rodyti"},Pn={code:"lv",week:{dow:1,doy:4},buttonText:{prev:"Iepr.",next:"N\u0101k.",today:"\u0160odien",year:"Gads",month:"M\u0113nesis",week:"Ned\u0113\u013Ca",day:"Diena",list:"Dienas k\u0101rt\u012Bba"},weekText:"Ned.",allDayText:"Visu dienu",moreLinkText(e){return"+v\u0113l "+e},noEventsText:"Nav notikumu"},On={code:"mk",buttonText:{prev:"\u043F\u0440\u0435\u0442\u0445\u043E\u0434\u043D\u043E",next:"\u0441\u043B\u0435\u0434\u043D\u043E",today:"\u0414\u0435\u043D\u0435\u0441",year:"\u0433\u043E\u0434\u0438\u043D\u0430",month:"\u041C\u0435\u0441\u0435\u0446",week:"\u041D\u0435\u0434\u0435\u043B\u0430",day:"\u0414\u0435\u043D",list:"\u0413\u0440\u0430\u0444\u0438\u043A"},weekText:"\u0421\u0435\u0434",allDayText:"\u0426\u0435\u043B \u0434\u0435\u043D",moreLinkText(e){return"+\u043F\u043E\u0432\u0435\u045C\u0435 "+e},noEventsText:"\u041D\u0435\u043C\u0430 \u043D\u0430\u0441\u0442\u0430\u043D\u0438 \u0437\u0430 \u043F\u0440\u0438\u043A\u0430\u0436\u0443\u0432\u0430\u045A\u0435"},zn={code:"ms",week:{dow:1,doy:7},buttonText:{prev:"Sebelum",next:"Selepas",today:"hari ini",year:"Tahun",month:"Bulan",week:"Minggu",day:"Hari",list:"Agenda"},weekText:"Mg",allDayText:"Sepanjang hari",moreLinkText(e){return"masih ada "+e+" acara"},noEventsText:"Tiada peristiwa untuk dipaparkan"},$n={code:"nb",week:{dow:1,doy:4},buttonText:{prev:"Forrige",next:"Neste",today:"I dag",year:"\xC5r",month:"M\xE5ned",week:"Uke",day:"Dag",list:"Agenda"},weekText:"Uke",weekTextLong:"Uke",allDayText:"Hele dagen",moreLinkText:"til",noEventsText:"Ingen hendelser \xE5 vise",buttonHints:{prev:"Forrige $0",next:"Neste $0",today:"N\xE5v\xE6rende $0"},viewHint:"$0 visning",navLinkHint:"G\xE5 til $0",moreLinkHint(e){return`Vis ${e} flere hendelse${e===1?"":"r"}`}},Fn={code:"ne",week:{dow:7,doy:1},buttonText:{prev:"\u0905\u0918\u093F\u0932\u094D\u0932\u094B",next:"\u0905\u0930\u094D\u0915\u094B",today:"\u0906\u091C",year:"\u0935\u0930\u094D\u0937",month:"\u092E\u0939\u093F\u0928\u093E",week:"\u0939\u092A\u094D\u0924\u093E",day:"\u0926\u093F\u0928",list:"\u0938\u0942\u091A\u0940"},weekText:"\u0939\u092A\u094D\u0924\u093E",allDayText:"\u0926\u093F\u0928\u092D\u0930\u093F",moreLinkText:"\u0925\u092A \u0932\u093F\u0902\u0915",noEventsText:"\u0926\u0947\u0916\u093E\u0909\u0928\u0915\u094B \u0932\u093E\u0917\u093F \u0915\u0941\u0928\u0948 \u0918\u091F\u0928\u093E\u0939\u0930\u0942 \u091B\u0948\u0928\u0928\u094D"},Wn={code:"nl",week:{dow:1,doy:4},buttonText:{prev:"Vorige",next:"Volgende",today:"Vandaag",year:"Jaar",month:"Maand",week:"Week",day:"Dag",list:"Agenda"},allDayText:"Hele dag",moreLinkText:"extra",noEventsText:"Geen evenementen om te laten zien"},Bn={code:"nn",week:{dow:1,doy:4},buttonText:{prev:"F\xF8rre",next:"Neste",today:"I dag",year:"\xC5r",month:"M\xE5nad",week:"Veke",day:"Dag",list:"Agenda"},weekText:"Veke",allDayText:"Heile dagen",moreLinkText:"til",noEventsText:"Ingen hendelser \xE5 vise"},jn={code:"pl",week:{dow:1,doy:4},buttonText:{prev:"Poprzedni",next:"Nast\u0119pny",today:"Dzi\u015B",year:"Rok",month:"Miesi\u0105c",week:"Tydzie\u0144",day:"Dzie\u0144",list:"Plan dnia"},weekText:"Tydz",allDayText:"Ca\u0142y dzie\u0144",moreLinkText:"wi\u0119cej",noEventsText:"Brak wydarze\u0144 do wy\u015Bwietlenia"},Vn={code:"pt-br",buttonText:{prev:"Anterior",next:"Pr\xF3ximo",prevYear:"Ano anterior",nextYear:"Pr\xF3ximo ano",year:"Ano",today:"Hoje",month:"M\xEAs",week:"Semana",day:"Dia",list:"Lista"},buttonHints:{prev:"$0 Anterior",next:"Pr\xF3ximo $0",today(e){return e==="Dia"?"Hoje":(e==="Semana"?"Esta":"Este")+" "+e.toLocaleLowerCase()}},viewHint(e){return"Visualizar "+(e==="Semana"?"a":"o")+" "+e.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"dia inteiro",moreLinkText(e){return"mais +"+e},moreLinkHint(e){return`Mostrar mais ${e} eventos`},noEventsText:"N\xE3o h\xE1 eventos para mostrar",navLinkHint:"Ir para $0",closeHint:"Fechar",timeHint:"A hora",eventHint:"Evento"},Gn={code:"pt",week:{dow:1,doy:4},buttonText:{prev:"Anterior",next:"Seguinte",today:"Hoje",year:"Ano",month:"M\xEAs",week:"Semana",day:"Dia",list:"Agenda"},weekText:"Sem",allDayText:"Todo o dia",moreLinkText:"mais",noEventsText:"N\xE3o h\xE1 eventos para mostrar"},Un={code:"ro",week:{dow:1,doy:7},buttonText:{prev:"precedent\u0103",next:"urm\u0103toare",today:"Azi",year:"An",month:"Lun\u0103",week:"S\u0103pt\u0103m\xE2n\u0103",day:"Zi",list:"Agend\u0103"},weekText:"S\u0103pt",allDayText:"Toat\u0103 ziua",moreLinkText(e){return"+alte "+e},noEventsText:"Nu exist\u0103 evenimente de afi\u0219at"},qn={code:"ru",week:{dow:1,doy:4},buttonText:{prev:"\u041F\u0440\u0435\u0434",next:"\u0421\u043B\u0435\u0434",today:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",year:"\u0413\u043E\u0434",month:"\u041C\u0435\u0441\u044F\u0446",week:"\u041D\u0435\u0434\u0435\u043B\u044F",day:"\u0414\u0435\u043D\u044C",list:"\u041F\u043E\u0432\u0435\u0441\u0442\u043A\u0430 \u0434\u043D\u044F"},weekText:"\u041D\u0435\u0434",allDayText:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",moreLinkText(e){return"+ \u0435\u0449\u0451 "+e},noEventsText:"\u041D\u0435\u0442 \u0441\u043E\u0431\u044B\u0442\u0438\u0439 \u0434\u043B\u044F \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F"},Jn={code:"si-lk",week:{dow:1,doy:4},buttonText:{prev:"\u0DB4\u0DD9\u0DBB",next:"\u0DB4\u0DC3\u0DD4",today:"\u0D85\u0DAF",year:"\u0D85\u0DC0\u0DD4\u0DBB\u0DD4\u0DAF\u0DD4",month:"\u0DB8\u0DCF\u0DC3\u0DBA",week:"\u0DC3\u0DAD\u0DD2\u0DBA",day:"\u0DAF\u0DC0\u0DC3",list:"\u0DBD\u0DD0\u0DBA\u0DD2\u0DC3\u0DCA\u0DAD\u0DD4\u0DC0"},weekText:"\u0DC3\u0DAD\u0DD2",allDayText:"\u0DC3\u0DD2\u0DBA\u0DBD\u0DD4",moreLinkText:"\u0DAD\u0DC0\u0DAD\u0DCA",noEventsText:"\u0DB8\u0DD4\u0D9A\u0DD4\u0DAD\u0DCA \u0DB1\u0DD0\u0DAD"},Kn={code:"sk",week:{dow:1,doy:4},buttonText:{prev:"Predch\xE1dzaj\xFAci",next:"Nasleduj\xFAci",today:"Dnes",year:"Rok",month:"Mesiac",week:"T\xFD\u017Ede\u0148",day:"De\u0148",list:"Rozvrh"},weekText:"Ty",allDayText:"Cel\xFD de\u0148",moreLinkText(e){return"+\u010Fal\u0161ie: "+e},noEventsText:"\u017Diadne akcie na zobrazenie"},Zn={code:"sl",week:{dow:1,doy:7},buttonText:{prev:"Prej\u0161nji",next:"Naslednji",today:"Trenutni",year:"Leto",month:"Mesec",week:"Teden",day:"Dan",list:"Dnevni red"},weekText:"Teden",allDayText:"Ves dan",moreLinkText:"ve\u010D",noEventsText:"Ni dogodkov za prikaz"},Yn={code:"sm",buttonText:{prev:"Talu ai",next:"Mulimuli atu",today:"Aso nei",year:"Tausaga",month:"Masina",week:"Vaiaso",day:"Aso",list:"Faasologa"},weekText:"Vaiaso",allDayText:"Aso atoa",moreLinkText:"sili atu",noEventsText:"Leai ni mea na tutupu"},Qn={code:"sq",week:{dow:1,doy:4},buttonText:{prev:"mbrapa",next:"P\xEBrpara",today:"Sot",year:"Viti",month:"Muaj",week:"Jav\xEB",day:"Dit\xEB",list:"List\xEB"},weekText:"Ja",allDayText:"Gjith\xEB dit\xEBn",moreLinkText(e){return"+m\xEB tep\xEBr "+e},noEventsText:"Nuk ka evente p\xEBr t\xEB shfaqur"},Xn={code:"sr-cyrl",week:{dow:1,doy:7},buttonText:{prev:"\u041F\u0440\u0435\u0442\u0445\u043E\u0434\u043D\u0430",next:"\u0441\u043B\u0435\u0434\u0435\u045B\u0438",today:"\u0414\u0430\u043D\u0430\u0441",year:"\u0413\u043E\u0434\u0438\u043D\u0430",month:"\u041C\u0435\u0441\u0435\u0446",week:"\u041D\u0435\u0434\u0435\u0459\u0430",day:"\u0414\u0430\u043D",list:"\u041F\u043B\u0430\u043D\u0435\u0440"},weekText:"\u0421\u0435\u0434",allDayText:"\u0426\u0435\u043E \u0434\u0430\u043D",moreLinkText(e){return"+ \u0458\u043E\u0448 "+e},noEventsText:"\u041D\u0435\u043C\u0430 \u0434\u043E\u0433\u0430\u0452\u0430\u0458\u0430 \u0437\u0430 \u043F\u0440\u0438\u043A\u0430\u0437"},eo={code:"sr",week:{dow:1,doy:7},buttonText:{prev:"Prethodna",next:"Sledec\u0301i",today:"Danas",year:"Godina",month:"M\u0435s\u0435c",week:"N\u0435d\u0435lja",day:"Dan",list:"Plan\u0435r"},weekText:"Sed",allDayText:"C\u0435o dan",moreLinkText(e){return"+ jo\u0161 "+e},noEventsText:"N\u0435ma doga\u0111aja za prikaz"},to={code:"sv",week:{dow:1,doy:4},buttonText:{prev:"F\xF6rra",next:"N\xE4sta",today:"Idag",year:"\xC5r",month:"M\xE5nad",week:"Vecka",day:"Dag",list:"Program"},buttonHints:{prev(e){return`F\xF6reg\xE5ende ${e.toLocaleLowerCase()}`},next(e){return`N\xE4sta ${e.toLocaleLowerCase()}`},today(e){return(e==="Program"?"Detta":"Denna")+" "+e.toLocaleLowerCase()}},viewHint:"$0 vy",navLinkHint:"G\xE5 till $0",moreLinkHint(e){return`Visa ytterligare ${e} h\xE4ndelse${e===1?"":"r"}`},weekText:"v.",weekTextLong:"Vecka",allDayText:"Heldag",moreLinkText:"till",noEventsText:"Inga h\xE4ndelser att visa",closeHint:"St\xE4ng",timeHint:"Klockan",eventHint:"H\xE4ndelse"},so={code:"ta-in",week:{dow:1,doy:4},buttonText:{prev:"\u0BAE\u0BC1\u0BA8\u0BCD\u0BA4\u0BC8\u0BAF",next:"\u0B85\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4\u0BA4\u0BC1",today:"\u0B87\u0BA9\u0BCD\u0BB1\u0BC1",year:"\u0B86\u0BA3\u0BCD\u0B9F\u0BC1",month:"\u0BAE\u0BBE\u0BA4\u0BAE\u0BCD",week:"\u0BB5\u0BBE\u0BB0\u0BAE\u0BCD",day:"\u0BA8\u0BBE\u0BB3\u0BCD",list:"\u0BA4\u0BBF\u0BA9\u0B9A\u0BB0\u0BBF \u0B85\u0B9F\u0BCD\u0B9F\u0BB5\u0BA3\u0BC8"},weekText:"\u0BB5\u0BBE\u0BB0\u0BAE\u0BCD",allDayText:"\u0BA8\u0BBE\u0BB3\u0BCD \u0BAE\u0BC1\u0BB4\u0BC1\u0BB5\u0BA4\u0BC1\u0BAE\u0BCD",moreLinkText(e){return"+ \u0BAE\u0BC7\u0BB2\u0BC1\u0BAE\u0BCD "+e},noEventsText:"\u0B95\u0BBE\u0BA3\u0BCD\u0BAA\u0BBF\u0B95\u0BCD\u0B95 \u0BA8\u0BBF\u0B95\u0BB4\u0BCD\u0BB5\u0BC1\u0B95\u0BB3\u0BCD \u0B87\u0BB2\u0BCD\u0BB2\u0BC8"},no={code:"th",week:{dow:1,doy:4},buttonText:{prev:"\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32",next:"\u0E16\u0E31\u0E14\u0E44\u0E1B",prevYear:"\u0E1B\u0E35\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32",nextYear:"\u0E1B\u0E35\u0E16\u0E31\u0E14\u0E44\u0E1B",year:"\u0E1B\u0E35",today:"\u0E27\u0E31\u0E19\u0E19\u0E35\u0E49",month:"\u0E40\u0E14\u0E37\u0E2D\u0E19",week:"\u0E2A\u0E31\u0E1B\u0E14\u0E32\u0E2B\u0E4C",day:"\u0E27\u0E31\u0E19",list:"\u0E01\u0E33\u0E2B\u0E19\u0E14\u0E01\u0E32\u0E23"},weekText:"\u0E2A\u0E31\u0E1B\u0E14\u0E32\u0E2B\u0E4C",allDayText:"\u0E15\u0E25\u0E2D\u0E14\u0E27\u0E31\u0E19",moreLinkText:"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E40\u0E15\u0E34\u0E21",noEventsText:"\u0E44\u0E21\u0E48\u0E21\u0E35\u0E01\u0E34\u0E08\u0E01\u0E23\u0E23\u0E21\u0E17\u0E35\u0E48\u0E08\u0E30\u0E41\u0E2A\u0E14\u0E07"},oo={code:"tr",week:{dow:1,doy:7},buttonText:{prev:"geri",next:"ileri",today:"bug\xFCn",year:"Y\u0131l",month:"Ay",week:"Hafta",day:"G\xFCn",list:"Ajanda"},weekText:"Hf",allDayText:"T\xFCm g\xFCn",moreLinkText:"daha fazla",noEventsText:"G\xF6sterilecek etkinlik yok"},io={code:"ug",buttonText:{prev:"\u0626\u0627\u0644\u062F\u0649\u0646\u0642\u0649",next:"\u0643\u06D0\u064A\u0649\u0646\u0643\u0649",today:"\u0628\u06C8\u06AF\u06C8\u0646",year:"\u064A\u0649\u0644",month:"\u0626\u0627\u064A",week:"\u06BE\u06D5\u067E\u062A\u06D5",day:"\u0643\u06C8\u0646",list:"\u0643\u06C8\u0646\u062A\u06D5\u0631\u062A\u0649\u067E"},allDayText:"\u067E\u06C8\u062A\u06C8\u0646 \u0643\u06C8\u0646"},ao={code:"uk",week:{dow:1,doy:7},buttonText:{prev:"\u041F\u043E\u043F\u0435\u0440\u0435\u0434\u043D\u0456\u0439",next:"\u0434\u0430\u043B\u0456",today:"\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456",year:"\u0440\u0456\u043A",month:"\u041C\u0456\u0441\u044F\u0446\u044C",week:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",day:"\u0414\u0435\u043D\u044C",list:"\u041F\u043E\u0440\u044F\u0434\u043E\u043A \u0434\u0435\u043D\u043D\u0438\u0439"},weekText:"\u0422\u0438\u0436",allDayText:"\u0423\u0432\u0435\u0441\u044C \u0434\u0435\u043D\u044C",moreLinkText(e){return"+\u0449\u0435 "+e+"..."},noEventsText:"\u041D\u0435\u043C\u0430\u0454 \u043F\u043E\u0434\u0456\u0439 \u0434\u043B\u044F \u0432\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043D\u044F"},ro={code:"uz-cy",week:{dow:1,doy:4},buttonText:{prev:"\u041E\u043B\u0438\u043D",next:"\u041A\u0435\u0439\u0438\u043D",today:"\u0411\u0443\u0433\u0443\u043D",month:"\u041E\u0439",week:"\u04B2\u0430\u0444\u0442\u0430",day:"\u041A\u0443\u043D",list:"\u041A\u0443\u043D \u0442\u0430\u0440\u0442\u0438\u0431\u0438"},weekText:"\u04B2\u0430\u0444\u0442\u0430",allDayText:"\u041A\u0443\u043D \u0431\u045E\u0439\u0438\u0447\u0430",moreLinkText(e){return"+ \u044F\u043D\u0430 "+e},noEventsText:"\u041A\u045E\u0440\u0441\u0430\u0442\u0438\u0448 \u0443\u0447\u0443\u043D \u0432\u043E\u049B\u0435\u0430\u043B\u0430\u0440 \u0439\u045E\u049B"},lo={code:"uz",week:{dow:1,doy:4},buttonText:{prev:"Oldingi",next:"Keyingi",today:"Bugun",year:"Yil",month:"Oy",week:"Xafta",day:"Kun",list:"Kun tartibi"},allDayText:"Kun bo'yi",moreLinkText(e){return"+ yana "+e},noEventsText:"Ko'rsatish uchun voqealar yo'q"},co={code:"vi",week:{dow:1,doy:4},buttonText:{prev:"Tr\u01B0\u1EDBc",next:"Ti\u1EBFp",today:"H\xF4m nay",year:"N\u0103m",month:"Th\xE1ng",week:"Tu\xE2\u0300n",day:"Ng\xE0y",list:"L\u1ECBch bi\u1EC3u"},weekText:"Tu",allDayText:"C\u1EA3 ng\xE0y",moreLinkText(e){return"+ th\xEAm "+e},noEventsText:"Kh\xF4ng c\xF3 s\u1EF1 ki\u1EC7n \u0111\u1EC3 hi\u1EC3n th\u1ECB"},uo={code:"zh-cn",week:{dow:1,doy:4},buttonText:{prev:"\u4E0A\u6708",next:"\u4E0B\u6708",today:"\u4ECA\u5929",year:"\u5E74",month:"\u6708",week:"\u5468",day:"\u65E5",list:"\u65E5\u7A0B"},weekText:"\u5468",allDayText:"\u5168\u5929",moreLinkText(e){return"\u53E6\u5916 "+e+" \u4E2A"},noEventsText:"\u6CA1\u6709\u4E8B\u4EF6\u663E\u793A"},ho={code:"zh-tw",buttonText:{prev:"\u4E0A\u500B",next:"\u4E0B\u500B",today:"\u4ECA\u5929",year:"\u5E74",month:"\u6708",week:"\u9031",day:"\u5929",list:"\u6D3B\u52D5\u5217\u8868"},weekText:"\u9031",allDayText:"\u6574\u5929",moreLinkText:"\u986F\u793A\u66F4\u591A",noEventsText:"\u6C92\u6709\u4EFB\u4F55\u6D3B\u52D5"},mo=[Fs,Ws,Bs,js,Vs,Gs,Us,qs,Js,Ks,Zs,Ys,Qs,Xs,en,tn,sn,nn,on,an,rn,ln,dn,cn,un,hn,mn,fn,vn,gn,pn,yn,Sn,_n,Tn,xn,bn,kn,wn,Dn,En,Cn,In,Ln,Mn,Rn,An,Nn,Hn,Pn,On,zn,$n,Fn,Wn,Bn,jn,Vn,Gn,Un,qn,Jn,Kn,Zn,Yn,Qn,Xn,eo,to,so,no,oo,io,ao,ro,lo,co,uo,ho];const fo={name:"ShiftColor",props:{shiftColor:{type:String,required:!0}}},vo={class:"slds-color-picker__swatch"},go={class:"slds-color-picker__swatch-trigger"};function po(e,t,n,o,i,s){return v(),E("div",vo,[g("div",go,[g("span",{style:Oe(`background-color: ${n.shiftColor}; color: ${n.shiftColor};`),class:"slds-swatch"},null,4)])])}const yo=F(fo,[["render",po]]);const So={name:"RouteSelector",components:{ActionMenu:me,ActionMenuItem:fe,ButtonIcon:Y,Tooltip:Ke,Icon:ne},props:{columnId:{type:Number,required:!0}},emits:["toggle-route","toggle-visibility"],setup(){return{scheduleStore:q()}},computed:{showSingleButton(){return this.shifts.length===1&&!this.shifts[0].routing},showActionMenu(){return this.shifts.length&&this.shifts[0].routing},instance(){return this.scheduleStore.columnIdToDayInstance[this.$props.columnId]||{}},shifts(){return this.instance.shifts||[]}},methods:{getRouteLabel(e){return e.routing?this.$Labels.MA_Remove:this.$Labels.MA_ROUTE},getVisibilityLabel(e){return e.onMap?this.$Labels.MA_Hide:this.$Labels.MA_Show},getShiftTitle(e){const t=_.fromJSDate(e.startTime),n=_.fromJSDate(e.endTime);let o=`${t.toFormat("t")} - ${n.toFormat("t")}`;return e.isOvernight&&(o+=" (Next Day)"),o},renderVisibilityToggle(e){return e.routing&&Object.keys(e.routing).length},toggleVisibility(e){e.onMap=!e.onMap&&typeof e.onMap!="boolean"?!1:!e.onMap,e.onMap?(this.$bus.emit("hide-plotted-route"),e.routing.restoreRouteOnMap()):(MAPS.view.closePopup(),e.routing.hideRouteOnMap())}}},_o=e=>(Ye("data-v-9daa60ce"),e=e(),Qe(),e),To={class:"ma-route-selector"},xo={class:"slds-dropdown__header slds-truncate",title:"Menu Sub Heading",role:"separator"},bo={class:"slds-truncate"},ko=_o(()=>g("span",{class:"ma-icon ma-icon-route slds-m-right_x-small"},null,-1)),wo={key:1,class:"slds-has-divider_top-space",role:"separator"};function Do(e,t,n,o,i,s){const a=p("ButtonIcon"),r=p("Tooltip"),l=p("ActionMenuItem"),d=p("Icon"),u=p("ActionMenu");return v(),E("div",To,[s.showSingleButton?(v(),D(r,{key:0,text:e.$Labels.Schedule_Map_My_Schedule_Tooltip_Text},{source:H(()=>[x(a,{id:"scheduleRouteSelectorBtnResource",iconCategory:"custom",iconName:"custom78",variant:o.scheduleStore.isDayView?"brand":"bare",iconSize:"large",assistiveText:e.$Labels.Schedule_Map_My_Schedule_Tooltip_Text,title:e.$Labels.Schedule_Map_My_Schedule_Tooltip_Text,onClick:t[0]||(t[0]=m=>{e.$emit("toggle-route",s.shifts[0])})},null,8,["variant","assistiveText","title"])]),_:1},8,["text"])):k("",!0),s.showActionMenu?(v(),D(r,{key:1,class:"route-selector-tooltip",text:e.$Labels.Schedule_Map_My_Schedule_Tooltip_Text},{source:H(()=>[x(u,null,{button:H(()=>[x(a,{iconCategory:"custom",iconName:"custom78",variant:o.scheduleStore.isDayView?"brand":"bare",iconSize:"large","aria-haspopup":"true",assistiveText:e.$Labels.Schedule_Map_My_Schedule_Tooltip_Text,title:e.$Labels.Schedule_Map_My_Schedule_Tooltip_Text,more:""},null,8,["variant","assistiveText","title"])]),default:H(()=>[(v(!0),E(ke,null,Ze(s.shifts,(m,h)=>(v(),E(ke,{key:`shift.id_${h}`},[g("li",xo,[g("span",null,z(s.getShiftTitle(m)),1)]),x(l,{id:`scheduleRemoveSchedule-${h}-BtnResource`,label:s.getRouteLabel(m),onClick:f=>e.$emit("toggle-route",m)},{default:H(()=>[g("span",bo,[ko,ce(" "+z(s.getRouteLabel(m)),1)])]),_:2},1032,["id","label","onClick"]),s.renderVisibilityToggle(m)?(v(),D(l,{key:0,id:`scheduleHideSchedule-${h}-BtnResource`,label:s.getVisibilityLabel(m),onClick:f=>s.toggleVisibility(m)},{default:H(()=>[x(d,{category:"utility",name:"preview",variant:"default",size:"xx-small",iconClass:"slds-icon-text-brand",class:"slds-p-right_xx-small"}),ce(" "+z(s.getVisibilityLabel(m)),1)]),_:2},1032,["id","label","onClick"])):k("",!0),h<s.shifts.length-1?(v(),E("li",wo)):k("",!0)],64))),128))]),_:1})]),_:1},8,["text"])):k("",!0)])}const Eo=F(So,[["render",Do],["__scopeId","data-v-9daa60ce"]]),O=new Map;O.set(0,{hex:"00DBBD",class:"background-color--robins-egg-blue",icon:"egg-blue-route-icon"});O.set(1,{hex:"3188EF",class:"background-color--dodger-blue",icon:"dodger-blue-route-icon"});O.set(2,{hex:"FFB34C",class:"background-color--koromiko-orange",icon:"koromiko-orange-route-icon"});O.set(3,{hex:"DE6DE4",class:"background-color--medium-orchid",icon:"medium-orchid-route-icon"});O.set(4,{hex:"FA8072",class:"background-color--salmon",icon:"salmon-route-icon"});O.set(5,{hex:"00E67B",class:"background-color--spring-green",icon:"spring-green-route-icon"});O.set(6,{hex:"7BBCF6",class:"background-color--maya-blue",icon:"maya-blue-route-icon"});const Co={name:"TimeGridDayHeader",components:{RouteSelector:Eo,ShiftColor:yo,SLDSButton:ze},props:{fcData:{type:Object,required:!0}},setup(){return{scheduleStore:q()}},data(){return{dayTitle:""}},computed:{shifts(){return this.instance.shifts||[]},shiftId(){const[e]=this.shifts||{};return e.id},columnId(){let e=0;if(this.scheduleStore.isAgendaWeek){const{date:t}=this.fcData,n=Object.values(this.scheduleStore.columnIdToDayInstance);for(let o=0;o<n.length;o++){const i=n[o],{calendarDate:s}=i;if(t.getDate()===s.getDate()){e=i.columnId;break}}}return e},instance(){return this.scheduleStore.columnIdToDayInstance[this.columnId]},hasOvernightShift(){return this.instance.hasOvernightShift}},methods:{getShiftColorHex(e=0){return e=e===-1?0:e,`#${O.get(e).hex}`},toggleRouteByShift(){this.$bus.emit("toggle-route",this.shifts[0])},navigateCalendar(){this.scheduleStore.isAgendaWeek&&this.$bus.emit("set-calendar-view-and-date",{date:this.fcData.date,view:R.AGENDA_DAY})}}},Io=["data-column-id"],Lo={key:0,class:"slds-col slds-size_2-of-12"};function Mo(e,t,n,o,i,s){const a=p("ShiftColor"),r=p("SLDSButton"),l=p("RouteSelector");return v(),E("div",{class:"slds-grid slds-grid_vertical-align-center slds-grid_align-center","data-column-id":s.columnId},[o.scheduleStore.isAgendaWeek?(v(),E("div",Lo,[x(a,{shiftColor:`${s.getShiftColorHex(s.columnId)}`},null,8,["shiftColor"])])):k("",!0),g("div",{class:$(["slds-col",[o.scheduleStore.isAgendaWeek?"slds-size_8-of-12":"slds-size_10-of-12"]])},[x(r,{id:"scheduleTimeGridDayResource",label:e.$props.fcData.text,variant:"base",onClick:s.navigateCalendar},null,8,["label","onClick"])],2),g("div",{class:$(["slds-col",[o.scheduleStore.isAgendaWeek?"slds-size_2-of-12":"slds-grow-none"]])},[x(l,{columnId:s.columnId,onToggleRoute:s.toggleRouteByShift},null,8,["columnId","onToggleRoute"])],2)],8,Io)}const He=F(Co,[["render",Mo]]);function Ro(){return{allDaySlot:!1,plugins:[Vt,$s,Ft,Gt],headerToolbar:!1,handleWindowResize:!1,height:"100%",views:{timeGridDay:{dayHeaderContent:e=>K(He,{fcData:e})},timeGridWeek:{dayHeaderContent:e=>K(He,{fcData:e})},dayGridMonth:{editable:!1,dayMaxEventRows:4,moreLinkClick:()=>{setTimeout(()=>{const e=document.querySelector(".fc-popover");e.style.transition="top 0.6s ease";const t=e.getBoundingClientRect(),n=window.innerHeight,o=t.bottom-n,i=10;if(o>0){const s=parseFloat(getComputedStyle(e).top);e.style.top=`${s-o-i}px`}},10)}}},rerenderDelay:100,eventShortHeight:30,eventClick:this.eventClick.bind(this),dateClick:this.dateClick.bind(this),initialView:R.AGENDA_DAY,timeZone:MAPS.currentUser.TimeZone,eventOrderStrict:!0,locales:mo,locale:MAPS.currentUser.Locale.replace("sh_ME_USD","sh-ME").replace("_","-").slice(0,5),firstDay:MAPS.currentUser.StartOfWeekIndex,slotLabelFormat:this.getTimeFormat(),eventTimeFormat:this.getTimeFormat(),slotLabelContent:e=>({html:`<div class="slds-text-title_caps" style="min-width: 50px; font-size: 10px;">${e.text}</div>`}),slotDuration:"00:15:00",forceEventDuration:!0,editable:!0,lazyFetching:!1,nowIndicator:!0,droppable:!0,now:()=>_.now().setZone(this.base__getCorrectTimezone()).toJSDate(),navLinks:!1,events:this.getEvents.bind(this),eventContent:this.renderEvent.bind(this),eventOrder:["fullWidth","start"],eventResize:e=>{const{event:t}=e,{extendedProps:n}=t;this.scheduleStore.hasModifiedEvents=!0,this.scheduleStore.updatedEventsSet.add(n.id),this.resetRouteDataByShiftId(n.shiftId)},eventDragStart:e=>{const{event:t}=e,{extendedProps:n}=t;if(n.renderType==="calendar-event"){const o=this.scheduleStore.events.find(i=>i.id===n.id);o.hasError=!1}},eventDragStop:e=>{const{event:t}=e,{extendedProps:n}=t;n.renderType==="calendar-event"&&(this.scheduleStore.hasModifiedEvents=!0,this.scheduleStore.updatedEventsSet.add(n.id),this.resetRouteDataByShiftId(n.shiftId))},eventReceive:e=>{const{event:t}=e;if(this.routeDefaults.duration>=15){this.scheduleStore.updatedEventsSet.add(t.id),this.scheduleStore.hasModifiedEvents=!0,this.scheduleStore.numEventsReceived++;const n=this.scheduleStore.queue.find(i=>i.id===t.id);n.start=t.start,n.end=t.end,this.scheduleStore.events.push(n),this.scheduleStore.removeItemFromQueueById(t.id);const o=this.scheduleStore.events.find(i=>i.id===t.id);this.base__setShiftIdOnEvents([o]),this.resetRouteDataByShiftId(t.shiftId),t.remove(),this.base__calendar.addEvent(o)}else this.base__calendar.getEventById(t.id).remove()},eventAllow:(e,t)=>{const{extendedProps:n={}}=t,o=864e5;if(n.renderType==="location"&&this.scheduleStore.isAgendaWeek){const{columnId:i,isEnd:s}=n,a=this.scheduleStore.columnIdToDayInstance[i]||{},[r={}]=a.shifts||[];if(s){const h=r.startTime.getTime();if(e.start.getTime()-h>=o||e.start.getTime()<h)return!1;const f=this.scheduleStore.columnIdToDayInstance[i+1];if(!f)return!0;const[b={}]=f.shifts||[];return!(b.startTime.getTime()<e.start.getTime())}const l=r.endTime.getTime();if(l-e.end.getTime()>=o||l<e.end.getTime())return!1;const d=this.scheduleStore.columnIdToDayInstance[i-1];if(!d)return!0;const[u={}]=d.shifts||[];return u.endTime.getTime()<e.end.getTime()}return!0},eventDrop:e=>{const{event:t}=e,{extendedProps:n={}}=t,{renderType:o}=n;if(o==="calendar-event"){this.scheduleStore.hasModifiedEvents=!0,this.scheduleStore.updatedEventsSet.add(n.id);const i=this.scheduleStore.events.find(d=>d.id===n.id),{spatial:s,excludeFromRoute:a}=i;i.end=t.end,i.start=t.start;const l=a||!s?"non-spatial-cell":"eventCell";t.setProp("classNames",l),this.base__setShiftIdOnEvents([t])}else n.renderType==="location"&&this.udpateShift({event:t});this.resetRouteDataByShiftId(n.shiftId)}}}const Ao={name:"StartLocationEvent",components:{EventError:_e,RouteTimeAndDistance:je,Icon:ne,ButtonIcon:Y},props:{extendedProps:{type:Object,required:!0},travelMode:{type:String,required:!0},event:{type:Object,required:!0}},setup(){const e=q(),t=Q();return{scheduleStore:e,mainStore:t}},data(){return{shiftId:"",isEnd:!1,eventId:""}},computed:{startOverrideable(){return this.mainStore?.settings?.routes?.startLocationId.unlocked},instance(){return this.scheduleStore.columnIdToDayInstance[this.columnId]||{}},shift(){const e=this.instance.shifts||[],[t={record:{},endLocation:{},startLocation:{}}]=e;return t}},created(){const{shiftId:e,columnId:t,isEnd:n,eventId:o}=this.$props.extendedProps;this.shiftId=e,this.columnId=t,this.isEnd=n,this.eventId=o},methods:{removeLocation(){this.$bus.emit("remove-schedule-location",{isEnd:this.isEnd,columnId:this.columnId,shiftId:this.shiftId,eventId:this.eventId})},showLocationSearch(){this.$bus.emit("show-location-search",{element:this.$refs.startLocation,type:P.START,activeColumnId:this.columnId,date:this.$props.event.start,eventId:this.eventId})}}},No={class:"ma-calendar-start-location-flag"},Ho={class:"slds-col ma-calendar-start-location-title slds-text-color_default"},Po={key:0,class:"ma-calendar-start-location-actions"};function Oo(e,t,n,o,i,s){const a=p("Icon"),r=p("ButtonIcon"),l=p("RouteTimeAndDistance"),d=p("EventError");return v(),E("div",null,[g("div",{ref:"startLocation",class:"slds-grid",onClick:t[0]||(t[0]=(...u)=>s.showLocationSearch&&s.showLocationSearch(...u))},[g("div",No,[x(a,{category:"utility",name:"priority",variant:"inverse",size:"xx-small"})]),g("div",Ho,z(s.shift.record.maps__StartAddress__c),1),s.startOverrideable?(v(),E("div",Po,[x(r,{iconCategory:"utility",iconName:"close",size:"small",title:"Display Types",assistiveText:"Display Types",onClick:ve(s.removeLocation,["stop"])},null,8,["onClick"])])):k("",!0)],512),s.shift?.startLocation?.distance?(v(),D(l,{key:0,distance:s.shift.startLocation.distance,totalTravelTime:s.shift.startLocation.totaltraveltime,travelMode:n.travelMode,class:"start-route-time-wrapper"},null,8,["distance","totalTravelTime","travelMode"])):k("",!0),s.shift?.startLocation?.hasError?(v(),D(d,{key:1,event:s.shift.startLocation},null,8,["event"])):k("",!0)])}const zo=F(Ao,[["render",Oo]]);const $o={name:"EndLocationEvent",components:{EventError:_e,Icon:ne,ButtonIcon:Y},props:{extendedProps:{type:Object,required:!0},event:{type:Object,required:!0}},setup(){const e=q(),t=Q();return{scheduleStore:e,mainStore:t}},data(){return{travelMode:"",shiftId:"",columnId:"",isEnd:!1,eventId:""}},computed:{endOverrideable(){return this.mainStore?.settings?.routes?.endLocationId.unlocked},instance(){return this.scheduleStore.columnIdToDayInstance[this.columnId]||{}},shift(){const e=this.instance.shifts||[],[t={record:{},endLocation:{}}]=e;return t}},created(){const{shiftId:e,columnId:t,isEnd:n,eventId:o}=this.$props.extendedProps;this.shiftId=e,this.columnId=t,this.isEnd=n,this.eventId=o},methods:{removeLocation(){this.$bus.emit("remove-schedule-location",{isEnd:this.isEnd,columnId:this.columnId,shiftId:this.shiftId,eventId:this.eventId})},showLocationSearch(){this.$bus.emit("show-location-search",{element:this.$refs.endLocation,type:P.END,activeColumnId:this.columnId,date:this.$props.event.start,eventId:this.eventId})}}},Fo={class:"ma-calendar-end-location-flag"},Wo={class:"slds-col ma-calendar-end-location-title slds-text-color_default"},Bo={key:0,class:"ma-calendar-end-location-actions"};function jo(e,t,n,o,i,s){const a=p("Icon"),r=p("ButtonIcon"),l=p("EventError");return v(),E("div",null,[g("div",{ref:"endLocation",class:"slds-grid",onClick:t[0]||(t[0]=(...d)=>s.showLocationSearch&&s.showLocationSearch(...d))},[g("div",Fo,[x(a,{category:"utility",name:"priority",variant:"inverse",size:"xx-small"})]),g("div",Wo,z(s.shift.record.maps__EndAddress__c),1),s.endOverrideable?(v(),E("div",Bo,[x(r,{iconCategory:"utility",iconName:"close",size:"small",variant:"inverse",title:"Display Types",assistiveText:"Display Types",onClick:ve(s.removeLocation,["stop"])},null,8,["onClick"])])):k("",!0)],512),s.shift.endLocation.hasError?(v(),D(l,{key:0,event:s.shift.endLocation},null,8,["event"])):k("",!0)])}const Vo=F($o,[["render",jo]]),Pe=["background-color--dodger-blue","background-color--medium-orchid"],Go={name:"CalendarEvent",components:{EventError:_e,RouteTimeAndDistance:je,Icon:ne,ButtonIcon:Y,ActionMenu:me,ActionMenuItem:fe,Einstein:Ut,Pardot:qt,Priority:Jt},props:{extendedProps:{type:Object,required:!0},timeText:{type:String,required:!0},travelMode:{type:String,required:!0},calendarEvent:{type:Object,required:!0},slotDuration:{type:String,default:"00:30"}},setup(){const e=q(),t=Q();return{scheduleStore:e,mainStore:t}},data(){return{eventId:"",sfRecordId:"",columnId:"",showActionMenu:!1}},computed:{guideLicense(){return this.mainStore?.licensing?.guide||!1},textClass(){const e="slds-text-color_default";return this.nonSpatial||Pe.includes(this.bgColorClass)?"slds-text-color_inverse":e},nonSpatial(){return this.event.excludeFromRoute||!this.event.spatial},iconClass(){const e="bare";return this.nonSpatial||Pe.includes(this.bgColorClass)?"inverse":e},event(){return this.scheduleStore.events.find(e=>e.id===this.eventId)||{}},shiftId(){return this.event.shiftId},instance(){return this.scheduleStore.columnIdToDayInstance[this.columnId]||{}},shift(){const e=this.instance.shifts||[],[t={}]=e;return t},waypointOnMap(){return this.shift.routing!==null},bgColorClass(){return this.event.bgColorClass||""}},created(){const{id:e,recordId:t,columnId:n}=this.$props.extendedProps;this.eventId=e,this.sfRecordId=t,this.columnId=n},methods:{getGuideWaypointLockIcon(e){const{guideWaypoint:t={}}=e;return t.isLocked?"ma-icon-lock-closed":"ma-icon-lock-open"},updateLockStatus(){this.$bus.emit("reset-route-by-shift-id",this.shiftId);const{guideWaypoint:e={}}=this.event;e.isLocked=!e.isLocked,e&&e.hasWaypoint&&(this.scheduleStore.hasModifiedEvents=!0,this.scheduleStore.updatedEventsSet.add(this.eventId))},deleteEvent(){this.$bus.emit("delete-event-from-calendar",{sfRecordId:this.sfRecordId,shiftId:this.shiftId,eventId:this.eventId})},returnEventToQueue(){const t={...this.scheduleStore.events.find(n=>n.id===this.eventId)};this.deleteEvent(),this.scheduleStore.updatedEventsSet.delete(this.eventId),delete t.shiftId,delete t.recordId,delete t.resourceId,delete t.start,delete t.end,delete t.hasError,delete t.source,delete t.distance,delete t.totaltraveltime,delete t.errorMessage,delete t.errorTimeString,delete t.bgColorClass,t.hasError=!1,t.excludeFromRoute=!1,this.scheduleStore.addItemToQueue(t),this.scheduleStore.hasModifiedEvents=!0},setExcludeInclude(){this.$bus.emit("reset-route-by-shift-id",this.shiftId),this.event.excludeFromRoute=!this.event.excludeFromRoute;const e=this.event.excludeFromRoute?["non-spatial-cell"]:["eventCell"];this.calendarEvent.setProp("classNames",e)},normalizeEventTimeInterval(){const e=this.calendarEvent.start.getMinutes()%this.slotDuration;e>0&&(e>Math.floor(this.slotDuration/2)?this.calendarEvent.moveDates({minutes:this.slotDuration-e}):this.calendarEvent.moveDates({minutes:-e}),this.$bus.emit("reset-route-by-shift-id",this.shiftId),this.scheduleStore.hasModifiedEvents=!0,this.scheduleStore.updatedEventsSet.add(this.eventId))},navigateToRecord(){if(typeof sforce<"u"&&sforce.one&&MAPS.isMobile){sforce.one.navigateToSObject(this.sfRecordId);return}window.open(`/${this.sfRecordId}`,"_blank")?console.warn("Unable to open record info."):window.open(`/${this.sfRecordId}`,"_parent")},removeTravelSummaryAndColorFromCalendarEventsByShiftId(e){this.scheduleStore.events.forEach(t=>{t.shiftId===e&&(delete t.distance,delete t.totaltraveltime,delete t.errorMessage,delete t.errorTimeString,delete t.bgColorClass,t.hasError=!1)})},getPriorityComponent(e){switch(e){case"Einstein":return e;case"Pardot":return e;default:return"Priority"}}}},Uo={class:"fc-event-main-frame slds-p-around_xxx-small"},qo={class:"fc-event-title-container"},Jo={class:"fc-event-title fc-sticky"},Ko={class:"slds-grid"},Zo={class:"slds-grid slds-grid_vertical-align-center slds-size_8-of-12",style:{"max-height":"16px"}},Yo={key:0,class:"slds-p-horizontal_xx-small slds-grow-none"},Qo={class:"ma-stop-number"},Xo=["title"],ei={class:"slds-size_3-of-12 slds-col_bump-left slds-grid slds-grid_align-end",style:{"max-height":"16px"}},ti={key:0,class:"ma-event-controls slds-grid slds-grid_align-end"},si={key:1,class:"priority-queue-item-wrap"},ni={class:"slds-button slds-button_icon priority-queue-item"},oi={key:2,class:"ma-icon ma-icon-nonspacial slds-p-right_xx-small",style:{"font-size":"12px","padding-top":"3px"}};function ii(e,t,n,o,i,s){const a=p("Icon"),r=p("ButtonIcon"),l=p("ActionMenuItem"),d=p("ActionMenu"),u=p("RouteTimeAndDistance"),m=p("EventError");return v(),E("div",Uo,[g("div",qo,[g("div",Jo,[g("div",Ko,[g("div",Zo,[s.event.stopNumber?(v(),E("div",Yo,[g("div",Qo,z(s.event.stopNumber),1)])):k("",!0),s.guideLicense&&!s.event.isBreak?(v(),E("button",{key:1,title:"Toggle Event Lock Status",style:{width:"12px"},assistiveText:"Toggle Event Lock Status",class:$(["slds-button slds-button_icon slds-button_icon-small slds-grow-none",s.iconClass==="inverse"?"slds-button_icon-inverse":"slds-button_icon-bare"]),onClick:t[0]||(t[0]=(...h)=>s.updateLockStatus&&s.updateLockStatus(...h))},[g("span",{style:{"font-size":"12px",height:"12px"},class:$(["slds-icon slds-button__icon slds-icon-text-default ma-icon",[s.getGuideWaypointLockIcon(s.event)]])},null,2)],2)):k("",!0),s.event.isBreak?(v(),D(a,{key:2,category:"utility",name:"food_and_drink",variant:"inverse",class:"slds-grow-none",size:"xx-small"})):k("",!0),g("div",{class:$(["slds-p-left_xx-small slds-truncate",[s.textClass]]),title:s.event.title,style:{"font-weight":"bold","font-size":"10px"}},z(s.event.title),11,Xo)]),g("div",ei,[s.event.isBreak?k("",!0):(v(),E("div",ti,[s.event.spatial?(v(),D(d,{key:0,doShowSync:i.showActionMenu,"onUpdate:doShowSync":t[2]||(t[2]=h=>i.showActionMenu=h),showMoreLabel:e.$Labels.MA_SHOW_MORE,class:"slds-button_last"},{button:H(()=>[x(r,{iconCategory:"utility",iconName:"threedots_vertical",size:"x-small",variant:s.iconClass,class:"schedule-event-options-button",title:"Event Action Menu",assistiveText:"Event Action Menu",onClick:t[1]||(t[1]=ve(h=>i.showActionMenu=!0,["stop"]))},null,8,["variant"])]),default:H(()=>[j(x(l,{label:e.$Labels.MA_VIEW_RECORD,onClick:s.navigateToRecord},null,8,["label","onClick"]),[[V,i.sfRecordId]]),x(l,{label:e.$Labels.Schedule_ActionItem_Snap_Nearest_Interval_Button,onClick:s.normalizeEventTimeInterval},null,8,["label","onClick"]),x(l,{label:s.event.excludeFromRoute?e.$Labels.MA_INCLUDE_IN_OPTIMIZATION:e.$Labels.MA_EXCLUDE_FROM_OPTIMIZATION,onClick:s.setExcludeInclude},null,8,["label","onClick"]),x(l,{label:e.$Labels.MA_SCHEDULE_RETURN_TO_BE_SCHEDULED,onClick:s.returnEventToQueue},null,8,["label","onClick"])]),_:1},8,["doShowSync","showMoreLabel"])):k("",!0),x(r,{iconCategory:"utility",iconName:"close",size:"x-small",variant:s.iconClass,class:"schedule-remove-event-button",title:"Remove Event",assistiveText:"Remove Event",onClick:s.deleteEvent},null,8,["variant","onClick"])])),s.event.priorityType?(v(),E("div",si,[g("span",ni,[(v(),D(Xe(s.getPriorityComponent(s.event.priorityType)),{value:s.event.priorityValue,fieldLabel:s.event.priorityLabel||"",sfdcFieldType:s.event.priorityFieldType||"number",priorityIndex:s.event.priority,alignment:o.scheduleStore.isAgendaDay?"left":"top"},null,8,["value","fieldLabel","sfdcFieldType","priorityIndex","alignment"])),g("span",{class:$([s.textClass])},z(s.event.priority),3)])])):k("",!0),s.event.excludeFromRoute?(v(),E("div",oi)):k("",!0)])]),g("div",{class:$(["fc-event-time",[s.textClass]])},z(e.$props.timeText),3)])]),s.event.distance?(v(),D(u,{key:0,distance:s.event.distance,totalTravelTime:s.event.totaltraveltime,travelMode:n.travelMode},null,8,["distance","totalTravelTime","travelMode"])):k("",!0),s.event.hasError?(v(),D(m,{key:1,event:s.event},null,8,["event"])):k("",!0)])}const ai=F(Go,[["render",ii]]),ri={FAVORITE:Symbol("favorite"),POI:Symbol("poi")},li={components:{Picklist:et,Popover:es,Spinner:tt},props:{locationRef:{type:HTMLElement,required:!0},label:{type:String,required:!0},searchType:{type:String,default:"Start"},selectedHandler:{type:Function,required:!0}},emits:["close"],setup(){return{mainStore:Q()}},data(){return{isLoading:!1,searchTerm:"",searches:[{title:this.$Labels.MA_Search_Fav,options:async e=>{try{const{results:t}=await st.searchFavorites(e,!0);return t.forEach(n=>{n.longTitle=n.Name,delete n.Name}),t}catch(t){return console.warn("error getting results",t),[]}}},{title:this.$Labels.MA_Places,options:e=>nt({term:e,excludeType:"query"})}],Search:ri}},methods:{closeHandler(){this.isLoading||this.$emit("close")},clearSearch(){this.searchTerm=""},async selected(e){this.isLoading=!0;const t=i=>{throw this.mainStore.toast({message:i,state:"error"}),new Error(i)},n=({poi:i})=>({Name:i.title,maps__Address__c:i.addressLabelFormatted,maps__Latitude__c:i.position?.lat,maps__Longitude__c:i.position?.lng}),o=i=>({Name:i.longTitle,maps__Address__c:i.maps__Address__c,maps__Latitude__c:i.maps__Latitude__c,maps__Longitude__c:i.maps__Longitude__c});try{e.section==="POI"?this.selectedHandler(n(e)):this.selectedHandler(o(e))}catch{t(this.$Labels.Schedule_Error_Could_Not_Find_Destination)}finally{this.isLoading=!1}}}};function di(e,t,n,o,i,s){const a=p("Spinner"),r=p("Picklist"),l=p("Popover");return v(),D(l,{id:"schedule-location-search",bindTo:n.locationRef,onClose:s.closeHandler},{header:H(()=>[ce(z(n.label),1)]),content:H(()=>[g("div",null,[i.isLoading?(v(),D(a,{key:0})):k("",!0),x(r,{modelValue:i.searchTerm,"onUpdate:modelValue":t[0]||(t[0]=d=>i.searchTerm=d),inputAttrs:{id:"scheduleSetSearchLocationPicklistResource"},options:i.searches,filterable:"",labelForId:"hideError",titleKey:"longTitle",idKey:"id",labels:{search:`${e.$Labels.MA_Search_for}...`,noSearchResults:e.$Labels.MA_NO_RESULTS_FOUND},onClear:s.clearSearch,onSelectedOption:s.selected},null,8,["modelValue","options","labels","onClear","onSelectedOption"])])]),_:1},8,["bindTo","onClose"])}const ci=F(li,[["render",di]]);const X=ee(),ui={components:{ActionMenu:me,ActionMenuItem:fe,FullCalendar:Wt,ButtonIcon:Y,SLDSButton:ze,LocationSearch:ci,RouteSummary:Bt,ResourceSearch:Kt,CalendarControls:Zt,Queue:Yt,LaborLawNotify:Qt},extends:Xt,emits:["error","toggle-full-screen","mounted"],setup(){const e=q(),t=Q();return{scheduleStore:e,mainStore:t}},data(){return{seachBindingStyle:{position:"fixed",width:"1px",height:"1px",background:"red",left:0,top:0},calendarOptions:Ro.call(this),routeDefaults:null,travelMode:"",counter:0,scrollPostion:0,showCloneScheduleModal:!1,Location:{START:Symbol("start"),END:Symbol("end")},actionMenu:{date:null,isOpen:!1,activeColumnId:null,activeEl:null,coordinates:{x:null,y:null}},locationSearch:this.getDefaultLocationSearchSettings(),activeDrag:{columnId:null,type:null,rangeValidator:null},skipCalendarDateWatcherLogic:!1,locationType:"Start"}},computed:{isFullScreen(){return this.scheduleStore.viewMode===ot.FULLWIDTH_FULLHEIGHT},startOverrideable(){return this.mainStore?.settings?.routes?.startLocationId.unlocked},endOverrideable(){return this.mainStore?.settings?.routes?.endLocationId.unlocked},guideLicense(){return this.mainStore?.licensing?.guide||!1},columnIds(){switch(this.scheduleStore.calendarView){case R.AGENDA_DAY:return[0];case R.AGENDA_WEEK:return[0,1,2,3,4,5,6];default:return[]}},locationSearchAsString(){return this.locationSearch.type===P.START?"Start":"End"},locationSearchLabel(){return this.locationSearch.type===P.START?this.$Labels.MA_Set_Start_Location:this.$Labels.MA_Set_End_Location},isActionMenuDisabled(){return this.locationSearch.doRender===!0},dayViewRoute(){return this.scheduleStore.isAgendaDay?((this.scheduleStore.columnIdToDayInstance[0]||{shifts:[]}).shifts.find(t=>t.routing!=null)||{}).route:null},doDisableOptimizationDueToInvalidDuration(){return this.routeDefaults&&this.routeDefaults.duration<15}},watch:{"scheduleStore.calendarView":{async handler(e,t){t===R.TIMELINE_DAY&&(await this.updateView(e),setTimeout(()=>{this.init()},500))}}},activated(){document.querySelector(".fc-scroller.fc-scroller-liquid-absolute").scrollTop=this.scrollPostion},deactivated(){this.scrollPostion=document.querySelector(".fc-scroller.fc-scroller-liquid-absolute").scrollTop},created(){this.$bus.on("set-calendar-view-and-date",this.validateCalendarViewAndDateChange),this.$bus.on("resize-calendar",this.base__resizeCalendar),this.$bus.on("remove-schedule-location",this.removeLocation),this.$bus.on("toggle-route",this.toggleRouteByShift),this.$bus.on("hide-plotted-schedule",this.toggleMapOff),this.$bus.on("delete-event-from-calendar",this.deleteEventFromCalendar),this.$bus.on("reset-route-by-shift-id",this.resetRouteDataByShiftId),this.$bus.on("show-location-search",this.setEventLocationHandler),this.$bus.on("open-schedule",this.base__resizeCalendarDelayed)},beforeUnmount(){this.base__calendar.destroy(),this.removeAllRoutes()},unmounted(){this.$bus.off("set-calendar-view-and-date",this.validateCalendarViewAndDateChange),this.$bus.off("resize-calendar",this.base__resizeCalendar),this.$bus.off("remove-schedule-location",this.removeLocation),this.$bus.off("toggle-route",this.toggleRouteByShift),this.$bus.off("hide-plotted-schedule",this.toggleMapOff),this.$bus.off("delete-event-from-calendar",this.deleteEventFromCalendar),this.$bus.off("reset-route-by-shift-id",this.resetRouteDataByShiftId),this.$bus.off("show-location-search",this.setEventLocationHandler),this.$bus.off("open-schedule",this.base__resizeCalendarDelayed)},mounted(){this.base__calendar=this.$refs.calendar.getApi(),this.scheduleStore.setDate(this.base__getCalendarDate()),this.$emit("mounted")},methods:{async updateView(e){this.base__clearRoutes(),this.scheduleStore.setView(e),await this.$nextTick(),this.base__emitViewModeChangeEvent(e),e!==R.TIMELINE_DAY&&(this.base__calendar.changeView(e,this.scheduleStore.calendarDate),this.base__resizeCalendarDelayed())},resetRouteDataByShiftId(e){const t=Object.keys(this.scheduleStore.columnIdToDayInstance);let n;for(let o=0;o<t.length;o++){const i=this.scheduleStore.columnIdToDayInstance[o],{shifts:s=[]}=i;if(n=s.find(a=>a.id===e),n)break}!n||(this.removeTravelSummaryAndColorFromCalendarEventsByShiftId(e),n.routing&&n.routing.clearRouteOnMap(),Object.assign(n,{onMap:!1,routing:null,route:{}},{startLocation:Object.assign(n.startLocation,this.base__getBaseDefaultLocationSettings()),endLocation:Object.assign(n.endLocation,this.base__getBaseDefaultLocationSettings())}))},returnEventToQueue({eventId:e,shiftId:t,sfRecordId:n}){const i={...this.scheduleStore.events.find(s=>s.id===e)};this.deleteEventFromCalendar({eventId:e,shiftId:t,sfRecordId:n}),this.scheduleStore.updatedEventsSet.delete(e),delete i.shiftId,delete i.recordId,delete i.resourceId,delete i.start,delete i.end,delete i.hasError,delete i.source,delete i.distance,delete i.totaltraveltime,delete i.errorMessage,delete i.errorTimeString,delete i.bgColorClass,i.hasError=!1,i.excludeFromRoute=!1,this.scheduleStore.addItemToQueue(i),this.scheduleStore.hasModifiedEvents=!0},removeTravelSummaryAndColorFromCalendarEventsByShiftId(e){this.scheduleStore.events.forEach(t=>{if(t.shiftId!==e)return;delete t.distance,delete t.totaltraveltime,delete t.errorMessage,delete t.errorTimeString,delete t.bgColorClass,delete t.stopNumber,t.hasError=!1;const n=this.base__calendar.getEvents().find(i=>i.id===t.id);if(!n)return;const{extendedProps:o}=n;if(o.renderType==="calendar-event"){let{classNames:i=[]}=n;Array.isArray(i)||(i=i.split(","));let s=["eventCell"];(i.includes("non-spatial-cell")||!o.spatial)&&(s=["non-spatial-cell"]),n.setProp("classNames",s)}})},deleteEventFromCalendar({eventId:e,shiftId:t,sfRecordId:n}){this.base__calendar.getEventById(e).remove(),n?(this.scheduleStore.eventIdsForDelete.push(n),this.scheduleStore.updatedEventsSet.delete(e),this.scheduleStore.hasModifiedEvents=!0):this.scheduleStore.numEventsReceived--,this.scheduleStore.events=this.scheduleStore.events.filter(i=>i.id!==e),!this.scheduleStore.numEventsReceived&&!this.scheduleStore.eventIdsForDelete.length&&(this.scheduleStore.hasModifiedEvents=!1,this.scheduleStore.updatedEventsSet.clear()),this.resetRouteDataByShiftId(t)},toggleMapOff(){const e=Object.keys(this.scheduleStore.columnIdToDayInstance);for(let t=0;t<e.length;t++){const n=this.scheduleStore.columnIdToDayInstance[t],{shifts:o=[]}=n;for(let i=0;i<o.length;i++){const s=o[i];s.routing&&(MAPS.view.closePopup(),s.routing.hideRouteOnMap())}}},removeAllRoutes(){const e=Object.keys(this.scheduleStore.columnIdToDayInstance);for(let t=0;t<e.length;t++){const n=this.scheduleStore.columnIdToDayInstance[t],{shifts:o=[]}=n;for(let i=0;i<o.length;i++){const s=o[i];s.routing&&(MAPS.view.closePopup(),s.routing.clearRouteOnMap())}}},removeLocation({isEnd:e,columnId:t,shiftId:n,eventId:o}){const i=this.scheduleStore.columnIdToDayInstance[t],s=i.shifts.find(h=>h.id===n),{calendarDate:a}=i,r=_.fromJSDate(a).toLocaleString({weekday:"long"}).toLowerCase(),l=this.routeDefaults.workingHours[r],d=_.fromJSDate(a).setZone(this.base__getCorrectTimezone()).startOf("day");if(e){s.endLocation.isSpatial=s.endLocation.doShow=!1,s.record={...s.record,maps__EndAddress__c:null,maps__EndLocation__Latitude__s:null,maps__EndLocation__Longitude__s:null,maps__EndHour__c:l.endHour,maps__EndMinute__c:l.endMinute};const{record:h}=s;s.endTime=d.plus({hours:Number(l.endHour),minutes:Number(l.endMinute)}).toJSDate(),h.maps__StartHour__c>h.maps__EndHour__c&&(s.endTime=_.fromJSDate(s.endTime).plus({days:1}).toJSDate())}else s.startLocation.isSpatial=s.startLocation.doShow=!1,s.record={...s.record,maps__StartAddress__c:null,maps__StartLocation__Latitude__s:null,maps__StartLocation__Longitude__s:null,maps__StartHour__c:l.startHour,maps__StartMinute__c:l.startMinute},s.startTime=d.plus({hours:Number(l.startHour),minutes:Number(l.startMinute)}).toJSDate();this.base__calendar.getEventById(o).remove(),this.resetRouteDataByShiftId(s.id),this.scheduleStore.hasModifiedShifts=!0,s.doUpsert=!0,this.base__calendar.getEvents().forEach(h=>{h.id===X&&h.remove()}),this.getNonWorkingHourEvents().forEach(h=>{this.base__calendar.addEvent(h)})},validateCalendarViewAndDateChange({date:e,view:t}){this.base__navigationAction(this.setCalendarDateAndView,{date:e,view:t})},getTimeFormat(){const{timeFormat:e="hh:mm a"}=MAPS.currentUser.timeFormat,t={hour:"numeric",meridiem:"short",minute:"2-digit"};return e.indexOf("a")===-1&&(t.meridiem=!1),t},renderEvent(e){const{event:t,timeText:n}=e,{extendedProps:o={}}=t;return this.scheduleStore.isMonth?{html:`<div style="width: 100%;" class="slds-grid"><div style="font-size: 10px; font-weight: bold;" class="slds-p-left_xx-small slds-col_bump-right slds-truncate">${o.title}</div><div class="slds-grow-none slds-p-horizontal_x-small">${n}</div></div>`}:o.renderType==="location"?o.isEnd?K(Vo,{extendedProps:o,travelMode:this.travelMode,event:t}):K(zo,{extendedProps:o,travelMode:this.travelMode,event:t}):o.renderType==="non-working-hours"?"":o.renderType==="calendar-event"||o.renderType==="floating-break"?K(ai,{calendarEvent:t,extendedProps:o,timeText:n,slotDuration:this.base__calendar.getOption("slotDuration").split(":")[1],travelMode:this.travelMode}):(console.warn("found an event I do not have a template for.. just displaying time"),n)},async getEvents(e,t,n){const{start:o,end:i,timeZone:s}=e;if(!this.base__calendarId||this.scheduleStore.isLoading){n();return}this.scheduleStore.isLoading=!0,this.scheduleStore.callouts+=1;try{this.scheduleStore.isMonth||(await this.init(),this.setTimeAxisRange());const a=await this.base__fetchEvents(o,i,s,this.base__calendarId);if(this.scheduleStore.isMonth){t(a);return}this.scheduleStore.events=a,this.base__setShiftIdOnEvents(this.scheduleStore.events),await this.$nextTick();const r=this.getNonWorkingHourEvents(),l=this.getLocations();this.duplicationCheck();const d=[...this.scheduleStore.events,...r,...l];t(d)}catch(a){n(),this.base__genericPromiseErrorHandler(a)}finally{this.scheduleStore.callouts-=1,this.scheduleStore.isLoading=!1,this.scrollToFirstEvent()}},scrollToFirstEvent(){const e=_.fromJSDate(new Date).setZone(this.base__getCorrectTimezone()),t=_.fromJSDate(this.scheduleStore.calendarDate).setZone(this.base__getCorrectTimezone());let n;(this.scheduleStore.isAgendaDay&&e.toISODate()===t.toISODate()||this.scheduleStore.isAgendaWeek&&e.weekNumber===t.plus({day:1}).weekNumber)&&(n=e),this.base__calendar.getEvents().forEach(o=>{const{extendedProps:i}=o;if(i.renderType!=="non-working-hours"){const s=_.fromJSDate(o.start).setZone(this.base__getCorrectTimezone());n||(n=s),s.hour<n.hour&&(n=s)}}),n.hour!==0&&(n=n.minus({minutes:30})),this.base__calendar.scrollToTime({hour:n.hour,minute:n.minute})},udpateShift({event:e}){const{extendedProps:t}=e,{shiftId:n,isEnd:o,columnId:i}=t,s=this.scheduleStore.columnIdToDayInstance[i],a=s.shifts.find(f=>f.id===n),{record:r}=a;a.doUpsert=!0;const l=_.fromJSDate(e.start).setZone(this.base__getCorrectTimezone()),{hour:d,minute:u}=l,m=_.fromJSDate(s.calendarDate).setZone(this.base__getCorrectTimezone()).startOf("day");o?(r.maps__EndHour__c=d,r.maps__EndMinute__c=u,a.endTime=m.plus({hours:Number(d),minutes:Number(u)}).toJSDate(),r.maps__StartHour__c>r.maps__EndHour__c&&(a.endTime=_.fromJSDate(a.endTime).plus({days:1}).toJSDate())):(r.maps__StartHour__c=d,r.maps__StartMinute__c=u,a.startTime=m.plus({hours:Number(d),minutes:Number(u)}).toJSDate()),r.maps__StartHour__c>r.maps__EndHour__c&&(a.isOvernight=!0),this.scheduleStore.hasModifiedShifts=!0,this.base__calendar.getEvents().forEach(f=>{f.id===X&&f.remove()}),this.getNonWorkingHourEvents().forEach(f=>{this.base__calendar.addEvent(f)}),this.resetRouteDataByShiftId(n)},getNonWorkingHourEvents(){const e=[];return Object.values(this.scheduleStore.columnIdToDayInstance).forEach(t=>{t.shifts.forEach(n=>{e.push({id:X,title:"",groupId:X,className:["non-working-hours"],columnId:n.columnId,renderType:"non-working-hours",start:n.startTime.toISOString(),end:n.endTime.toISOString(),display:"inverse-background"})})}),e},setTimeAxisRange(){const{hasOvernightShift:e,earliestShiftTime:t,latestShiftTime:n}=this.scheduleStore.columnIdToDayInstance[0];if(e&&this.scheduleStore.calendarView===R.AGENDA_DAY){this.base__skipTimeAxisCheck=!0;const o=4,i=this.base__buildTimeAxisString(t,-o),s=this.base__buildTimeAxisString(n,24+o);this.base__setTimeAxisRange(i,s)}else this.base__skipTimeAxisCheck=!0,this.base__setTimeAxisRange("00:00:00","24:00:00")},forceCalendarRerender(){return new Promise(e=>{this.base__calendar.destroy(),setTimeout(()=>{this.base__calendar.setOption("timeZone",this.base__getCorrectTimezone()),this.base__calendar.render(),this.displayCalendarOffset(),e()},1e3)})},displayCalendarOffset(){const e=this.base__calendar.getOption("timeZone"),t=_.now().setZone(e).toFormat("ZZ"),n=document.querySelector(".fc-timegrid-axis-frame");n&&(n.innerHTML=`<div class="gmt-time-string slds-text-title_caps">GMT${t}</div>`)},init(){return new Promise(async(e,t)=>{const n={id:this.base__calendarId,name:MAPS.currentUser.Name};try{const o=await this.base__fetchRouteDefaultsByResource(n);o.duration=this.base__convertStringToMinutes(o.duration),this.travelMode=o.driveProfile,this.base__setDefaultDuration(o.duration),this.routeDefaults=o,this.base__calendar.setOption("timeZone",this.base__getCorrectTimezone()),this.displayCalendarOffset();const i=await this.base__fetchCalendarShifts(this.routeDefaults);Object.values(this.scheduleStore.columnIdToDayInstance).forEach(s=>{s.workingHours=this.routeDefaults.workingHours,this.base__setShiftsOnInstance(s,i)}),e()}catch(o){console.warn(o),t()}})},getLocations(){const e=[];return Object.values(this.scheduleStore.columnIdToDayInstance).forEach(t=>{t.shifts.forEach(n=>{const{id:o,columnId:i,startLocation:s,endLocation:a,startTime:r,endTime:l,isOvernight:d}=n;if(s.isSpatial&&i>-1&&(e.push(this.renderLocation({columnId:i,datetime:r,location:s,record:n.record,shiftId:o})),s.doShow=!0),a.isSpatial){let u=i;d&&this.scheduleStore.calendarView===R.AGENDA_WEEK&&u++,u<7&&u>-1&&(e.push(this.renderLocation({columnId:i,datetime:l,location:a,record:n.record,isEnd:!0,shiftId:o})),a.doShow=!0)}})}),this.checkOverlappingShifts(),e},renderLocation({columnId:e,datetime:t,isEnd:n=!1,record:o,shiftId:i,location:s}){const a=_.fromJSDate(t);let r=_.fromJSDate(t);r=r.plus({minutes:1});const l=s.id||ee();s.id=l;const d=a.weekday===7?0:a.weekday;return{id:l,durationEditable:!1,fullWidth:!0,title:n?o.maps__EndAddress__c:o.maps__StartAddress__c,className:["ma-calendar-location",`ma-calendar-location-${n?"end":"start"}`],columnId:e,renderType:"location",isEnd:n,constraint:{daysOfWeek:[d]},eventId:l,shiftId:i,record:o,start:a.toJSDate(),end:r.toJSDate()}},getPriorityComponent(e){switch(e){case"Einstein":return e;case"Pardot":return e;default:return"Priority"}},async eventClick(e){const{event:t}=e;if(this.scheduleStore.isMonth)this.scheduleStore.setDate(t.start),this.base__changeCalendarView(R.AGENDA_DAY);else{const{extendedProps:n}=t,o=this.scheduleStore.columnIdToDayInstance[n.columnId];if(o){const i=o.shifts.find(s=>s.id===n.shiftId);if(t&&i&&i.routing){const s=await i.routing.getWaypointMarker(t.id);await MAPS.view.openPopup({features:[s],location:s.geometry,shouldFocus:!0}),await MAPS.view.goTo(s)}}}},dateClick(e){if(this.scheduleStore.isMonth){this.scheduleStore.setDate(e.date),this.base__changeCalendarView(R.AGENDA_DAY);return}if(this.isActionMenuDisabled)return;const{date:t}=e;let n;if(this.scheduleStore.isAgendaDay){const o=this.scheduleStore.columnIdToDayInstance[0],{shifts:i}=o,[s]=i,a=s.startTime,r=s.endTime;t>=a&&t<=r&&(n=s)}else{const o=Object.keys(this.scheduleStore.columnIdToDayInstance);for(let i=0;i<o.length&&!n;i++){const s=o[i],a=this.scheduleStore.columnIdToDayInstance[s],{shifts:r=[]}=a;for(let l=0;l<r.length;l++){const d=r[l],u=d.startTime,m=d.endTime;if(t>=u&&t<=m){n=d;break}}}}if(n){const{jsEvent:o}=e;this.actionMenu.date=t,this.actionMenu.activeEl=o.srcElement,this.actionMenu.activeColumnId=n.columnId,this.actionMenu.coordinates={x:o.pageX,y:o.pageY};const{record:i={}}=n,s=[];(!i.maps__StartLocation__Latitude__s||!i.maps__StartLocation__Longitude__s)&&s.push({label:this.$Labels.MA_Start_Loc,onClick:()=>this.setLocationHandler(P.START)}),(!i.maps__EndLocation__Latitude__s||!i.maps__EndLocation__Longitude__s)&&s.push({label:this.$Labels.MA_End_Loc,onClick:()=>this.setLocationHandler(P.END)}),s.length&&it.showContextMenu({x:o.pageX,y:o.pageY,items:s})}},locationSelected(e){const t=this.locationSearch.type===P.START;let{activeColumnId:n}=this.locationSearch;n===null&&(n=this.actionMenu.activeColumnId);const o=t?"Start":"End",i=t?"startLocation":"endLocation",s={};s[`maps__${o}Location__Latitude__s`]=e.maps__Latitude__c,s[`maps__${o}Location__Longitude__s`]=e.maps__Longitude__c,s[`maps__${o}Address__c`]=e.Name;const a=this.scheduleStore.columnIdToDayInstance[n];if(a.shifts[0][i].isSpatial===!1){const b=_.fromJSDate(this.actionMenu.date).setZone(this.base__getCorrectTimezone()),T=b.hour,C=b.minute;s[`maps__${o}Hour__c`]=T,s[`maps__${o}Minute__c`]=C}else this.base__calendar.getEventById(this.locationSearch.oldLocationId).remove();a.shifts[0].record={...a.shifts[0].record,...s},a.shifts[0][i]={...a.shifts[0][i],isSpatial:!0,doShow:!1,id:ee()};const{id:r,columnId:l,endLocation:d,startLocation:u,record:m}=a.shifts[0];let h;t?h=this.renderLocation({columnId:l,datetime:this.actionMenu.date,location:u,record:m,shiftId:r}):h=this.renderLocation({columnId:l,datetime:this.actionMenu.date,location:d,record:m,isEnd:!0,shiftId:r}),this.base__calendar.addEvent(h),a.shifts[0][i].doShow=!0,this.closeLocationSearch(),this.resetRouteDataByShiftId(r);const f=this.base__calendar.getEventById(h.id);this.udpateShift({event:f})},setEventLocationHandler({type:e,element:t,activeColumnId:n,date:o,eventId:i}){this.actionMenu.date=o,this.actionMenu.activeEl=t,this.actionMenu.activeColumnId=n,this.locationSearch.el=t,this.locationSearch.type=e,this.locationSearch.doRender=!0,this.locationSearch.rect=this.actionMenu.coordinates,this.locationSearch.activeColumnId=n,this.locationSearch.oldLocationId=i},setLocationHandler(e){this.locationSearch.el=this.actionMenu.activeEl,this.locationSearch.type=e,this.locationSearch.doRender=!0,this.locationSearch.rect=this.actionMenu.coordinates},closeLocationSearch(e){e&&e.stopPropagation(),this.locationSearch={...this.getDefaultLocationSearchSettings(),rect:this.locationSearch.rect}},cloneScheduleClickHandler(){if(this.base__hasPendingChanges){this.$emit("error",this.$Labels.Schedule_Error_Cannot_Clone_With_Pending_Changes);return}this.cloneSchedule()},cloneSchedule(){this.$bus.emit("open-modal",{name:"clone-events-modal",config:{callback:({date:e,doCloneStartEndLocations:t})=>{this.base__save({cloneTargetDate:e,cloneSourceDate:this.scheduleStore.calendarDate,doClone:!0,doCloneStartEndLocations:t})}}})},updateDefaultDuration(){if(MAPS.currentUser.Id===this.base__calendarId){let{duration:e}=we.routeDefaults;e=this.base__convertStringToMinutes(e),this.base__setDefaultDuration(e),this.routeDefaults.duration=e;const{driveProfile:t}=we.routeDefaults;this.travelMode=t,this.routeDefaults.travelMode=this.travelMode}},rerenderAgendaCalendar(){window.setTimeout(()=>{this.base__next(),window.setTimeout(()=>{this.base__previous()},350)},350)},setCalendarDateAndView({date:e,view:t=R.AGENDA_DAY}){this.resetComponentState(),this.scheduleStore.setDate(e),this.base__changeCalendarView(t)},removeAllScheduledEvents(){const e=[];this.base__calendar.getEvents().forEach(n=>{const{extendedProps:o}=n,{renderType:i,recordId:s,id:a}=o;i==="calendar-event"&&(s?(this.scheduleStore.eventIdsForDelete.push(s),this.scheduleStore.hasModifiedEvents=!0):this.scheduleStore.numEventsReceived--,e.push(a),this.scheduleStore.updatedEventsSet.delete(a),this.base__calendar.getEventById(a).remove())}),!this.scheduleStore.numEventsReceived&&!this.scheduleStore.eventIdsForDelete.length&&(this.scheduleStore.hasModifiedEvents=!1,this.scheduleStore.updatedEventsSet.clear()),this.resetAllRouteData(),this.scheduleStore.events=this.scheduleStore.events.filter(n=>e.indexOf(n.id)===-1),MAPS.view.closePopup()},toggleRouteByShift(e){e.routing===null?this.generateRouteByShiftId(e.id):this.resetRouteDataByShiftId(e.id)},toggleVisibilityByShift(e){e.onMap=!e.onMap&&typeof e.onMap!="boolean"?!1:!e.onMap,e.onMap?(this.$bus.emit("hide-plotted-route"),e.routing.restoreRouteOnMap()):(MAPS.view.closePopup(),e.routing.hideRouteOnMap())},async optimizeWeekly(){const e=Object.keys(this.scheduleStore.columnIdsForOptimization);let t=this.mainStore?.settings?.routes?.optimizationType?.value||"fastest shift completion";const n=[],o=new Set;e.forEach(S=>this.scheduleStore.columnIdToDayInstance[S].shifts.forEach(L=>{this.resetRouteDataByShiftId(L.id),n.push(L),o.add(L.id)}));const i=this.base__calendar.getEvents().concat(this.buildWaypointsFromQueue());if(i.length>700){this.mainStore.toast({message:this.$Labels.Schedule_Error_More_Stops_Then_Allowed,state:"error"});return}if(i.length<2){this.mainStore.toast({message:this.$Labels.MA_Please_Add_Two_Events,state:"error"});return}const s=this.base__buildWaypointsFromEvents(i,n),{duration:a}=this.routeDefaults;function r(S,L,M){const I=_.fromJSDate(L).toUnixInteger(),w={id:ee(),duration:a,flexible:!1,start:I};return M===P.START&&S.startLocation.isSpatial?(w.lat=S.record.maps__StartLocation__Latitude__s,w.lng=S.record.maps__StartLocation__Longitude__s,w.duration=0):M===P.END&&S.endLocation.isSpatial&&(w.lat=S.record.maps__EndLocation__Latitude__s,w.lng=S.record.maps__EndLocation__Longitude__s,w.duration=0),w}const l=n.map(S=>{const{routeStartTime:L,routeEndTime:M}=this.base__getRouteTimes(S);return{first:r.call(this,S,L,P.START),last:r.call(this,S,M,P.END)}});this.scheduleStore.callouts++;const d={subType:"core",action:"schedule",version:3},{softBreaks:u=[],hardBreaks:m=[]}=s,h=m,f=[],b=[],T=[];let C=null;for(let S=0;S<l.length;S++)if(_.fromSeconds(l[S].first.start).hasSame(_.local(),"day")){C=l[S];for(let I=0;I<s.spatial.length;I++)s.spatial[I].start?_.fromSeconds(s.spatial[I].start).hasSame(_.local(),"day")?f.push(s.spatial[I]):T.push(s.spatial[I]):b.push(s.spatial[I])}if(C&&f.length){const S=C.first.start,{shift:L,adjustedWaypoints:M}=at(C,s.spatial,b,S,f);s.spatial=M,C=L}t==="least windshield time"&&(t="basic");const y={dayranges:l,waypoints:s.spatial,driveProfile:this.routeDefaults?.driveProfile||"driving",optimization_type:t,timebased:!0,blockedtimes:h.map(S=>({starttime:S.start,endtime:S.end})),softbreaks:u.map(S=>({starttime:S.start+1,endtime:S.end-1}))};this.scheduleStore.setAddToScheduleExecuted(!1);try{const{success:S,data:L,message:M}=await MAPS.Utils.Apex.invoke("maps.RemoteFunctions.MapAnythingIORequestPOST",[d,JSON.stringify(y)]);if(S){const{status:I,jobid:w}=L||{};w&&I==="Accepted"?this.pollOptimizationServer(w).then(A=>{this.processWeeklyOptimizationResponse(A),this.scheduleStore.callouts-=1}).catch(async A=>{const oe=_.fromSeconds(l[0].first.start).hasSame(_.local(),"day"),ie=A.title==="unbuildable"&&A.details,ae=A.details[0].id&&y.waypoints[1].id===A.details[0].id;if(oe&&ie&&ae){y.waypoints.shift(),y.dayranges[0].first.start=y.waypoints[0].start;try{const W=await MAPS.Utils.Apex.invoke("maps.RemoteFunctions.MapAnythingIORequestPOST",[d,JSON.stringify(y)]),qe=W.data.status,be=W.data.jobid;W.success&&be&&qe==="Accepted"&&this.pollOptimizationServer(be).then(this.processWeeklyOptimizationResponse).catch(Je=>this.$emit("error",Je)).finally(()=>{this.scheduleStore.callouts-=1})}catch(W){this.base__handleRemoteActionError(W.message)}}else this.scheduleStore.callouts-=1,this.$emit("error",A)}):(this.scheduleStore.callouts-=1,this.$emit("error",this.$Labels.Common_Refresh_And_Try_Again))}else this.scheduleStore.callouts-=1,this.$emit("error",M)}catch(S){this.base__handleRemoteActionError(S)}},pollOptimizationServer(e){return new Promise((t,n)=>{const o=setInterval(async()=>{const i={subType:"core",action:"schedule",version:3};try{const{success:s,data:a,message:r}=await MAPS.Utils.Apex.invoke("maps.RemoteFunctions.MapAnythingIORequest",[i,{jobId:e}]),{status:l,routes:d=[]}=a||{};s?l==="Completed"&&d.length?(clearInterval(o),t(d)):l==="Failed"&&(clearInterval(o),n(new Error(this.$Labels.Schedule_Job_Failed))):(clearInterval(o),n(r))}catch(s){clearInterval(o),n(s.message)}},6e3)})},processWeeklyOptimizationResponse(e){const t=(o,i)=>{const s=this.scheduleStore.queue.find(d=>d.id===i.id);if(!s)return o;this.scheduleStore.removeItemFromQueueById(s.id);let a=_.fromSeconds(i.start).toJSDate();a=this.base__adjustToUserTimezone(a);let r=_.fromSeconds(i.start).plus({seconds:i.duration}).toJSDate();r=this.base__adjustToUserTimezone(r);const l={...s,start:a,end:r};return this.scheduleStore.events.push(l),o.push(l),o};let n=[];e.forEach(o=>{n=[...n,...o.waypoints.reduce(t,[])]}),n.length&&(this.scheduleStore.hasModifiedEvents=!0,n.forEach(o=>{this.scheduleStore.updatedEventsSet.add(o.id),this.base__calendar.addEvent(o)})),this.base__setShiftIdOnEvents(n)},optimize(e){this.generateRoute(e,!0)},generateRouteByShiftId(e){this.generateRoute(e)},generateRoute(e,t=!1){this.resetRouteDataByShiftId(e);const n=Object.keys(this.scheduleStore.columnIdToDayInstance);let o;for(let a=0;a<n.length;a++){const r=this.scheduleStore.columnIdToDayInstance[a],{shifts:l=[]}=r;if(o=l.find(d=>d.id===e),o)break}if(!o){console.warn("no shift found for this id",e);return}if(t&&typeof t=="boolean"&&o.startTime<_.local().startOf("day")){this.$emit("error",this.$Labels.Schedule_Error_Start_Date_In_Past),o.onMap=!1;return}let i=this.base__calendar.getEvents();t&&(i=i.concat(this.buildWaypointsFromQueue()));const s=this.base__buildWaypointsFromEvents(i,[o]);if(o.routing=this.base__instantiateRoute(o,s,t),this.scheduleStore.isAgendaWeek){const a=O.get(o.columnId);o.routing.setStrokeColor(a.hex),o.routing.setWaypointColor(a.hex),o.routing.setWaypointIcon(a.icon)}if(!o.routing.isWaypointLengthInRange(rt.SCHEDULE)){o.onMap=!1,o.routing=null;return}this.$bus.emit("hide-plotted-route"),this.scheduleStore.callouts+=1,o.routing.setDriveProfile(this.travelMode).build("scheduling").then(()=>(o.route=o.routing.getRoute(),o.onMap=!0,this.processWaypoints(o),this.$nextTick(()=>{try{De(o.route,a=>{this.setTravelSummaryOnCalendarEvents(a.waypoints)})}catch(a){this.$emit("error",this.$Labels.Common_Refresh_And_Try_Again),console.error(`An error occurred while applying travel summary to calendar events. (${a.message})`)}}),this.$bus.emit("route-created"),Promise.resolve())).catch(a=>{if(a&&typeof a=="object"&&typeof a.message=="string"&&a.message.indexOf("Waypoint ")===0&&a.message.indexOf(" is in blockedtime")>0){const r=a.message.substring(a.message.indexOf("Waypoint ")+9,a.message.indexOf(" is in blockedtime"));a.maioCode=82019,a.details=[{id:r,errormessage:"overlapping break"}]}a&&a.maioCode&&a.details?this.base__processResponseErrors(a,o):this.base__genericPromiseErrorHandler(a),o.onMap=!1,o.routing=null}).finally(this.base__genericPromiseFinallyHandler)},processWaypoints(e){const t=[],n=this.scheduleStore.isAgendaWeek?O.get(e.columnId).class:O.get(1).class;function o(s){s.bgColorClass=n,s.distance=this.distance,s.totaltraveltime=this.totaltraveltime}function i(s,a){this.scheduleStore.removeItemFromQueueById(s.id);const r=_.fromSeconds(a.start),l={...s,columnId:e.columnId,shiftId:e.id,bgColorClass:n,start:this.base__adjustToUserTimezone(r.toJSDate()),end:this.base__adjustToUserTimezone(r.plus({seconds:a.duration}).toJSDate()),distance:a.distance,totaltraveltime:a.totaltraveltime};this.guideLicense&&(l.guideWaypoint={}),this.scheduleStore.events.push(l),t.push(l)}De(e.route,s=>{s.waypoints.forEach(r=>{const l=this.scheduleStore.events.find(u=>u.id===r.id);if(l){o.call(r,l);return}e.startLocation&&r.id===e.startLocation.id&&o.call(r,e.startLocation);const d=this.scheduleStore.queue.find(u=>u.id===r.id);!d||i.call(this,d,r)})}),t.length&&(this.scheduleStore.hasModifiedEvents=!0,t.forEach(s=>{this.scheduleStore.updatedEventsSet.add(s.id),this.base__calendar.addEvent(s)}))},duplicationCheck(){const e=new Set;this.scheduleStore.events.forEach(t=>{let n=`${t.maps__LinkId__c!==void 0?t.maps__LinkId__c:t.relationshipId}-${t.columnId}`;t.maps__LinkId__c!==void 0?n=`${t.maps__LinkId__c}`:t.relationshipId!==void 0?n=`${t.relationshipId}-${t.columnId}`:n=`${t.recordId}-${t.columnId}`,t.isMALocation&&(n=t.placeId);const o=`${n}-${t.shiftId}`;e.has(o)&&!t.isBreak?(t.hasError=!0,t.errorMessage=this.$Labels.Schedule_Duplicate_Stop):(t.hasError=!1,e.add(o))})},setTravelSummaryOnCalendarEvents(e){let t=1;const n=this.base__calendar.getEvents().sort(this.base__eventSorter);e.forEach(o=>{const i=n.find(r=>r.id===o.id);if(!i)return;const{extendedProps:s}=i,{renderType:a}=s;if(a==="calendar-event"){const r=this.scheduleStore.events.find(d=>d.id===o.id);r.stopNumber=t++;const l=r.bgColorClass||"";i.setProp("classNames",`eventCell ${l}`)}})},resetComponentState(e=!1){this.resetAllRouteData(),this.base__resetComponentState(e),this.counter=this.columnIds.length===0?0:this.columnIds[0]},resetAllRouteData(){const e=Object.values(this.scheduleStore.columnIdToDayInstance);for(let t=0;t<e.length;t++){const n=e[t],{shifts:o=[]}=n;for(let i=0;i<o.length;i++){const s=o[i];this.resetRouteDataByShiftId(s.id)}}},buildWaypointsFromQueue(){const e=[],t={duration:this.routeDefaults.duration*60,flexible:!0};return this.scheduleStore.queue.forEach(n=>{e.push({...n,...t})}),e},async setCalendarId(e){this.scheduleStore.callouts++,this.base__calendarId=e.id,this.resetComponentState(),await this.$nextTick(),setTimeout(async()=>{this.resetComponentState(),await this.init(),await this.forceCalendarRerender(),this.scheduleStore.callouts--},1e3)},async save(){return this.base__save().then(this.hardResetComponentState).catch(()=>{})},async saveIgnore(){return this.base__save({ignoreSaveChecks:!0}).then(this.hardResetComponentState).catch(()=>{})},setConfigId(e){this.base__setConfigId(e),this.base__save().then(()=>{if(this.base__storedNavigationAction&&typeof this.base__storedNavigationAction=="function"){this.base__storedNavigationAction();return}this.hardResetComponentState()})},hardResetComponentState(){this.resetComponentState(this.scheduleStore.calendarView===R.AGENDA_DAY),this.base__calendar.refetchEvents()},checkOverlappingShifts(){let e,t="";this.scheduleStore.calendarView===R.AGENDA_WEEK&&Object.values(this.scheduleStore.columnIdToDayInstance).forEach(n=>n.shifts.forEach(o=>{if(o.columnId!==0){if(o.columnId===1&&(e=this.scheduleStore.columnIdToDayInstance[0].shifts[this.scheduleStore.columnIdToDayInstance[0].shifts.length-1].endTime),e!=null&&e.valueOf()>o.startTime.valueOf()){t===""&&(t+=this.$Labels.MA_Please_Correct_Overlapping_Shifts);const i=_.fromJSDate(o.startTime),s=_.fromJSDate(e),a=MAPS.currentUser.Locale.replace("sh_ME_USD","sh-ME").replace("_","-").slice(0,5);t+=`  ${i.setLocale(a).toLocaleString(_.DATETIME_MED)} - ${s.setLocale(a).toLocaleString(_.DATETIME_MED)}`}e=o.endTime}})),t!==""?(this.scheduleStore.setOverlappingShifts(!0),this.mainStore.toast({message:t,state:"error"})):this.scheduleStore.setOverlappingShifts(!1)},getDefaultLocationSearchSettings(){return{doRender:!1,type:null,activeColumnId:null,el:null,rect:{}}}}},hi={class:"slds-grid slds-grid_vertical",style:{height:"100%"}},mi={class:"slds-grid",style:{height:"100%"}},fi={class:"slds-grid slds-grid_vertical slds-col"},vi={class:"slds-grid slds-wrap"},gi={class:"slds-col slds-size_6-of-12"},pi={class:"slds-p-right_x-small slds-grid"},yi={class:"slds-col slds-size_6-of-12 slds-grid slds-grid_align-end slds-grid_vertical-align-center"},Si={id:"schedulePanelBody",class:"slds-col slds-grid"},_i={id:"schedulePanelCalendarWrap",class:"slds-grid slds-grid_vertical slds-col"};function Ti(e,t,n,o,i,s){const a=p("LaborLawNotify"),r=p("ResourceSearch"),l=p("CalendarControls"),d=p("SLDSButton"),u=p("ButtonIcon"),m=p("ActionMenuItem"),h=p("ActionMenu"),f=p("FullCalendar"),b=p("Queue"),T=p("RouteSummary"),C=p("LocationSearch");return v(),E("div",hi,[g("div",mi,[g("div",fi,[e.base__laborLawNotify?(v(),D(a,{key:0})):k("",!0),g("div",{id:"schedulePanelHeader",style:Oe(e.base__showFullScreenToggleControl?"height: 56px":"height: 99px"),class:$([{"schedule-week-header":o.scheduleStore.isAgendaWeek},"slds-p-left_medium slds-p-right_x-small slds-p-vertical_small"])},[g("div",vi,[g("div",gi,[g("div",pi,[x(r,{class:$(["slds-col",e.base__showFullScreenToggleControl?"slds-size_4-of-12":"slds-size_12-of-12"]),storedSearchTerm:e.base__searchTerm,onSelected:s.setCalendarId},null,8,["class","storedSearchTerm","onSelected"]),j(x(l,{class:"slds-size_8-of-12",onToday:t[0]||(t[0]=y=>e.base__navigationAction(e.base__today,y)),onPrevious:t[1]||(t[1]=y=>e.base__navigationAction(e.base__previous,y)),onNext:t[2]||(t[2]=y=>e.base__navigationAction(e.base__next,y)),onViewChange:t[3]||(t[3]=y=>e.base__navigationAction(s.updateView,y)),onDateChange:t[4]||(t[4]=y=>e.base__navigationAction(e.base__changeCalendarDate,y))},null,512),[[V,e.base__showFullScreenToggleControl]])])]),g("div",yi,[j(x(d,{id:"scheduleControlSaveBtnResource",label:e.$Labels.MA_Save,variant:"success",disabled:e.base__doDisableSaveBtn,"data-pendo":"schedule_save",onClick:s.save},null,8,["label","disabled","onClick"]),[[V,e.base__showControls]]),j(x(h,{showMoreLabel:e.$Labels.MA_SHOW_MORE,class:"slds-button_last slds-float_right"},{button:H(()=>[x(u,{id:"scheduleControlDotAllFunctionsBtnResource",iconCategory:"utility",iconName:"threedots_vertical",size:"small",title:"Display Types",assistiveText:"Display Types"})]),default:H(()=>[x(m,{id:"scheduleControlRemoveAllBtnResource",label:e.$Labels.MA_SCHEDULE_REMOVE_ALL_SCHEDULED_EVENTS,onClick:s.removeAllScheduledEvents},null,8,["label","onClick"]),x(m,{id:"scheduleControlReturnAllBtnResource",label:e.$Labels.MA_SCHEDULE_RETURN_ALL_TO_BE_SCHEDULED,onClick:e.base__returnAllEventsToQueue},null,8,["label","onClick"]),j(x(m,{id:"scheduleControlCloneBtnResource",label:e.$Labels.Schedule_ActionItem_Clone_Schedule_Button,onClick:s.cloneScheduleClickHandler},null,8,["label","onClick"]),[[V,o.scheduleStore.isAgendaDay]])]),_:1},8,["showMoreLabel"]),[[V,e.base__showControls]]),e.base__showFullScreenToggleControl?(v(),D(u,{key:0,iconCategory:"utility",iconName:s.isFullScreen?"contract":"expand",size:"small",title:"Display Types",assistiveText:"Display Types",onClick:t[5]||(t[5]=y=>e.$emit("toggle-full-screen"))},null,8,["iconName"])):k("",!0)]),j(x(l,{style:{"margin-top":"10px"},class:"slds-col slds-size_12-of-12",onToday:t[6]||(t[6]=y=>e.base__navigationAction(e.base__today,y)),onPrevious:t[7]||(t[7]=y=>e.base__navigationAction(e.base__previous,y)),onNext:t[8]||(t[8]=y=>e.base__navigationAction(e.base__next,y)),onViewChange:t[9]||(t[9]=y=>e.base__navigationAction(s.updateView,y)),onDateChange:t[10]||(t[10]=y=>e.base__navigationAction(e.base__changeCalendarDate,y))},null,512),[[V,!e.base__showFullScreenToggleControl]])])],6),g("div",Si,[g("div",_i,[x(f,{id:"schedule-calendar",ref:"calendar",class:"ma-calendar slds-grid slds-grid_vertical slds-col",options:i.calendarOptions},null,8,["options"])]),o.scheduleStore.isAgendaDay?(v(),D(b,{key:0,doDisableOptimizationDueToInvalidDuration:s.doDisableOptimizationDueToInvalidDuration,allowOptimization:!0,eventDuration:i.routeDefaults?.duration||30,onForceCalendarResize:e.base__resizeCalendar,onOptimize:s.optimize},null,8,["doDisableOptimizationDueToInvalidDuration","eventDuration","onForceCalendarResize","onOptimize"])):k("",!0)]),s.dayViewRoute!=null?(v(),D(T,{key:1,route:s.dayViewRoute,hidePrintIcons:!0,hideTrafficData:!0},null,8,["route"])):k("",!0)]),i.locationSearch.doRender?(v(),D(C,{key:0,locationRef:i.locationSearch.el,label:s.locationSearchLabel,selectedHandler:s.locationSelected,searchType:s.locationSearchAsString,onClose:s.closeLocationSearch},null,8,["locationRef","label","selectedHandler","searchType","onClose"])):k("",!0),o.scheduleStore.isAgendaWeek?(v(),D(b,{key:1,allowOptimization:!0,viewMode:o.scheduleStore.viewMode,eventDuration:i.routeDefaults?.duration||30,doDisableOptimizationDueToInvalidDuration:s.doDisableOptimizationDueToInvalidDuration,class:"schedule-week-queue",onForceCalendarResize:e.base__resizeCalendar,onOptimize:s.optimizeWeekly},null,8,["viewMode","eventDuration","doDisableOptimizationDueToInvalidDuration","onForceCalendarResize","onOptimize"])):k("",!0)])])}const Mi=F(ui,[["render",Ti],["__scopeId","data-v-082b2674"]]);export{Mi as default};
